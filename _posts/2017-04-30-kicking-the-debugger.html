---
layout: post
title: "Kicking the Debugger habit"
tags: [debugger,debugging,bugs]
description: "How to kick the step through debugging habit"
keywords: f#, fsharp, debugger, debugging, bugs
---
<p>This post covers my experience of giving up breakpoint and step-through debugging.</p>
<h3>My Domain</h3>
<p>There are some interesting features of the domain I work in that have led me here.
Financial analytics tend to compose many algorithms such as curve fitting, statistics, monte carlo and optimisation.
The public API on the other hand is very simple: given this portfolio, return the risks associated.</p>
<p>A bug report is more likely to be 'this risk number looks a little odd' rather than 'an exception was thrown and here is the stack trace'.
I can't agree with the idea that you should only unit test your public APIs.
Rather, this should be: you need to unit test your public APIs, but if your domain is sufficiently complex, you also need to unit test internal modules.
What is key is if a bug report queries an API result how quickly could you investigate and resolve any potential issue?</p>
<h3>What's wrong with debugging?</h3>
<p>In my field:</p>
<ul>
<li>It's not scalable - for larger code paths setting breakpoints and stepping through is just not feasible. It's like finding a needle in a haystack.</li>
<li>It's limited in power - even mature debugging frameworks such as in Visual Studio are limited in the kind of conditional logic you can use while debugging.</li>
<li>It's time consuming - many a good hour can be spent pressing F5/F10/F11 in a zombie like state only to restart and try again.</li>
</ul>
<img style="border:1px solid black" src="{{site.baseurl}}public/twitter/debugging.png" title="debugging"/>
<h3>What's the alternative?</h3>
<p>Since starting to use <a href="https://github.com/haf/expecto">Expecto</a>, I've been using the command line to run unit tests.
<a href="https://github.com/haf/expecto">Expecto</a> does integrate with Visual Studio and can even do live unit testing in VS Code.
I've found using a set of commands I've built up in FAKE to be more flexible and productive e.g.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="i">test</span> <span class="i">integration</span>
    <span class="i">test</span> <span class="i">all</span>
    <span class="i">test</span> <span class="n">64</span> <span class="i">debug</span> <span class="o">--</span><span class="i">stress</span> <span class="n">2</span>
</code></pre></td>
</tr>
</table>
<p><a href="https://github.com/haf/expecto">Expecto</a> encourages using normal code for organisation, setup &amp; teardown and parameterisation of tests, instead of a limited framework of attributes.</p>
<p>Now apply this concept to debugging.
With a debug module in the core of a codebase that is conditional on the debug configuration, code can be annotated with validation and some debug output.
The command line records a history of the test results and validation output.
Once complete, compiling in release ensures all diagnostic code is removed.</p>
<p>This started out as simple functions to <code>printfn</code> data being sequenced and piped, but expanded into functions to count calls, check for NaNs globally, serialize function inputs and outputs, test convergence of numbers etc.
This is normal code and there is huge scope for adding conditional logic.</p>
<h3>Conclusion</h3>
<p>Kicking the debugger habit has given me a productivity boost.
It forces me to think more logically about how I validate and break down a problem.</p>
<p>It also reduces the complexity of the tooling.
Finding and fixing bugs feels more like coding and unit testing.
I can use a simpler code editor plus the command line.</p>
<p>The result is I now have more confidence that once I've created the initial bug test I will be able to resolve it quickly.</p>
<h3>Appendix</h3>
<p>I've been asked for some sample code from the debug module.
The code below should hopefully start to give an idea of what can be done.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
<span class="l">49: </span>
<span class="l">50: </span>
<span class="l">51: </span>
<span class="l">52: </span>
<span class="l">53: </span>
<span class="l">54: </span>
<span class="l">55: </span>
<span class="l">56: </span>
<span class="l">57: </span>
<span class="l">58: </span>
<span class="l">59: </span>
<span class="l">60: </span>
<span class="l">61: </span>
<span class="l">62: </span>
<span class="l">63: </span>
<span class="l">64: </span>
<span class="l">65: </span>
<span class="l">66: </span>
<span class="l">67: </span>
<span class="l">68: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">//#if DEBUG</span>
[&lt;<span onmouseout="hideTip(event, 'fs3', 4)" onmouseover="showTip(event, 'fs3', 4)" class="i">AutoOpen</span>&gt;]
<span class="k">module</span> <span class="i">OverflowAndNaNCheck</span> <span class="o">=</span>
    <span class="k">open</span> <span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="i">Checked</span>

    <span class="k">let</span> <span class="k">inline</span> <span class="k">private</span> <span class="i">isNaN</span> <span class="i">v</span> <span class="o">=</span> <span class="k">match</span> <span onmouseout="hideTip(event, 'fs5', 6)" onmouseover="showTip(event, 'fs5', 6)" class="i">box</span> <span class="i">v</span> <span class="k">with</span> | <span class="o">:?</span> <span onmouseout="hideTip(event, 'fs6', 7)" onmouseover="showTip(event, 'fs6', 7)" class="i">float</span> <span class="k">as</span> <span class="i">v</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="i">Double</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="i">IsNaN</span> <span class="i">v</span> | _ <span class="k">-&gt;</span> <span class="k">false</span>
    <span class="k">let</span> <span class="k">inline</span> (<span class="o">/</span>) <span class="i">a</span> <span class="i">b</span> <span class="o">=</span> <span class="k">let</span> <span class="i">c</span> <span class="o">=</span> <span class="i">a</span><span class="o">/</span><span class="i">b</span> <span class="k">in</span> <span class="k">if</span> <span class="i">isNaN</span> <span class="i">c</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="i">failwithf</span> <span class="s">&quot;NaN found: %A / %A = %A&quot;</span> <span class="i">a</span> <span class="i">b</span> <span class="i">c</span> <span class="k">else</span> <span class="i">c</span>
    <span class="k">let</span> <span class="k">inline</span> (<span class="o">+</span>) <span class="i">a</span> <span class="i">b</span> <span class="o">=</span> <span class="k">let</span> <span class="i">c</span> <span class="o">=</span> <span class="i">a</span><span class="o">+</span><span class="i">b</span> <span class="k">in</span> <span class="k">if</span> <span class="i">isNaN</span> <span class="i">c</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs9', 11)" onmouseover="showTip(event, 'fs9', 11)" class="i">failwithf</span> <span class="s">&quot;NaN found: %A + %A = %A&quot;</span> <span class="i">a</span> <span class="i">b</span> <span class="i">c</span> <span class="k">else</span> <span class="i">c</span>
    <span class="k">let</span> <span class="k">inline</span> (<span class="o">-</span>) <span class="i">a</span> <span class="i">b</span> <span class="o">=</span> <span class="k">let</span> <span class="i">c</span> <span class="o">=</span> <span class="i">a</span><span class="o">-</span><span class="i">b</span> <span class="k">in</span> <span class="k">if</span> <span class="i">isNaN</span> <span class="i">c</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs9', 12)" onmouseover="showTip(event, 'fs9', 12)" class="i">failwithf</span> <span class="s">&quot;NaN found: %A - %A = %A&quot;</span> <span class="i">a</span> <span class="i">b</span> <span class="i">c</span> <span class="k">else</span> <span class="i">c</span>
    <span class="k">let</span> <span class="k">inline</span> <span class="o">(*)</span> <span class="i">a</span> <span class="i">b</span> <span class="o">=</span> <span class="k">let</span> <span class="i">c</span> <span class="o">=</span> <span class="i">a</span><span class="o">*</span><span class="i">b</span> <span class="k">in</span> <span class="k">if</span> <span class="i">isNaN</span> <span class="i">c</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs9', 13)" onmouseover="showTip(event, 'fs9', 13)" class="i">failwithf</span> <span class="s">&quot;NaN found: %A * %A = %A&quot;</span> <span class="i">a</span> <span class="i">b</span> <span class="i">c</span> <span class="k">else</span> <span class="i">c</span>
    <span class="k">let</span> <span class="k">inline</span> ( <span class="o">**</span> ) <span class="i">a</span> <span class="i">b</span> <span class="o">=</span> <span class="k">let</span> <span class="i">c</span> <span class="o">=</span> <span class="i">a</span><span class="o">**</span><span class="i">b</span> <span class="k">in</span> <span class="k">if</span> <span class="i">isNaN</span> <span class="i">c</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs9', 14)" onmouseover="showTip(event, 'fs9', 14)" class="i">failwithf</span> <span class="s">&quot;NaN found: %A ** %A = %A&quot;</span> <span class="i">a</span> <span class="i">b</span> <span class="i">c</span> <span class="k">else</span> <span class="i">c</span>
    <span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs10', 15)" onmouseover="showTip(event, 'fs10', 15)" class="i">sqrt</span> <span class="i">a</span> <span class="o">=</span> <span class="k">let</span> <span class="i">c</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 16)" onmouseover="showTip(event, 'fs10', 16)" class="i">sqrt</span> <span class="i">a</span> <span class="k">in</span> <span class="k">if</span> <span class="i">isNaN</span> <span class="i">c</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs9', 17)" onmouseover="showTip(event, 'fs9', 17)" class="i">failwithf</span> <span class="s">&quot;NaN found: sqrt %A = %A&quot;</span> <span class="i">a</span> <span class="i">c</span> <span class="k">else</span> <span class="i">c</span>
    <span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs11', 18)" onmouseover="showTip(event, 'fs11', 18)" class="i">log</span> <span class="i">a</span> <span class="o">=</span> <span class="k">let</span> <span class="i">c</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs11', 19)" onmouseover="showTip(event, 'fs11', 19)" class="i">log</span> <span class="i">a</span> <span class="k">in</span> <span class="k">if</span> <span class="i">isNaN</span> <span class="i">c</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs9', 20)" onmouseover="showTip(event, 'fs9', 20)" class="i">failwithf</span> <span class="s">&quot;NaN found: log %A = %A&quot;</span> <span class="i">a</span> <span class="i">c</span> <span class="k">else</span> <span class="i">c</span>
    <span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs12', 21)" onmouseover="showTip(event, 'fs12', 21)" class="i">log10</span> <span class="i">a</span> <span class="o">=</span> <span class="k">let</span> <span class="i">c</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 22)" onmouseover="showTip(event, 'fs12', 22)" class="i">log10</span> <span class="i">a</span> <span class="k">in</span> <span class="k">if</span> <span class="i">isNaN</span> <span class="i">c</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs9', 23)" onmouseover="showTip(event, 'fs9', 23)" class="i">failwithf</span> <span class="s">&quot;NaN found: log10 %A = %A&quot;</span> <span class="i">a</span> <span class="i">c</span> <span class="k">else</span> <span class="i">c</span>
    <span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs13', 24)" onmouseover="showTip(event, 'fs13', 24)" class="i">asin</span> <span class="i">a</span> <span class="o">=</span> <span class="k">let</span> <span class="i">c</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs13', 25)" onmouseover="showTip(event, 'fs13', 25)" class="i">asin</span> <span class="i">a</span> <span class="k">in</span> <span class="k">if</span> <span class="i">isNaN</span> <span class="i">c</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs9', 26)" onmouseover="showTip(event, 'fs9', 26)" class="i">failwithf</span> <span class="s">&quot;NaN found: asin %A = %A&quot;</span> <span class="i">a</span> <span class="i">c</span> <span class="k">else</span> <span class="i">c</span>
    <span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs14', 27)" onmouseover="showTip(event, 'fs14', 27)" class="i">acos</span> <span class="i">a</span> <span class="o">=</span> <span class="k">let</span> <span class="i">c</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs14', 28)" onmouseover="showTip(event, 'fs14', 28)" class="i">acos</span> <span class="i">a</span> <span class="k">in</span> <span class="k">if</span> <span class="i">isNaN</span> <span class="i">c</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs9', 29)" onmouseover="showTip(event, 'fs9', 29)" class="i">failwithf</span> <span class="s">&quot;NaN found: acos %A = %A&quot;</span> <span class="i">a</span> <span class="i">c</span> <span class="k">else</span> <span class="i">c</span>
    <span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs15', 30)" onmouseover="showTip(event, 'fs15', 30)" class="i">atan</span> <span class="i">a</span> <span class="o">=</span> <span class="k">let</span> <span class="i">c</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 31)" onmouseover="showTip(event, 'fs15', 31)" class="i">atan</span> <span class="i">a</span> <span class="k">in</span> <span class="k">if</span> <span class="i">isNaN</span> <span class="i">c</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs9', 32)" onmouseover="showTip(event, 'fs9', 32)" class="i">failwithf</span> <span class="s">&quot;NaN found: atan %A = %A&quot;</span> <span class="i">a</span> <span class="i">c</span> <span class="k">else</span> <span class="i">c</span>

<span class="k">module</span> <span class="i">Dbg</span> <span class="o">=</span>
    <span class="k">let</span> <span class="k">private</span> <span class="i">rand</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 33)" onmouseover="showTip(event, 'fs16', 33)" class="i">Random</span>()
    <span class="k">let</span> <span class="k">mutable</span> <span class="k">private</span> <span class="i">randN</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs17', 34)" onmouseover="showTip(event, 'fs17', 34)" class="i">None</span>
    <span class="k">type</span> <span class="i">atRandom</span>(<span class="i">n</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs18', 35)" onmouseover="showTip(event, 'fs18', 35)" class="i">int</span>) <span class="o">=</span>
        <span class="k">do</span>
            <span class="i">randN</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs19', 36)" onmouseover="showTip(event, 'fs19', 36)" class="i">Some</span> <span class="i">n</span>
        <span class="k">interface</span> <span onmouseout="hideTip(event, 'fs20', 37)" onmouseover="showTip(event, 'fs20', 37)" class="i">IDisposable</span> <span class="k">with</span>
            <span class="k">member</span> <span class="i">__</span><span class="o">.</span><span class="i">Dispose</span>() <span class="o">=</span> <span class="i">randN</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs17', 38)" onmouseover="showTip(event, 'fs17', 38)" class="i">None</span>
    <span class="k">let</span> <span class="i">write</span> <span class="i">fmt</span> <span class="o">=</span>
        <span class="k">let</span> <span class="i">sb</span> <span class="o">=</span>
            <span class="k">let</span> <span class="i">n</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 39)" onmouseover="showTip(event, 'fs21', 39)" class="i">DateTime</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 40)" onmouseover="showTip(event, 'fs22', 40)" class="i">Now</span>
            <span class="k">let</span> <span class="i">sb</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs23', 41)" onmouseover="showTip(event, 'fs23', 41)" class="i">StringBuilder</span>(<span class="s">&quot;DEBUG &quot;</span>)
            <span class="i">sb</span><span class="o">.</span><span class="i">Append</span>(<span class="i">n</span><span class="o">.</span><span class="i">ToString</span>(<span class="s">&quot;dd MMM HH:mm:ss.fffffff&quot;</span>)) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 42)" onmouseover="showTip(event, 'fs24', 42)" class="i">ignore</span>
            <span class="i">sb</span><span class="o">.</span><span class="i">Append</span>(<span class="s">&quot;&gt; &quot;</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs24', 43)" onmouseover="showTip(event, 'fs24', 43)" class="i">ignore</span>
            <span class="i">sb</span>
        <span onmouseout="hideTip(event, 'fs25', 44)" onmouseover="showTip(event, 'fs25', 44)" class="i">Printf</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 45)" onmouseover="showTip(event, 'fs26', 45)" class="i">kbprintf</span> (<span class="k">fun</span> () <span class="k">-&gt;</span>
            <span class="k">if</span> <span onmouseout="hideTip(event, 'fs27', 46)" onmouseover="showTip(event, 'fs27', 46)" class="i">Option</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs28', 47)" onmouseover="showTip(event, 'fs28', 47)" class="i">isNone</span> <span class="i">randN</span> <span class="o">||</span> <span onmouseout="hideTip(event, 'fs27', 48)" onmouseover="showTip(event, 'fs27', 48)" class="i">Option</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs29', 49)" onmouseover="showTip(event, 'fs29', 49)" class="i">get</span> <span class="i">randN</span> <span class="o">|&gt;</span> <span class="i">rand</span><span class="o">.</span><span class="i">Next</span> <span class="o">=</span> <span class="n">0</span> <span class="k">then</span>
                <span class="k">let</span> <span class="i">old</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs30', 50)" onmouseover="showTip(event, 'fs30', 50)" class="i">Console</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 51)" onmouseover="showTip(event, 'fs31', 51)" class="i">ForegroundColor</span>
                <span class="k">try</span>
                    <span onmouseout="hideTip(event, 'fs30', 52)" onmouseover="showTip(event, 'fs30', 52)" class="i">Console</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 53)" onmouseover="showTip(event, 'fs31', 53)" class="i">ForegroundColor</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs32', 54)" onmouseover="showTip(event, 'fs32', 54)" class="i">ConsoleColor</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 55)" onmouseover="showTip(event, 'fs33', 55)" class="i">Red</span>
                    <span class="i">sb</span><span class="o">.</span><span class="i">ToString</span>() <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs30', 56)" onmouseover="showTip(event, 'fs30', 56)" class="i">Console</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 57)" onmouseover="showTip(event, 'fs34', 57)" class="i">WriteLine</span>
                <span class="k">finally</span>
                    <span onmouseout="hideTip(event, 'fs30', 58)" onmouseover="showTip(event, 'fs30', 58)" class="i">Console</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 59)" onmouseover="showTip(event, 'fs31', 59)" class="i">ForegroundColor</span> <span class="o">&lt;-</span> <span class="i">old</span>
        ) <span class="i">sb</span> <span class="i">fmt</span>
    <span class="k">let</span> <span class="i">writeIf</span> <span class="i">condition</span> <span class="i">fmt</span> <span class="o">=</span> <span class="k">if</span> <span class="i">condition</span>() <span class="k">then</span> <span class="i">write</span> <span class="i">fmt</span>
    <span class="k">let</span> <span class="i">runIf</span> <span class="i">condition</span> <span class="i">fn</span> <span class="o">=</span> <span class="k">if</span> <span class="i">condition</span>() <span class="k">then</span> <span class="i">fn</span>()
    <span class="k">let</span> <span class="i">pipe</span> <span class="i">fmt</span> <span class="o">=</span> <span class="k">fun</span> <span class="i">a</span> <span class="k">-&gt;</span> <span class="i">write</span> <span class="i">fmt</span> <span class="i">a</span>; <span class="i">a</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 60)" onmouseover="showTip(event, 'fs35', 60)" class="i">seq</span> <span class="i">desc</span> <span class="i">s</span> <span class="o">=</span>
        <span class="k">let</span> <span class="i">s</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs36', 61)" onmouseover="showTip(event, 'fs36', 61)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs37', 62)" onmouseover="showTip(event, 'fs37', 62)" class="i">cache</span> <span class="i">s</span>
        <span onmouseout="hideTip(event, 'fs36', 63)" onmouseover="showTip(event, 'fs36', 63)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs38', 64)" onmouseover="showTip(event, 'fs38', 64)" class="i">iter</span> (<span class="i">write</span> <span class="s">&quot;%s: %A&quot;</span> <span class="i">desc</span>) <span class="i">s</span>
        <span class="i">s</span>
    <span class="k">let</span> <span class="i">fun1</span> <span class="i">desc</span> (<span class="i">f</span><span class="o">:</span><span class="o">&#39;</span><span class="i">a</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">b</span>) <span class="o">=</span> <span class="k">fun</span> <span class="i">a</span> <span class="k">-&gt;</span> <span class="k">let</span> <span class="i">b</span> <span class="o">=</span> <span class="i">f</span> <span class="i">a</span> <span class="k">in</span> <span class="i">write</span> <span class="s">&quot;%s - Input: %A\t\t Output: %A&quot;</span> <span class="i">desc</span> <span class="i">a</span> <span class="i">b</span>; <span class="i">b</span>
    <span class="k">let</span> <span class="i">fun2</span> <span class="i">desc</span> (<span class="i">f</span><span class="o">:</span><span class="o">&#39;</span><span class="i">a</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">b</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">c</span>) <span class="o">=</span> <span class="k">fun</span> <span class="i">a</span> <span class="i">b</span> <span class="k">-&gt;</span> <span class="k">let</span> <span class="i">c</span> <span class="o">=</span> <span class="i">f</span> <span class="i">a</span> <span class="i">b</span> <span class="k">in</span> <span class="i">write</span> <span class="s">&quot;%s - Input: %A\t\t Output: %A&quot;</span> <span class="i">desc</span> (<span class="i">a</span>,<span class="i">b</span>) <span class="i">c</span>; <span class="i">c</span>
    <span class="k">let</span> <span class="i">fun3</span> <span class="i">desc</span> (<span class="i">f</span><span class="o">:</span><span class="o">&#39;</span><span class="i">a</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">b</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">c</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">d</span>) <span class="o">=</span> <span class="k">fun</span> <span class="i">a</span> <span class="i">b</span> <span class="i">c</span> <span class="k">-&gt;</span> <span class="k">let</span> <span class="i">d</span> <span class="o">=</span> <span class="i">f</span> <span class="i">a</span> <span class="i">b</span> <span class="i">c</span> <span class="k">in</span> <span class="i">write</span> <span class="s">&quot;%s - Input: %A\t\t Output: %A&quot;</span> <span class="i">desc</span> (<span class="i">a</span>,<span class="i">b</span>,<span class="i">c</span>) <span class="i">d</span>; <span class="i">d</span>
    <span class="k">type</span> <span class="i">counter</span>(<span class="i">desc</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs39', 65)" onmouseover="showTip(event, 'fs39', 65)" class="i">string</span>) <span class="o">=</span>
        <span class="k">let</span> <span class="k">mutable</span> <span class="i">count</span> <span class="o">=</span> <span class="n">0</span>
        <span class="k">member</span> <span class="i">__</span><span class="o">.</span><span class="i">Count</span> <span class="o">=</span> <span class="i">count</span>
        <span class="k">member</span> <span class="i">__</span><span class="o">.</span><span class="i">Increment</span>() <span class="o">=</span> <span class="i">count</span> <span class="o">&lt;-</span> <span class="i">count</span> <span class="o">+</span> <span class="n">1</span>
        <span class="k">member</span> <span class="k">inline</span> <span class="i">m</span><span class="o">.</span><span class="i">Calls</span> <span class="i">fn</span> <span class="o">=</span> <span class="k">fun</span> <span class="i">a</span> <span class="k">-&gt;</span> <span class="i">m</span><span class="o">.</span><span class="i">Increment</span>(); <span class="i">fn</span> <span class="i">a</span>
        <span class="k">interface</span> <span onmouseout="hideTip(event, 'fs20', 66)" onmouseover="showTip(event, 'fs20', 66)" class="i">IDisposable</span> <span class="k">with</span>
            <span class="k">member</span> <span class="i">__</span><span class="o">.</span><span class="i">Dispose</span>() <span class="o">=</span> <span class="i">write</span> <span class="s">&quot;%s count = %i&quot;</span> <span class="i">desc</span> <span class="i">count</span>
    <span class="k">let</span> <span class="i">descendingChecker</span> <span class="i">desc</span> <span class="o">=</span>
        <span class="k">let</span> <span class="k">mutable</span> <span class="i">last</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs40', 67)" onmouseover="showTip(event, 'fs40', 67)" class="i">infinity</span>
        <span class="k">fun</span> <span class="i">x</span> <span class="k">-&gt;</span>
            <span class="k">if</span> <span class="i">x</span><span class="o">&gt;</span><span class="i">last</span> <span class="k">then</span> <span class="i">write</span> <span class="s">&quot;%s - should be descending but %A &gt; %A&quot;</span> <span class="i">desc</span> <span class="i">x</span> <span class="i">last</span>
            <span class="k">else</span> <span class="i">last</span><span class="o">&lt;-</span><span class="i">x</span>
    <span class="k">let</span> <span class="k">mutable</span> <span class="k">private</span> <span class="i">functionMap</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs41', 68)" onmouseover="showTip(event, 'fs41', 68)" class="i">Map</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs42', 69)" onmouseover="showTip(event, 'fs42', 69)" class="i">empty</span>
    <span class="k">let</span> <span class="i">addFun</span> (<span class="i">key</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs39', 70)" onmouseover="showTip(event, 'fs39', 70)" class="i">string</span>) (<span class="i">fn</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs43', 71)" onmouseover="showTip(event, 'fs43', 71)" class="i">unit</span><span class="k">-&gt;</span><span onmouseout="hideTip(event, 'fs43', 72)" onmouseover="showTip(event, 'fs43', 72)" class="i">unit</span>) <span class="o">=</span> <span class="i">functionMap</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs41', 73)" onmouseover="showTip(event, 'fs41', 73)" class="i">Map</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs44', 74)" onmouseover="showTip(event, 'fs44', 74)" class="i">add</span> <span class="i">key</span> <span class="i">fn</span> <span class="i">functionMap</span>
    <span class="k">let</span> <span class="i">runFun</span> (<span class="i">key</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs39', 75)" onmouseover="showTip(event, 'fs39', 75)" class="i">string</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs41', 76)" onmouseover="showTip(event, 'fs41', 76)" class="i">Map</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs45', 77)" onmouseover="showTip(event, 'fs45', 77)" class="i">find</span> <span class="i">key</span> <span class="i">functionMap</span> ()
<span class="c">//#endif</span>
</code></pre></td>
</tr>
</table>


<div class="tip" id="fs1">namespace System</div>
<div class="tip" id="fs2">namespace System.Text</div>
<div class="tip" id="fs3">Multiple items<br />type AutoOpenAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; AutoOpenAttribute<br />&#160;&#160;new : path:string -&gt; AutoOpenAttribute<br />&#160;&#160;member Path : string<br /><br />Full name: Microsoft.FSharp.Core.AutoOpenAttribute<br /><br />--------------------<br />new : unit -&gt; AutoOpenAttribute<br />new : path:string -&gt; AutoOpenAttribute</div>
<div class="tip" id="fs4">Multiple items<br />module Checked<br /><br />from Microsoft.FSharp.Core.ExtraTopLevelOperators<br /><br />--------------------<br />module Checked<br /><br />from Microsoft.FSharp.Core.Operators</div>
<div class="tip" id="fs5">val box : value:&#39;T -&gt; obj<br /><br />Full name: Microsoft.FSharp.Core.Operators.box</div>
<div class="tip" id="fs6">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.float<br /><br />--------------------<br />type float = Double<br /><br />Full name: Microsoft.FSharp.Core.float<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float<br /><br />Full name: Microsoft.FSharp.Core.float&lt;_&gt;</div>
<div class="tip" id="fs7">type Double =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;member CompareTo : value:obj -&gt; int + 1 overload<br />&#160;&#160;&#160;&#160;member Equals : obj:obj -&gt; bool + 1 overload<br />&#160;&#160;&#160;&#160;member GetHashCode : unit -&gt; int<br />&#160;&#160;&#160;&#160;member GetTypeCode : unit -&gt; TypeCode<br />&#160;&#160;&#160;&#160;member ToString : unit -&gt; string + 3 overloads<br />&#160;&#160;&#160;&#160;static val MinValue : float<br />&#160;&#160;&#160;&#160;static val MaxValue : float<br />&#160;&#160;&#160;&#160;static val Epsilon : float<br />&#160;&#160;&#160;&#160;static val NegativeInfinity : float<br />&#160;&#160;&#160;&#160;static val PositiveInfinity : float<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: System.Double</div>
<div class="tip" id="fs8">Double.IsNaN(d: float) : bool</div>
<div class="tip" id="fs9">val failwithf : format:Printf.StringFormat&lt;&#39;T,&#39;Result&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.failwithf</div>
<div class="tip" id="fs10">val sqrt : value:&#39;T -&gt; &#39;U (requires member Sqrt)<br /><br />Full name: Microsoft.FSharp.Core.Operators.sqrt</div>
<div class="tip" id="fs11">val log : value:&#39;T -&gt; &#39;T (requires member Log)<br /><br />Full name: Microsoft.FSharp.Core.Operators.log</div>
<div class="tip" id="fs12">val log10 : value:&#39;T -&gt; &#39;T (requires member Log10)<br /><br />Full name: Microsoft.FSharp.Core.Operators.log10</div>
<div class="tip" id="fs13">val asin : value:&#39;T -&gt; &#39;T (requires member Asin)<br /><br />Full name: Microsoft.FSharp.Core.Operators.asin</div>
<div class="tip" id="fs14">val acos : value:&#39;T -&gt; &#39;T (requires member Acos)<br /><br />Full name: Microsoft.FSharp.Core.Operators.acos</div>
<div class="tip" id="fs15">val atan : value:&#39;T -&gt; &#39;T (requires member Atan)<br /><br />Full name: Microsoft.FSharp.Core.Operators.atan</div>
<div class="tip" id="fs16">Multiple items<br />type Random =<br />&#160;&#160;new : unit -&gt; Random + 1 overload<br />&#160;&#160;member Next : unit -&gt; int + 2 overloads<br />&#160;&#160;member NextBytes : buffer:byte[] -&gt; unit<br />&#160;&#160;member NextDouble : unit -&gt; float<br /><br />Full name: System.Random<br /><br />--------------------<br />Random() : unit<br />Random(Seed: int) : unit</div>
<div class="tip" id="fs17">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs18">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs19">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs20">type IDisposable =<br />&#160;&#160;member Dispose : unit -&gt; unit<br /><br />Full name: System.IDisposable</div>
<div class="tip" id="fs21">Multiple items<br />type DateTime =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : ticks:int64 -&gt; DateTime + 10 overloads<br />&#160;&#160;&#160;&#160;member Add : value:TimeSpan -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddDays : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddHours : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMilliseconds : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMinutes : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMonths : months:int -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddSeconds : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddTicks : value:int64 -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddYears : value:int -&gt; DateTime<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: System.DateTime<br /><br />--------------------<br />DateTime()<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, calendar: Globalization.Calendar) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, calendar: Globalization.Calendar) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="tip" id="fs22">property DateTime.Now: DateTime</div>
<div class="tip" id="fs23">Multiple items<br />type StringBuilder =<br />&#160;&#160;new : unit -&gt; StringBuilder + 5 overloads<br />&#160;&#160;member Append : value:string -&gt; StringBuilder + 18 overloads<br />&#160;&#160;member AppendFormat : format:string * arg0:obj -&gt; StringBuilder + 4 overloads<br />&#160;&#160;member AppendLine : unit -&gt; StringBuilder + 1 overload<br />&#160;&#160;member Capacity : int with get, set<br />&#160;&#160;member Chars : int -&gt; char with get, set<br />&#160;&#160;member Clear : unit -&gt; StringBuilder<br />&#160;&#160;member CopyTo : sourceIndex:int * destination:char[] * destinationIndex:int * count:int -&gt; unit<br />&#160;&#160;member EnsureCapacity : capacity:int -&gt; int<br />&#160;&#160;member Equals : sb:StringBuilder -&gt; bool<br />&#160;&#160;...<br /><br />Full name: System.Text.StringBuilder<br /><br />--------------------<br />StringBuilder() : unit<br />StringBuilder(capacity: int) : unit<br />StringBuilder(value: string) : unit<br />StringBuilder(value: string, capacity: int) : unit<br />StringBuilder(capacity: int, maxCapacity: int) : unit<br />StringBuilder(value: string, startIndex: int, length: int, capacity: int) : unit</div>
<div class="tip" id="fs24">val ignore : value:&#39;T -&gt; unit<br /><br />Full name: Microsoft.FSharp.Core.Operators.ignore</div>
<div class="tip" id="fs25">module Printf<br /><br />from Microsoft.FSharp.Core</div>
<div class="tip" id="fs26">val kbprintf : continutation:(unit -&gt; &#39;Result) -&gt; builder:StringBuilder -&gt; format:Printf.BuilderFormat&lt;&#39;T,&#39;Result&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Printf.kbprintf</div>
<div class="tip" id="fs27">module Option<br /><br />from Microsoft.FSharp.Core</div>
<div class="tip" id="fs28">val isNone : option:&#39;T option -&gt; bool<br /><br />Full name: Microsoft.FSharp.Core.Option.isNone</div>
<div class="tip" id="fs29">val get : option:&#39;T option -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Option.get</div>
<div class="tip" id="fs30">type Console =<br />&#160;&#160;static member BackgroundColor : ConsoleColor with get, set<br />&#160;&#160;static member Beep : unit -&gt; unit + 1 overload<br />&#160;&#160;static member BufferHeight : int with get, set<br />&#160;&#160;static member BufferWidth : int with get, set<br />&#160;&#160;static member CapsLock : bool<br />&#160;&#160;static member Clear : unit -&gt; unit<br />&#160;&#160;static member CursorLeft : int with get, set<br />&#160;&#160;static member CursorSize : int with get, set<br />&#160;&#160;static member CursorTop : int with get, set<br />&#160;&#160;static member CursorVisible : bool with get, set<br />&#160;&#160;...<br /><br />Full name: System.Console</div>
<div class="tip" id="fs31">property Console.ForegroundColor: ConsoleColor</div>
<div class="tip" id="fs32">type ConsoleColor =<br />&#160;&#160;| Black = 0<br />&#160;&#160;| DarkBlue = 1<br />&#160;&#160;| DarkGreen = 2<br />&#160;&#160;| DarkCyan = 3<br />&#160;&#160;| DarkRed = 4<br />&#160;&#160;| DarkMagenta = 5<br />&#160;&#160;| DarkYellow = 6<br />&#160;&#160;| Gray = 7<br />&#160;&#160;| DarkGray = 8<br />&#160;&#160;| Blue = 9<br />&#160;&#160;...<br /><br />Full name: System.ConsoleColor</div>
<div class="tip" id="fs33">field ConsoleColor.Red = 12</div>
<div class="tip" id="fs34">Console.WriteLine() : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />Console.WriteLine(value: string) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />Console.WriteLine(value: obj) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />Console.WriteLine(value: uint64) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />Console.WriteLine(value: int64) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />Console.WriteLine(value: uint32) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />Console.WriteLine(value: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />Console.WriteLine(value: float32) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />Console.WriteLine(value: float) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />Console.WriteLine(value: decimal) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="tip" id="fs35">Multiple items<br />val seq : sequence:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.Operators.seq<br /><br />--------------------<br />type seq&lt;&#39;T&gt; = Collections.Generic.IEnumerable&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.seq&lt;_&gt;</div>
<div class="tip" id="fs36">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs37">val cache : source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.cache</div>
<div class="tip" id="fs38">val iter : action:(&#39;T -&gt; unit) -&gt; source:seq&lt;&#39;T&gt; -&gt; unit<br /><br />Full name: Microsoft.FSharp.Collections.Seq.iter</div>
<div class="tip" id="fs39">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs40">val infinity : float<br /><br />Full name: Microsoft.FSharp.Core.Operators.infinity</div>
<div class="tip" id="fs41">Multiple items<br />module Map<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type Map&lt;&#39;Key,&#39;Value (requires comparison)&gt; =<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IComparable<br />&#160;&#160;interface IEnumerable&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;<br />&#160;&#160;interface ICollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;<br />&#160;&#160;interface IDictionary&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;new : elements:seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;member Add : key:&#39;Key * value:&#39;Value -&gt; Map&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;member ContainsKey : key:&#39;Key -&gt; bool<br />&#160;&#160;override Equals : obj -&gt; bool<br />&#160;&#160;member Remove : key:&#39;Key -&gt; Map&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;...<br /><br />Full name: Microsoft.FSharp.Collections.Map&lt;_,_&gt;<br /><br />--------------------<br />new : elements:seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;</div>
<div class="tip" id="fs42">val empty&lt;&#39;Key,&#39;T (requires comparison)&gt; : Map&lt;&#39;Key,&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Map.empty</div>
<div class="tip" id="fs43">type unit = Unit<br /><br />Full name: Microsoft.FSharp.Core.unit</div>
<div class="tip" id="fs44">val add : key:&#39;Key -&gt; value:&#39;T -&gt; table:Map&lt;&#39;Key,&#39;T&gt; -&gt; Map&lt;&#39;Key,&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Map.add</div>
<div class="tip" id="fs45">val find : key:&#39;Key -&gt; table:Map&lt;&#39;Key,&#39;T&gt; -&gt; &#39;T (requires comparison)<br /><br />Full name: Microsoft.FSharp.Collections.Map.find</div>
