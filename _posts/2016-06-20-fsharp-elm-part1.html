---
layout: post
title: "F# Implementation of The Elm Architecture"
tags: [Elm,UI,GUI,WPF,Xamarin]
description: ""
keywords: elm, ui, gui, WPF, Xamarin
---
<p>This is a prototype implementation of <a href="http://guide.elm-lang.org/architecture/index.html">The Elm Architecture</a> in F#.
This post covers the UI implementation and a follow up <a href="{% post_url 2016-07-01-fsharp-elm-part2 %}">post</a> covers using it with WPF and Xamarin.</p>
<h2>Background</h2>
<p><a href="http://guide.elm-lang.org/architecture/index.html">The Elm Architecture</a> is a simple pattern for creating functional UIs.
Due to its modularity and composability it makes UI code easier to write, understand, test and reuse.</p>
<p>The UI implementation is a complete representation of the native UI.
A minimal list of UI updates is calculated from the current and future UI.
This is then used to update the native UI with as little interaction as possible.
This means the native UI renders faster and is more responsive.
It also means multiple native UI platforms can be targeted with the same application code.</p>
<h2>UI types</h2>
<p>UI events are implemented using simple functions that are mapped and combined up to the top level message event.
At the primitive UI component level events are implemented using a double <code>ref</code>.
This is so the native UI events only have to be hooked up once.
The events can be redirected quickly as the UI changes without the potential memory leak that arises from a single <code>ref</code> implementation.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Message event used on the primitive UI components.</span>
<span class="k">type</span> <span class="o">&#39;</span><span class="i">msg</span> <span onmouseout="hideTip(event, 'fs25', 56)" onmouseover="showTip(event, 'fs25', 56)" class="t">Event</span> <span class="o">=</span> (<span class="o">&#39;</span><span class="i">msg</span><span class="k">-&gt;</span><span onmouseout="hideTip(event, 'fs26', 57)" onmouseover="showTip(event, 'fs26', 57)" class="t">unit</span>) <span onmouseout="hideTip(event, 'fs27', 58)" onmouseover="showTip(event, 'fs27', 58)" class="t">ref</span> <span onmouseout="hideTip(event, 'fs27', 59)" onmouseover="showTip(event, 'fs27', 59)" class="t">ref</span>

<span class="c">/// Layout for a section of UI components.</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs28', 60)" onmouseover="showTip(event, 'fs28', 60)" class="t">Layout</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs29', 61)" onmouseover="showTip(event, 'fs29', 61)" class="p">Horizontal</span> | <span onmouseout="hideTip(event, 'fs30', 62)" onmouseover="showTip(event, 'fs30', 62)" class="p">Vertical</span>

<span class="c">/// Primitive UI components.</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs31', 63)" onmouseover="showTip(event, 'fs31', 63)" class="t">UI</span> <span class="o">=</span>
    | <span onmouseout="hideTip(event, 'fs32', 64)" onmouseover="showTip(event, 'fs32', 64)" class="p">Text</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs33', 65)" onmouseover="showTip(event, 'fs33', 65)" class="t">string</span>
    | <span onmouseout="hideTip(event, 'fs34', 66)" onmouseover="showTip(event, 'fs34', 66)" class="p">Input</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs33', 67)" onmouseover="showTip(event, 'fs33', 67)" class="t">string</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs33', 68)" onmouseover="showTip(event, 'fs33', 68)" class="t">string</span> <span onmouseout="hideTip(event, 'fs25', 69)" onmouseover="showTip(event, 'fs25', 69)" class="t">Event</span>
    | <span onmouseout="hideTip(event, 'fs35', 70)" onmouseover="showTip(event, 'fs35', 70)" class="p">Button</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs33', 71)" onmouseover="showTip(event, 'fs33', 71)" class="t">string</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs26', 72)" onmouseover="showTip(event, 'fs26', 72)" class="t">unit</span> <span onmouseout="hideTip(event, 'fs25', 73)" onmouseover="showTip(event, 'fs25', 73)" class="t">Event</span>
    | <span onmouseout="hideTip(event, 'fs36', 74)" onmouseover="showTip(event, 'fs36', 74)" class="p">Div</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs28', 75)" onmouseover="showTip(event, 'fs28', 75)" class="t">Layout</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs31', 76)" onmouseover="showTip(event, 'fs31', 76)" class="t">UI</span> <span onmouseout="hideTip(event, 'fs37', 77)" onmouseover="showTip(event, 'fs37', 77)" class="t">list</span>

<span class="c">/// UI component update and event redirection.</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs38', 78)" onmouseover="showTip(event, 'fs38', 78)" class="t">UIUpdate</span> <span class="o">=</span>
    | <span onmouseout="hideTip(event, 'fs39', 79)" onmouseover="showTip(event, 'fs39', 79)" class="p">InsertUI</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs40', 80)" onmouseover="showTip(event, 'fs40', 80)" class="t">int</span> <span onmouseout="hideTip(event, 'fs37', 81)" onmouseover="showTip(event, 'fs37', 81)" class="t">list</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs31', 82)" onmouseover="showTip(event, 'fs31', 82)" class="t">UI</span>
    | <span onmouseout="hideTip(event, 'fs41', 83)" onmouseover="showTip(event, 'fs41', 83)" class="p">UpdateUI</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs40', 84)" onmouseover="showTip(event, 'fs40', 84)" class="t">int</span> <span onmouseout="hideTip(event, 'fs37', 85)" onmouseover="showTip(event, 'fs37', 85)" class="t">list</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs31', 86)" onmouseover="showTip(event, 'fs31', 86)" class="t">UI</span>
    | <span onmouseout="hideTip(event, 'fs42', 87)" onmouseover="showTip(event, 'fs42', 87)" class="p">ReplaceUI</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs40', 88)" onmouseover="showTip(event, 'fs40', 88)" class="t">int</span> <span onmouseout="hideTip(event, 'fs37', 89)" onmouseover="showTip(event, 'fs37', 89)" class="t">list</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs31', 90)" onmouseover="showTip(event, 'fs31', 90)" class="t">UI</span>
    | <span onmouseout="hideTip(event, 'fs43', 91)" onmouseover="showTip(event, 'fs43', 91)" class="p">RemoveUI</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs40', 92)" onmouseover="showTip(event, 'fs40', 92)" class="t">int</span> <span onmouseout="hideTip(event, 'fs37', 93)" onmouseover="showTip(event, 'fs37', 93)" class="t">list</span>
    | <span onmouseout="hideTip(event, 'fs44', 94)" onmouseover="showTip(event, 'fs44', 94)" class="p">EventUI</span> <span class="k">of</span> (<span onmouseout="hideTip(event, 'fs26', 95)" onmouseover="showTip(event, 'fs26', 95)" class="t">unit</span><span class="k">-&gt;</span><span onmouseout="hideTip(event, 'fs26', 96)" onmouseover="showTip(event, 'fs26', 96)" class="t">unit</span>)

<span class="c">/// UI component including a message event.</span>
<span class="k">type</span> <span class="o">&#39;</span><span class="i">msg</span> <span onmouseout="hideTip(event, 'fs45', 97)" onmouseover="showTip(event, 'fs45', 97)" class="t">UI</span> <span class="o">=</span> {<span onmouseout="hideTip(event, 'fs46', 98)" onmouseover="showTip(event, 'fs46', 98)" class="i">UI</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs46', 99)" onmouseover="showTip(event, 'fs46', 99)" class="t">UI</span>;<span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs47', 100)" onmouseover="showTip(event, 'fs47', 100)" class="v">Event</span><span class="o">:</span><span class="o">&#39;</span><span class="i">msg</span><span class="k">-&gt;</span><span onmouseout="hideTip(event, 'fs26', 101)" onmouseover="showTip(event, 'fs26', 101)" class="t">unit</span>}

<span class="c">/// UI application.</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs48', 102)" onmouseover="showTip(event, 'fs48', 102)" class="t">App</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">msg</span>,<span class="o">&#39;</span><span class="i">model</span><span class="o">&gt;</span> <span class="o">=</span>
    {
        <span onmouseout="hideTip(event, 'fs49', 103)" onmouseover="showTip(event, 'fs49', 103)" class="i">Model</span><span class="o">:</span><span class="o">&#39;</span><span class="i">model</span>
        <span onmouseout="hideTip(event, 'fs50', 104)" onmouseover="showTip(event, 'fs50', 104)" class="i">Update</span><span class="o">:</span><span class="o">&#39;</span><span class="i">msg</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">model</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">model</span>
        <span onmouseout="hideTip(event, 'fs51', 105)" onmouseover="showTip(event, 'fs51', 105)" class="i">View</span><span class="o">:</span><span class="o">&#39;</span><span class="i">model</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">msg</span> <span onmouseout="hideTip(event, 'fs45', 106)" onmouseover="showTip(event, 'fs45', 106)" class="t">UI</span>
    }

<span class="c">/// Native UI interface.</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs52', 107)" onmouseover="showTip(event, 'fs52', 107)" class="t">INativeUI</span> <span class="o">=</span>
    <span class="k">abstract</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs53', 108)" onmouseover="showTip(event, 'fs53', 108)" class="f">Send</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs38', 109)" onmouseover="showTip(event, 'fs38', 109)" class="t">UIUpdate</span> <span onmouseout="hideTip(event, 'fs37', 110)" onmouseover="showTip(event, 'fs37', 110)" class="t">list</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs26', 111)" onmouseover="showTip(event, 'fs26', 111)" class="t">unit</span>
</code></pre></td>
</tr>
</table>
<h2>UI module</h2>
<p>The UI rendering can be made even faster by using the memoize function in larger views.
This stores a weak reference to a model and its view output.
It makes the view and diff functions quicker and can remove unnecessary UI updates.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
<span class="l">49: </span>
<span class="l">50: </span>
<span class="l">51: </span>
<span class="l">52: </span>
<span class="l">53: </span>
<span class="l">54: </span>
<span class="l">55: </span>
<span class="l">56: </span>
<span class="l">57: </span>
<span class="l">58: </span>
<span class="l">59: </span>
<span class="l">60: </span>
<span class="l">61: </span>
<span class="l">62: </span>
<span class="l">63: </span>
<span class="l">64: </span>
<span class="l">65: </span>
<span class="l">66: </span>
<span class="l">67: </span>
<span class="l">68: </span>
<span class="l">69: </span>
<span class="l">70: </span>
<span class="l">71: </span>
<span class="l">72: </span>
<span class="l">73: </span>
<span class="l">74: </span>
<span class="l">75: </span>
<span class="l">76: </span>
<span class="l">77: </span>
<span class="l">78: </span>
<span class="l">79: </span>
<span class="l">80: </span>
<span class="l">81: </span>
<span class="l">82: </span>
<span class="l">83: </span>
<span class="l">84: </span>
<span class="l">85: </span>
<span class="l">86: </span>
<span class="l">87: </span>
<span class="l">88: </span>
<span class="l">89: </span>
<span class="l">90: </span>
<span class="l">91: </span>
<span class="l">92: </span>
<span class="l">93: </span>
<span class="l">94: </span>
<span class="l">95: </span>
<span class="l">96: </span>
<span class="l">97: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">[&lt;<span onmouseout="hideTip(event, 'fs54', 112)" onmouseover="showTip(event, 'fs54', 112)" class="t">CompilationRepresentation</span>(<span onmouseout="hideTip(event, 'fs55', 113)" onmouseover="showTip(event, 'fs55', 113)" class="t">CompilationRepresentationFlags</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs56', 114)" onmouseover="showTip(event, 'fs56', 114)" class="i">ModuleSuffix</span>)&gt;]
<span class="k">module</span> <span onmouseout="hideTip(event, 'fs45', 115)" onmouseover="showTip(event, 'fs45', 115)" class="t">UI</span> <span class="o">=</span>
    <span class="c">/// Memoize view generation from model object references.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 116)" onmouseover="showTip(event, 'fs57', 116)" class="f">memoize</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">model</span> ,<span class="o">&#39;</span><span class="i">msg</span>  <span class="k">when</span> <span class="o">&#39;</span><span class="i">model</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs58', 117)" onmouseover="showTip(event, 'fs58', 117)" class="i">not</span> <span class="k">struct</span> <span class="k">and</span> <span class="o">&#39;</span><span class="i">msg</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs58', 118)" onmouseover="showTip(event, 'fs58', 118)" class="i">not</span> <span class="k">struct</span><span class="o">&gt;</span> <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs59', 119)" onmouseover="showTip(event, 'fs59', 119)" class="i">d</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs60', 120)" onmouseover="showTip(event, 'fs60', 120)" class="t">ConditionalWeakTable</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">model</span>,<span class="o">&#39;</span><span class="i">msg</span> <span onmouseout="hideTip(event, 'fs45', 121)" onmouseover="showTip(event, 'fs45', 121)" class="t">UI</span><span class="o">&gt;</span>()
        <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs61', 122)" onmouseover="showTip(event, 'fs61', 122)" class="f">view</span> <span onmouseout="hideTip(event, 'fs62', 123)" onmouseover="showTip(event, 'fs62', 123)" class="i">model</span> <span class="k">-&gt;</span>
            <span class="k">match</span> <span onmouseout="hideTip(event, 'fs59', 124)" onmouseover="showTip(event, 'fs59', 124)" class="i">d</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs63', 125)" onmouseover="showTip(event, 'fs63', 125)" class="f">TryGetValue</span> <span onmouseout="hideTip(event, 'fs62', 126)" onmouseover="showTip(event, 'fs62', 126)" class="i">model</span> <span class="k">with</span>
            |<span class="k">true</span>,<span onmouseout="hideTip(event, 'fs64', 127)" onmouseover="showTip(event, 'fs64', 127)" class="i">ui</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs64', 128)" onmouseover="showTip(event, 'fs64', 128)" class="i">ui</span>
            |<span class="k">false</span>,_ <span class="k">-&gt;</span>
                <span class="k">let</span> <span onmouseout="hideTip(event, 'fs64', 129)" onmouseover="showTip(event, 'fs64', 129)" class="i">ui</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs61', 130)" onmouseover="showTip(event, 'fs61', 130)" class="f">view</span> <span onmouseout="hideTip(event, 'fs62', 131)" onmouseover="showTip(event, 'fs62', 131)" class="i">model</span>
                <span onmouseout="hideTip(event, 'fs59', 132)" onmouseover="showTip(event, 'fs59', 132)" class="i">d</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs65', 133)" onmouseover="showTip(event, 'fs65', 133)" class="f">Add</span>(<span onmouseout="hideTip(event, 'fs62', 134)" onmouseover="showTip(event, 'fs62', 134)" class="i">model</span>,<span onmouseout="hideTip(event, 'fs64', 135)" onmouseover="showTip(event, 'fs64', 135)" class="i">ui</span>)
                <span onmouseout="hideTip(event, 'fs64', 136)" onmouseover="showTip(event, 'fs64', 136)" class="i">ui</span>

    <span class="c">/// Returns a Text display UI component.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs66', 137)" onmouseover="showTip(event, 'fs66', 137)" class="f">text</span> <span onmouseout="hideTip(event, 'fs67', 138)" onmouseover="showTip(event, 'fs67', 138)" class="i">text</span> <span class="o">=</span> {<span onmouseout="hideTip(event, 'fs45', 139)" onmouseover="showTip(event, 'fs45', 139)" class="i">UI</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs32', 140)" onmouseover="showTip(event, 'fs32', 140)" class="p">Text</span> <span onmouseout="hideTip(event, 'fs67', 141)" onmouseover="showTip(event, 'fs67', 141)" class="i">text</span>;<span onmouseout="hideTip(event, 'fs25', 142)" onmouseover="showTip(event, 'fs25', 142)" class="v">Event</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs68', 143)" onmouseover="showTip(event, 'fs68', 143)" class="f">ignore</span>}
    
    <span class="c">/// Returns a text Input UI component.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs69', 144)" onmouseover="showTip(event, 'fs69', 144)" class="f">input</span> <span onmouseout="hideTip(event, 'fs67', 145)" onmouseover="showTip(event, 'fs67', 145)" class="i">text</span> <span class="o">=</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs70', 146)" onmouseover="showTip(event, 'fs70', 146)" class="v">ev</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs27', 147)" onmouseover="showTip(event, 'fs27', 147)" class="f">ref</span> <span onmouseout="hideTip(event, 'fs68', 148)" onmouseover="showTip(event, 'fs68', 148)" class="f">ignore</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 149)" onmouseover="showTip(event, 'fs27', 149)" class="f">ref</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs71', 150)" onmouseover="showTip(event, 'fs71', 150)" class="i">ui</span> <span class="o">=</span> {<span onmouseout="hideTip(event, 'fs45', 151)" onmouseover="showTip(event, 'fs45', 151)" class="i">UI</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs34', 152)" onmouseover="showTip(event, 'fs34', 152)" class="p">Input</span>(<span onmouseout="hideTip(event, 'fs67', 153)" onmouseover="showTip(event, 'fs67', 153)" class="i">text</span>,<span onmouseout="hideTip(event, 'fs70', 154)" onmouseover="showTip(event, 'fs70', 154)" class="v">ev</span>);<span onmouseout="hideTip(event, 'fs25', 155)" onmouseover="showTip(event, 'fs25', 155)" class="v">Event</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs68', 156)" onmouseover="showTip(event, 'fs68', 156)" class="f">ignore</span>}
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs72', 157)" onmouseover="showTip(event, 'fs72', 157)" class="f">raise</span> <span onmouseout="hideTip(event, 'fs73', 158)" onmouseover="showTip(event, 'fs73', 158)" class="i">a</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs71', 159)" onmouseover="showTip(event, 'fs71', 159)" class="i">ui</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs74', 160)" onmouseover="showTip(event, 'fs74', 160)" class="v">Event</span> <span onmouseout="hideTip(event, 'fs73', 161)" onmouseover="showTip(event, 'fs73', 161)" class="i">a</span>
        (<span class="o">!</span><span onmouseout="hideTip(event, 'fs70', 162)" onmouseover="showTip(event, 'fs70', 162)" class="v">ev</span>)<span class="o">:=</span><span onmouseout="hideTip(event, 'fs72', 163)" onmouseover="showTip(event, 'fs72', 163)" class="f">raise</span>
        <span onmouseout="hideTip(event, 'fs71', 164)" onmouseover="showTip(event, 'fs71', 164)" class="i">ui</span>

    <span class="c">/// Returns a Button UI component.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs75', 165)" onmouseover="showTip(event, 'fs75', 165)" class="f">button</span> <span onmouseout="hideTip(event, 'fs67', 166)" onmouseover="showTip(event, 'fs67', 166)" class="i">text</span> <span onmouseout="hideTip(event, 'fs76', 167)" onmouseover="showTip(event, 'fs76', 167)" class="i">msg</span> <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs77', 168)" onmouseover="showTip(event, 'fs77', 168)" class="v">ev</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs27', 169)" onmouseover="showTip(event, 'fs27', 169)" class="f">ref</span> <span onmouseout="hideTip(event, 'fs68', 170)" onmouseover="showTip(event, 'fs68', 170)" class="f">ignore</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 171)" onmouseover="showTip(event, 'fs27', 171)" class="f">ref</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs78', 172)" onmouseover="showTip(event, 'fs78', 172)" class="i">ui</span> <span class="o">=</span> {<span onmouseout="hideTip(event, 'fs45', 173)" onmouseover="showTip(event, 'fs45', 173)" class="i">UI</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs35', 174)" onmouseover="showTip(event, 'fs35', 174)" class="p">Button</span>(<span onmouseout="hideTip(event, 'fs67', 175)" onmouseover="showTip(event, 'fs67', 175)" class="i">text</span>,<span onmouseout="hideTip(event, 'fs77', 176)" onmouseover="showTip(event, 'fs77', 176)" class="v">ev</span>);<span onmouseout="hideTip(event, 'fs25', 177)" onmouseover="showTip(event, 'fs25', 177)" class="v">Event</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs68', 178)" onmouseover="showTip(event, 'fs68', 178)" class="f">ignore</span>}
        (<span class="o">!</span><span onmouseout="hideTip(event, 'fs77', 179)" onmouseover="showTip(event, 'fs77', 179)" class="v">ev</span>)<span class="o">:=</span><span class="k">fun</span> () <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs78', 180)" onmouseover="showTip(event, 'fs78', 180)" class="i">ui</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs79', 181)" onmouseover="showTip(event, 'fs79', 181)" class="v">Event</span> <span onmouseout="hideTip(event, 'fs76', 182)" onmouseover="showTip(event, 'fs76', 182)" class="i">msg</span>
        <span onmouseout="hideTip(event, 'fs78', 183)" onmouseover="showTip(event, 'fs78', 183)" class="i">ui</span>

    <span class="c">/// Returns a section of UI components given a layout.</span>
    <span class="c">/// The name div comes from HTML and represents a division (or section) of the UI.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs80', 184)" onmouseover="showTip(event, 'fs80', 184)" class="f">div</span> <span onmouseout="hideTip(event, 'fs81', 185)" onmouseover="showTip(event, 'fs81', 185)" class="i">layout</span> <span onmouseout="hideTip(event, 'fs82', 186)" onmouseover="showTip(event, 'fs82', 186)" class="i">list</span> <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs78', 187)" onmouseover="showTip(event, 'fs78', 187)" class="i">ui</span> <span class="o">=</span> {<span onmouseout="hideTip(event, 'fs45', 188)" onmouseover="showTip(event, 'fs45', 188)" class="i">UI</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs36', 189)" onmouseover="showTip(event, 'fs36', 189)" class="p">Div</span>(<span onmouseout="hideTip(event, 'fs81', 190)" onmouseover="showTip(event, 'fs81', 190)" class="i">layout</span>,<span onmouseout="hideTip(event, 'fs83', 191)" onmouseover="showTip(event, 'fs83', 191)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs84', 192)" onmouseover="showTip(event, 'fs84', 192)" class="f">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs78', 193)" onmouseover="showTip(event, 'fs78', 193)" class="i">ui</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs78', 194)" onmouseover="showTip(event, 'fs78', 194)" class="i">ui</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 195)" onmouseover="showTip(event, 'fs85', 195)" class="i">UI</span>) <span onmouseout="hideTip(event, 'fs82', 196)" onmouseover="showTip(event, 'fs82', 196)" class="i">list</span>);<span onmouseout="hideTip(event, 'fs25', 197)" onmouseover="showTip(event, 'fs25', 197)" class="v">Event</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs68', 198)" onmouseover="showTip(event, 'fs68', 198)" class="f">ignore</span>}
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs86', 199)" onmouseover="showTip(event, 'fs86', 199)" class="f">raise</span> <span onmouseout="hideTip(event, 'fs87', 200)" onmouseover="showTip(event, 'fs87', 200)" class="i">a</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs78', 201)" onmouseover="showTip(event, 'fs78', 201)" class="i">ui</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs79', 202)" onmouseover="showTip(event, 'fs79', 202)" class="v">Event</span> <span onmouseout="hideTip(event, 'fs87', 203)" onmouseover="showTip(event, 'fs87', 203)" class="i">a</span>
        <span onmouseout="hideTip(event, 'fs83', 204)" onmouseover="showTip(event, 'fs83', 204)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs88', 205)" onmouseover="showTip(event, 'fs88', 205)" class="f">iter</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs89', 206)" onmouseover="showTip(event, 'fs89', 206)" class="i">i</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs89', 207)" onmouseover="showTip(event, 'fs89', 207)" class="i">i</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs79', 208)" onmouseover="showTip(event, 'fs79', 208)" class="v">Event</span><span class="o">&lt;-</span><span onmouseout="hideTip(event, 'fs86', 209)" onmouseover="showTip(event, 'fs86', 209)" class="f">raise</span>) <span onmouseout="hideTip(event, 'fs82', 210)" onmouseover="showTip(event, 'fs82', 210)" class="i">list</span>
        <span onmouseout="hideTip(event, 'fs78', 211)" onmouseover="showTip(event, 'fs78', 211)" class="i">ui</span>
    
    <span class="c">/// Returns a new UI component mapping the message event using the given function.</span>
    <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs90', 212)" onmouseover="showTip(event, 'fs90', 212)" class="f">map</span> <span onmouseout="hideTip(event, 'fs91', 213)" onmouseover="showTip(event, 'fs91', 213)" class="f">f</span> <span onmouseout="hideTip(event, 'fs78', 214)" onmouseover="showTip(event, 'fs78', 214)" class="i">ui</span> <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs92', 215)" onmouseover="showTip(event, 'fs92', 215)" class="i">ui2</span> <span class="o">=</span> {<span onmouseout="hideTip(event, 'fs45', 216)" onmouseover="showTip(event, 'fs45', 216)" class="i">UI</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs78', 217)" onmouseover="showTip(event, 'fs78', 217)" class="i">ui</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 218)" onmouseover="showTip(event, 'fs85', 218)" class="i">UI</span>;<span onmouseout="hideTip(event, 'fs25', 219)" onmouseover="showTip(event, 'fs25', 219)" class="v">Event</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs68', 220)" onmouseover="showTip(event, 'fs68', 220)" class="f">ignore</span>}
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs86', 221)" onmouseover="showTip(event, 'fs86', 221)" class="f">raise</span> <span onmouseout="hideTip(event, 'fs93', 222)" onmouseover="showTip(event, 'fs93', 222)" class="i">e</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs91', 223)" onmouseover="showTip(event, 'fs91', 223)" class="f">f</span> <span onmouseout="hideTip(event, 'fs93', 224)" onmouseover="showTip(event, 'fs93', 224)" class="i">e</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs92', 225)" onmouseover="showTip(event, 'fs92', 225)" class="i">ui2</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs94', 226)" onmouseover="showTip(event, 'fs94', 226)" class="v">Event</span>
        <span onmouseout="hideTip(event, 'fs78', 227)" onmouseover="showTip(event, 'fs78', 227)" class="i">ui</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs79', 228)" onmouseover="showTip(event, 'fs79', 228)" class="v">Event</span><span class="o">&lt;-</span><span onmouseout="hideTip(event, 'fs86', 229)" onmouseover="showTip(event, 'fs86', 229)" class="f">raise</span>
        <span onmouseout="hideTip(event, 'fs92', 230)" onmouseover="showTip(event, 'fs92', 230)" class="i">ui2</span>

    <span class="c">/// Returns a list of UI updates from two UI components.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs95', 231)" onmouseover="showTip(event, 'fs95', 231)" class="f">diff</span> <span onmouseout="hideTip(event, 'fs96', 232)" onmouseover="showTip(event, 'fs96', 232)" class="i">ui1</span> <span onmouseout="hideTip(event, 'fs92', 233)" onmouseover="showTip(event, 'fs92', 233)" class="i">ui2</span> <span class="o">=</span>
        <span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs97', 234)" onmouseover="showTip(event, 'fs97', 234)" class="f">update</span> <span onmouseout="hideTip(event, 'fs98', 235)" onmouseover="showTip(event, 'fs98', 235)" class="v">e1</span> <span onmouseout="hideTip(event, 'fs99', 236)" onmouseover="showTip(event, 'fs99', 236)" class="v">e2</span> <span class="o">=</span> <span class="k">fun</span> () <span class="k">-&gt;</span> <span class="k">let</span> <span onmouseout="hideTip(event, 'fs100', 237)" onmouseover="showTip(event, 'fs100', 237)" class="v">ev</span> <span class="o">=</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs98', 238)" onmouseover="showTip(event, 'fs98', 238)" class="v">e1</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs100', 239)" onmouseover="showTip(event, 'fs100', 239)" class="v">ev</span><span class="o">:=</span><span class="o">!</span>(<span class="o">!</span><span onmouseout="hideTip(event, 'fs99', 240)" onmouseover="showTip(event, 'fs99', 240)" class="v">e2</span>); <span onmouseout="hideTip(event, 'fs99', 241)" onmouseover="showTip(event, 'fs99', 241)" class="v">e2</span><span class="o">:=</span><span onmouseout="hideTip(event, 'fs100', 242)" onmouseover="showTip(event, 'fs100', 242)" class="v">ev</span>
        <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs101', 243)" onmouseover="showTip(event, 'fs101', 243)" class="f">diff</span> <span onmouseout="hideTip(event, 'fs102', 244)" onmouseover="showTip(event, 'fs102', 244)" class="i">ui1</span> <span onmouseout="hideTip(event, 'fs103', 245)" onmouseover="showTip(event, 'fs103', 245)" class="i">ui2</span> <span onmouseout="hideTip(event, 'fs104', 246)" onmouseover="showTip(event, 'fs104', 246)" class="i">path</span> <span onmouseout="hideTip(event, 'fs105', 247)" onmouseover="showTip(event, 'fs105', 247)" class="i">index</span> <span onmouseout="hideTip(event, 'fs106', 248)" onmouseover="showTip(event, 'fs106', 248)" class="i">diffs</span> <span class="o">=</span>
            <span class="k">match</span> <span onmouseout="hideTip(event, 'fs102', 249)" onmouseover="showTip(event, 'fs102', 249)" class="i">ui1</span>,<span onmouseout="hideTip(event, 'fs103', 250)" onmouseover="showTip(event, 'fs103', 250)" class="i">ui2</span> <span class="k">with</span>
            |_ <span class="k">when</span> <span onmouseout="hideTip(event, 'fs107', 251)" onmouseover="showTip(event, 'fs107', 251)" class="t">LanguagePrimitives</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs108', 252)" onmouseover="showTip(event, 'fs108', 252)" class="f">PhysicalEquality</span> <span onmouseout="hideTip(event, 'fs102', 253)" onmouseover="showTip(event, 'fs102', 253)" class="i">ui1</span> <span onmouseout="hideTip(event, 'fs103', 254)" onmouseover="showTip(event, 'fs103', 254)" class="i">ui2</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs106', 255)" onmouseover="showTip(event, 'fs106', 255)" class="i">diffs</span>
            |<span onmouseout="hideTip(event, 'fs32', 256)" onmouseover="showTip(event, 'fs32', 256)" class="p">Text</span> <span onmouseout="hideTip(event, 'fs109', 257)" onmouseover="showTip(event, 'fs109', 257)" class="i">t1</span>,<span onmouseout="hideTip(event, 'fs32', 258)" onmouseover="showTip(event, 'fs32', 258)" class="p">Text</span> <span onmouseout="hideTip(event, 'fs110', 259)" onmouseover="showTip(event, 'fs110', 259)" class="i">t2</span> <span class="k">-&gt;</span> <span class="k">if</span> <span class="i">t1</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs110', 260)" onmouseover="showTip(event, 'fs110', 260)" class="i">t2</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs106', 261)" onmouseover="showTip(event, 'fs106', 261)" class="i">diffs</span> <span class="k">else</span> <span onmouseout="hideTip(event, 'fs41', 262)" onmouseover="showTip(event, 'fs41', 262)" class="p">UpdateUI</span>(<span onmouseout="hideTip(event, 'fs104', 263)" onmouseover="showTip(event, 'fs104', 263)" class="i">path</span>,<span onmouseout="hideTip(event, 'fs103', 264)" onmouseover="showTip(event, 'fs103', 264)" class="i">ui2</span>)<span class="o">::</span><span onmouseout="hideTip(event, 'fs106', 265)" onmouseover="showTip(event, 'fs106', 265)" class="i">diffs</span>
            |<span onmouseout="hideTip(event, 'fs35', 266)" onmouseover="showTip(event, 'fs35', 266)" class="p">Button</span> (<span onmouseout="hideTip(event, 'fs109', 267)" onmouseover="showTip(event, 'fs109', 267)" class="i">t1</span>,<span onmouseout="hideTip(event, 'fs111', 268)" onmouseover="showTip(event, 'fs111', 268)" class="v">e1</span>),<span onmouseout="hideTip(event, 'fs35', 269)" onmouseover="showTip(event, 'fs35', 269)" class="p">Button</span> (<span onmouseout="hideTip(event, 'fs110', 270)" onmouseover="showTip(event, 'fs110', 270)" class="i">t2</span>,<span onmouseout="hideTip(event, 'fs112', 271)" onmouseover="showTip(event, 'fs112', 271)" class="v">e2</span>) <span class="k">-&gt;</span>
                <span class="k">if</span> <span onmouseout="hideTip(event, 'fs109', 272)" onmouseover="showTip(event, 'fs109', 272)" class="i">t1</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs110', 273)" onmouseover="showTip(event, 'fs110', 273)" class="i">t2</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs44', 274)" onmouseover="showTip(event, 'fs44', 274)" class="p">EventUI</span>(<span onmouseout="hideTip(event, 'fs97', 275)" onmouseover="showTip(event, 'fs97', 275)" class="f">update</span> <span onmouseout="hideTip(event, 'fs111', 276)" onmouseover="showTip(event, 'fs111', 276)" class="v">e1</span> <span onmouseout="hideTip(event, 'fs112', 277)" onmouseover="showTip(event, 'fs112', 277)" class="v">e2</span>)<span class="o">::</span><span onmouseout="hideTip(event, 'fs106', 278)" onmouseover="showTip(event, 'fs106', 278)" class="i">diffs</span> 
                <span class="k">else</span> <span onmouseout="hideTip(event, 'fs44', 279)" onmouseover="showTip(event, 'fs44', 279)" class="p">EventUI</span>(<span onmouseout="hideTip(event, 'fs97', 280)" onmouseover="showTip(event, 'fs97', 280)" class="f">update</span> <span onmouseout="hideTip(event, 'fs111', 281)" onmouseover="showTip(event, 'fs111', 281)" class="v">e1</span> <span onmouseout="hideTip(event, 'fs112', 282)" onmouseover="showTip(event, 'fs112', 282)" class="v">e2</span>)<span class="o">::</span><span onmouseout="hideTip(event, 'fs41', 283)" onmouseover="showTip(event, 'fs41', 283)" class="p">UpdateUI</span>(<span onmouseout="hideTip(event, 'fs104', 284)" onmouseover="showTip(event, 'fs104', 284)" class="i">path</span>,<span onmouseout="hideTip(event, 'fs103', 285)" onmouseover="showTip(event, 'fs103', 285)" class="i">ui2</span>)<span class="o">::</span><span onmouseout="hideTip(event, 'fs106', 286)" onmouseover="showTip(event, 'fs106', 286)" class="i">diffs</span>
            |<span onmouseout="hideTip(event, 'fs34', 287)" onmouseover="showTip(event, 'fs34', 287)" class="p">Input</span> (<span onmouseout="hideTip(event, 'fs109', 288)" onmouseover="showTip(event, 'fs109', 288)" class="i">t1</span>,<span onmouseout="hideTip(event, 'fs113', 289)" onmouseover="showTip(event, 'fs113', 289)" class="v">e1</span>),<span onmouseout="hideTip(event, 'fs34', 290)" onmouseover="showTip(event, 'fs34', 290)" class="p">Input</span> (<span onmouseout="hideTip(event, 'fs110', 291)" onmouseover="showTip(event, 'fs110', 291)" class="i">t2</span>,<span onmouseout="hideTip(event, 'fs114', 292)" onmouseover="showTip(event, 'fs114', 292)" class="v">e2</span>) <span class="k">-&gt;</span> 
                <span class="k">if</span> <span onmouseout="hideTip(event, 'fs109', 293)" onmouseover="showTip(event, 'fs109', 293)" class="i">t1</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs110', 294)" onmouseover="showTip(event, 'fs110', 294)" class="i">t2</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs44', 295)" onmouseover="showTip(event, 'fs44', 295)" class="p">EventUI</span>(<span onmouseout="hideTip(event, 'fs97', 296)" onmouseover="showTip(event, 'fs97', 296)" class="f">update</span> <span onmouseout="hideTip(event, 'fs113', 297)" onmouseover="showTip(event, 'fs113', 297)" class="v">e1</span> <span onmouseout="hideTip(event, 'fs114', 298)" onmouseover="showTip(event, 'fs114', 298)" class="v">e2</span>)<span class="o">::</span><span onmouseout="hideTip(event, 'fs106', 299)" onmouseover="showTip(event, 'fs106', 299)" class="i">diffs</span>
                <span class="k">else</span> <span onmouseout="hideTip(event, 'fs44', 300)" onmouseover="showTip(event, 'fs44', 300)" class="p">EventUI</span>(<span onmouseout="hideTip(event, 'fs97', 301)" onmouseover="showTip(event, 'fs97', 301)" class="f">update</span> <span onmouseout="hideTip(event, 'fs113', 302)" onmouseover="showTip(event, 'fs113', 302)" class="v">e1</span> <span onmouseout="hideTip(event, 'fs114', 303)" onmouseover="showTip(event, 'fs114', 303)" class="v">e2</span>)<span class="o">::</span><span onmouseout="hideTip(event, 'fs41', 304)" onmouseover="showTip(event, 'fs41', 304)" class="p">UpdateUI</span>(<span onmouseout="hideTip(event, 'fs104', 305)" onmouseover="showTip(event, 'fs104', 305)" class="i">path</span>,<span onmouseout="hideTip(event, 'fs103', 306)" onmouseover="showTip(event, 'fs103', 306)" class="i">ui2</span>)<span class="o">::</span><span onmouseout="hideTip(event, 'fs106', 307)" onmouseover="showTip(event, 'fs106', 307)" class="i">diffs</span>
            |<span onmouseout="hideTip(event, 'fs35', 308)" onmouseover="showTip(event, 'fs35', 308)" class="p">Button</span> _,<span onmouseout="hideTip(event, 'fs35', 309)" onmouseover="showTip(event, 'fs35', 309)" class="p">Button</span> _ |<span onmouseout="hideTip(event, 'fs34', 310)" onmouseover="showTip(event, 'fs34', 310)" class="p">Input</span> _,<span onmouseout="hideTip(event, 'fs34', 311)" onmouseover="showTip(event, 'fs34', 311)" class="p">Input</span> _ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs41', 312)" onmouseover="showTip(event, 'fs41', 312)" class="p">UpdateUI</span>(<span onmouseout="hideTip(event, 'fs104', 313)" onmouseover="showTip(event, 'fs104', 313)" class="i">path</span>,<span onmouseout="hideTip(event, 'fs103', 314)" onmouseover="showTip(event, 'fs103', 314)" class="i">ui2</span>)<span class="o">::</span><span onmouseout="hideTip(event, 'fs106', 315)" onmouseover="showTip(event, 'fs106', 315)" class="i">diffs</span>
            |<span onmouseout="hideTip(event, 'fs36', 316)" onmouseover="showTip(event, 'fs36', 316)" class="p">Div</span> (<span onmouseout="hideTip(event, 'fs115', 317)" onmouseover="showTip(event, 'fs115', 317)" class="i">l1</span>,_),<span onmouseout="hideTip(event, 'fs36', 318)" onmouseover="showTip(event, 'fs36', 318)" class="p">Div</span> (<span onmouseout="hideTip(event, 'fs116', 319)" onmouseover="showTip(event, 'fs116', 319)" class="i">l2</span>,_) <span class="k">when</span> <span onmouseout="hideTip(event, 'fs115', 320)" onmouseover="showTip(event, 'fs115', 320)" class="i">l1</span><span class="o">&lt;&gt;</span><span onmouseout="hideTip(event, 'fs116', 321)" onmouseover="showTip(event, 'fs116', 321)" class="i">l2</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs42', 322)" onmouseover="showTip(event, 'fs42', 322)" class="p">ReplaceUI</span>(<span onmouseout="hideTip(event, 'fs104', 323)" onmouseover="showTip(event, 'fs104', 323)" class="i">path</span>,<span onmouseout="hideTip(event, 'fs103', 324)" onmouseover="showTip(event, 'fs103', 324)" class="i">ui2</span>)<span class="o">::</span><span onmouseout="hideTip(event, 'fs106', 325)" onmouseover="showTip(event, 'fs106', 325)" class="i">diffs</span>
            |<span onmouseout="hideTip(event, 'fs36', 326)" onmouseover="showTip(event, 'fs36', 326)" class="p">Div</span> (_,[]),<span onmouseout="hideTip(event, 'fs36', 327)" onmouseover="showTip(event, 'fs36', 327)" class="p">Div</span> (_,[]) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs106', 328)" onmouseover="showTip(event, 'fs106', 328)" class="i">diffs</span>
            |<span onmouseout="hideTip(event, 'fs36', 329)" onmouseover="showTip(event, 'fs36', 329)" class="p">Div</span> (_,[]),<span onmouseout="hideTip(event, 'fs36', 330)" onmouseover="showTip(event, 'fs36', 330)" class="p">Div</span> (_,<span onmouseout="hideTip(event, 'fs117', 331)" onmouseover="showTip(event, 'fs117', 331)" class="i">l</span>) <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs83', 332)" onmouseover="showTip(event, 'fs83', 332)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs118', 333)" onmouseover="showTip(event, 'fs118', 333)" class="f">fold</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs18', 334)" onmouseover="showTip(event, 'fs18', 334)" class="i">i</span>,<span onmouseout="hideTip(event, 'fs106', 335)" onmouseover="showTip(event, 'fs106', 335)" class="i">diffs</span>) <span onmouseout="hideTip(event, 'fs119', 336)" onmouseover="showTip(event, 'fs119', 336)" class="i">ui</span><span class="k">-&gt;</span><span onmouseout="hideTip(event, 'fs18', 337)" onmouseover="showTip(event, 'fs18', 337)" class="i">i</span><span class="o">+</span><span class="n">1</span>,<span onmouseout="hideTip(event, 'fs39', 338)" onmouseover="showTip(event, 'fs39', 338)" class="p">InsertUI</span>(<span onmouseout="hideTip(event, 'fs18', 339)" onmouseover="showTip(event, 'fs18', 339)" class="i">i</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs104', 340)" onmouseover="showTip(event, 'fs104', 340)" class="i">path</span>,<span onmouseout="hideTip(event, 'fs119', 341)" onmouseover="showTip(event, 'fs119', 341)" class="i">ui</span>)<span class="o">::</span><span onmouseout="hideTip(event, 'fs106', 342)" onmouseover="showTip(event, 'fs106', 342)" class="i">diffs</span>)
                    (<span onmouseout="hideTip(event, 'fs105', 343)" onmouseover="showTip(event, 'fs105', 343)" class="i">index</span>,<span onmouseout="hideTip(event, 'fs106', 344)" onmouseover="showTip(event, 'fs106', 344)" class="i">diffs</span>) <span onmouseout="hideTip(event, 'fs117', 345)" onmouseover="showTip(event, 'fs117', 345)" class="i">l</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs120', 346)" onmouseover="showTip(event, 'fs120', 346)" class="f">snd</span>
            |<span onmouseout="hideTip(event, 'fs36', 347)" onmouseover="showTip(event, 'fs36', 347)" class="p">Div</span> (_,<span onmouseout="hideTip(event, 'fs117', 348)" onmouseover="showTip(event, 'fs117', 348)" class="i">l</span>),<span onmouseout="hideTip(event, 'fs36', 349)" onmouseover="showTip(event, 'fs36', 349)" class="p">Div</span> (_,[]) <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs83', 350)" onmouseover="showTip(event, 'fs83', 350)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs118', 351)" onmouseover="showTip(event, 'fs118', 351)" class="f">fold</span> (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs18', 352)" onmouseover="showTip(event, 'fs18', 352)" class="i">i</span>,<span onmouseout="hideTip(event, 'fs106', 353)" onmouseover="showTip(event, 'fs106', 353)" class="i">diffs</span>) _ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs18', 354)" onmouseover="showTip(event, 'fs18', 354)" class="i">i</span><span class="o">+</span><span class="n">1</span>,<span onmouseout="hideTip(event, 'fs43', 355)" onmouseover="showTip(event, 'fs43', 355)" class="p">RemoveUI</span>(<span onmouseout="hideTip(event, 'fs18', 356)" onmouseover="showTip(event, 'fs18', 356)" class="i">i</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs104', 357)" onmouseover="showTip(event, 'fs104', 357)" class="i">path</span>)<span class="o">::</span><span onmouseout="hideTip(event, 'fs106', 358)" onmouseover="showTip(event, 'fs106', 358)" class="i">diffs</span>)
                    (<span onmouseout="hideTip(event, 'fs105', 359)" onmouseover="showTip(event, 'fs105', 359)" class="i">index</span>,<span onmouseout="hideTip(event, 'fs106', 360)" onmouseover="showTip(event, 'fs106', 360)" class="i">diffs</span>) <span onmouseout="hideTip(event, 'fs117', 361)" onmouseover="showTip(event, 'fs117', 361)" class="i">l</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs120', 362)" onmouseover="showTip(event, 'fs120', 362)" class="f">snd</span>
            |<span onmouseout="hideTip(event, 'fs36', 363)" onmouseover="showTip(event, 'fs36', 363)" class="p">Div</span> (<span onmouseout="hideTip(event, 'fs121', 364)" onmouseover="showTip(event, 'fs121', 364)" class="i">l</span>,(<span onmouseout="hideTip(event, 'fs122', 365)" onmouseover="showTip(event, 'fs122', 365)" class="i">h1</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs123', 366)" onmouseover="showTip(event, 'fs123', 366)" class="i">t1</span>)),<span onmouseout="hideTip(event, 'fs36', 367)" onmouseover="showTip(event, 'fs36', 367)" class="p">Div</span> (_,(<span onmouseout="hideTip(event, 'fs124', 368)" onmouseover="showTip(event, 'fs124', 368)" class="i">h2</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs125', 369)" onmouseover="showTip(event, 'fs125', 369)" class="i">t2</span>)) <span class="k">when</span> <span onmouseout="hideTip(event, 'fs107', 370)" onmouseover="showTip(event, 'fs107', 370)" class="t">LanguagePrimitives</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs108', 371)" onmouseover="showTip(event, 'fs108', 371)" class="f">PhysicalEquality</span> <span onmouseout="hideTip(event, 'fs122', 372)" onmouseover="showTip(event, 'fs122', 372)" class="i">h1</span> <span onmouseout="hideTip(event, 'fs124', 373)" onmouseover="showTip(event, 'fs124', 373)" class="i">h2</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs101', 374)" onmouseover="showTip(event, 'fs101', 374)" class="f">diff</span> (<span onmouseout="hideTip(event, 'fs36', 375)" onmouseover="showTip(event, 'fs36', 375)" class="p">Div</span>(<span onmouseout="hideTip(event, 'fs121', 376)" onmouseover="showTip(event, 'fs121', 376)" class="i">l</span>,<span onmouseout="hideTip(event, 'fs123', 377)" onmouseover="showTip(event, 'fs123', 377)" class="i">t1</span>)) (<span onmouseout="hideTip(event, 'fs36', 378)" onmouseover="showTip(event, 'fs36', 378)" class="p">Div</span>(<span onmouseout="hideTip(event, 'fs121', 379)" onmouseover="showTip(event, 'fs121', 379)" class="i">l</span>,<span onmouseout="hideTip(event, 'fs125', 380)" onmouseover="showTip(event, 'fs125', 380)" class="i">t2</span>)) <span onmouseout="hideTip(event, 'fs104', 381)" onmouseover="showTip(event, 'fs104', 381)" class="i">path</span> (<span onmouseout="hideTip(event, 'fs105', 382)" onmouseover="showTip(event, 'fs105', 382)" class="i">index</span><span class="o">+</span><span class="n">1</span>) <span onmouseout="hideTip(event, 'fs106', 383)" onmouseover="showTip(event, 'fs106', 383)" class="i">diffs</span>
            |<span onmouseout="hideTip(event, 'fs36', 384)" onmouseover="showTip(event, 'fs36', 384)" class="p">Div</span> (<span onmouseout="hideTip(event, 'fs121', 385)" onmouseover="showTip(event, 'fs121', 385)" class="i">l</span>,(<span onmouseout="hideTip(event, 'fs122', 386)" onmouseover="showTip(event, 'fs122', 386)" class="i">h1</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs123', 387)" onmouseover="showTip(event, 'fs123', 387)" class="i">t1</span>)),<span onmouseout="hideTip(event, 'fs36', 388)" onmouseover="showTip(event, 'fs36', 388)" class="p">Div</span> (_,(<span onmouseout="hideTip(event, 'fs124', 389)" onmouseover="showTip(event, 'fs124', 389)" class="i">h2</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs126', 390)" onmouseover="showTip(event, 'fs126', 390)" class="i">h3</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs125', 391)" onmouseover="showTip(event, 'fs125', 391)" class="i">t2</span>)) <span class="k">when</span> <span onmouseout="hideTip(event, 'fs107', 392)" onmouseover="showTip(event, 'fs107', 392)" class="t">LanguagePrimitives</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs108', 393)" onmouseover="showTip(event, 'fs108', 393)" class="f">PhysicalEquality</span> <span onmouseout="hideTip(event, 'fs122', 394)" onmouseover="showTip(event, 'fs122', 394)" class="i">h1</span> <span onmouseout="hideTip(event, 'fs126', 395)" onmouseover="showTip(event, 'fs126', 395)" class="i">h3</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs101', 396)" onmouseover="showTip(event, 'fs101', 396)" class="f">diff</span> (<span onmouseout="hideTip(event, 'fs36', 397)" onmouseover="showTip(event, 'fs36', 397)" class="p">Div</span>(<span onmouseout="hideTip(event, 'fs121', 398)" onmouseover="showTip(event, 'fs121', 398)" class="i">l</span>,<span onmouseout="hideTip(event, 'fs123', 399)" onmouseover="showTip(event, 'fs123', 399)" class="i">t1</span>)) (<span onmouseout="hideTip(event, 'fs36', 400)" onmouseover="showTip(event, 'fs36', 400)" class="p">Div</span>(<span onmouseout="hideTip(event, 'fs121', 401)" onmouseover="showTip(event, 'fs121', 401)" class="i">l</span>,<span onmouseout="hideTip(event, 'fs125', 402)" onmouseover="showTip(event, 'fs125', 402)" class="i">t2</span>)) <span onmouseout="hideTip(event, 'fs104', 403)" onmouseover="showTip(event, 'fs104', 403)" class="i">path</span> (<span onmouseout="hideTip(event, 'fs105', 404)" onmouseover="showTip(event, 'fs105', 404)" class="i">index</span><span class="o">+</span><span class="n">1</span>)
                    (<span onmouseout="hideTip(event, 'fs39', 405)" onmouseover="showTip(event, 'fs39', 405)" class="p">InsertUI</span>(<span onmouseout="hideTip(event, 'fs105', 406)" onmouseover="showTip(event, 'fs105', 406)" class="i">index</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs104', 407)" onmouseover="showTip(event, 'fs104', 407)" class="i">path</span>,<span onmouseout="hideTip(event, 'fs124', 408)" onmouseover="showTip(event, 'fs124', 408)" class="i">h2</span>)<span class="o">::</span><span onmouseout="hideTip(event, 'fs106', 409)" onmouseover="showTip(event, 'fs106', 409)" class="i">diffs</span>)
            |<span onmouseout="hideTip(event, 'fs36', 410)" onmouseover="showTip(event, 'fs36', 410)" class="p">Div</span> (<span onmouseout="hideTip(event, 'fs121', 411)" onmouseover="showTip(event, 'fs121', 411)" class="i">l</span>,(_<span class="o">::</span><span onmouseout="hideTip(event, 'fs124', 412)" onmouseover="showTip(event, 'fs124', 412)" class="i">h2</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs123', 413)" onmouseover="showTip(event, 'fs123', 413)" class="i">t1</span>)),<span onmouseout="hideTip(event, 'fs36', 414)" onmouseover="showTip(event, 'fs36', 414)" class="p">Div</span> (_,(<span onmouseout="hideTip(event, 'fs126', 415)" onmouseover="showTip(event, 'fs126', 415)" class="i">h3</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs125', 416)" onmouseover="showTip(event, 'fs125', 416)" class="i">t2</span>)) <span class="k">when</span> <span onmouseout="hideTip(event, 'fs107', 417)" onmouseover="showTip(event, 'fs107', 417)" class="t">LanguagePrimitives</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs108', 418)" onmouseover="showTip(event, 'fs108', 418)" class="f">PhysicalEquality</span> <span onmouseout="hideTip(event, 'fs124', 419)" onmouseover="showTip(event, 'fs124', 419)" class="i">h2</span> <span onmouseout="hideTip(event, 'fs126', 420)" onmouseover="showTip(event, 'fs126', 420)" class="i">h3</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs101', 421)" onmouseover="showTip(event, 'fs101', 421)" class="f">diff</span> (<span onmouseout="hideTip(event, 'fs36', 422)" onmouseover="showTip(event, 'fs36', 422)" class="p">Div</span>(<span onmouseout="hideTip(event, 'fs121', 423)" onmouseover="showTip(event, 'fs121', 423)" class="i">l</span>,<span onmouseout="hideTip(event, 'fs123', 424)" onmouseover="showTip(event, 'fs123', 424)" class="i">t1</span>)) (<span onmouseout="hideTip(event, 'fs36', 425)" onmouseover="showTip(event, 'fs36', 425)" class="p">Div</span>(<span onmouseout="hideTip(event, 'fs121', 426)" onmouseover="showTip(event, 'fs121', 426)" class="i">l</span>,<span onmouseout="hideTip(event, 'fs125', 427)" onmouseover="showTip(event, 'fs125', 427)" class="i">t2</span>)) <span onmouseout="hideTip(event, 'fs104', 428)" onmouseover="showTip(event, 'fs104', 428)" class="i">path</span> (<span onmouseout="hideTip(event, 'fs105', 429)" onmouseover="showTip(event, 'fs105', 429)" class="i">index</span><span class="o">+</span><span class="n">1</span>)
                    (<span onmouseout="hideTip(event, 'fs43', 430)" onmouseover="showTip(event, 'fs43', 430)" class="p">RemoveUI</span>(<span onmouseout="hideTip(event, 'fs105', 431)" onmouseover="showTip(event, 'fs105', 431)" class="i">index</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs104', 432)" onmouseover="showTip(event, 'fs104', 432)" class="i">path</span>)<span class="o">::</span><span onmouseout="hideTip(event, 'fs106', 433)" onmouseover="showTip(event, 'fs106', 433)" class="i">diffs</span>)
            |<span onmouseout="hideTip(event, 'fs36', 434)" onmouseover="showTip(event, 'fs36', 434)" class="p">Div</span> (<span onmouseout="hideTip(event, 'fs121', 435)" onmouseover="showTip(event, 'fs121', 435)" class="i">l</span>,(<span onmouseout="hideTip(event, 'fs122', 436)" onmouseover="showTip(event, 'fs122', 436)" class="i">h1</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs123', 437)" onmouseover="showTip(event, 'fs123', 437)" class="i">t1</span>)),<span onmouseout="hideTip(event, 'fs36', 438)" onmouseover="showTip(event, 'fs36', 438)" class="p">Div</span> (_,(<span onmouseout="hideTip(event, 'fs124', 439)" onmouseover="showTip(event, 'fs124', 439)" class="i">h2</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs125', 440)" onmouseover="showTip(event, 'fs125', 440)" class="i">t2</span>)) <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs101', 441)" onmouseover="showTip(event, 'fs101', 441)" class="f">diff</span> <span onmouseout="hideTip(event, 'fs122', 442)" onmouseover="showTip(event, 'fs122', 442)" class="i">h1</span> <span onmouseout="hideTip(event, 'fs124', 443)" onmouseover="showTip(event, 'fs124', 443)" class="i">h2</span> (<span onmouseout="hideTip(event, 'fs105', 444)" onmouseover="showTip(event, 'fs105', 444)" class="i">index</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs104', 445)" onmouseover="showTip(event, 'fs104', 445)" class="i">path</span>) <span class="n">0</span> <span onmouseout="hideTip(event, 'fs106', 446)" onmouseover="showTip(event, 'fs106', 446)" class="i">diffs</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs101', 447)" onmouseover="showTip(event, 'fs101', 447)" class="f">diff</span> (<span onmouseout="hideTip(event, 'fs36', 448)" onmouseover="showTip(event, 'fs36', 448)" class="p">Div</span>(<span onmouseout="hideTip(event, 'fs121', 449)" onmouseover="showTip(event, 'fs121', 449)" class="i">l</span>,<span onmouseout="hideTip(event, 'fs123', 450)" onmouseover="showTip(event, 'fs123', 450)" class="i">t1</span>)) (<span onmouseout="hideTip(event, 'fs36', 451)" onmouseover="showTip(event, 'fs36', 451)" class="p">Div</span>(<span onmouseout="hideTip(event, 'fs121', 452)" onmouseover="showTip(event, 'fs121', 452)" class="i">l</span>,<span onmouseout="hideTip(event, 'fs125', 453)" onmouseover="showTip(event, 'fs125', 453)" class="i">t2</span>)) <span onmouseout="hideTip(event, 'fs104', 454)" onmouseover="showTip(event, 'fs104', 454)" class="i">path</span> (<span onmouseout="hideTip(event, 'fs105', 455)" onmouseover="showTip(event, 'fs105', 455)" class="i">index</span><span class="o">+</span><span class="n">1</span>)
            |_ <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs42', 456)" onmouseover="showTip(event, 'fs42', 456)" class="p">ReplaceUI</span>(<span onmouseout="hideTip(event, 'fs104', 457)" onmouseover="showTip(event, 'fs104', 457)" class="i">path</span>,<span onmouseout="hideTip(event, 'fs103', 458)" onmouseover="showTip(event, 'fs103', 458)" class="i">ui2</span>)<span class="o">::</span><span onmouseout="hideTip(event, 'fs106', 459)" onmouseover="showTip(event, 'fs106', 459)" class="i">diffs</span>
        <span onmouseout="hideTip(event, 'fs101', 460)" onmouseover="showTip(event, 'fs101', 460)" class="f">diff</span> <span onmouseout="hideTip(event, 'fs102', 461)" onmouseover="showTip(event, 'fs102', 461)" class="i">ui1</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 462)" onmouseover="showTip(event, 'fs85', 462)" class="i">UI</span> <span onmouseout="hideTip(event, 'fs92', 463)" onmouseover="showTip(event, 'fs92', 463)" class="i">ui2</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 464)" onmouseover="showTip(event, 'fs85', 464)" class="i">UI</span> [] <span class="n">0</span> []

    <span class="c">/// Returns a UI application from a UI model, update and view.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs127', 465)" onmouseover="showTip(event, 'fs127', 465)" class="f">app</span> <span onmouseout="hideTip(event, 'fs128', 466)" onmouseover="showTip(event, 'fs128', 466)" class="i">model</span> <span onmouseout="hideTip(event, 'fs129', 467)" onmouseover="showTip(event, 'fs129', 467)" class="f">update</span> <span onmouseout="hideTip(event, 'fs130', 468)" onmouseover="showTip(event, 'fs130', 468)" class="f">view</span> <span class="o">=</span> {<span class="i">Model</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs128', 469)" onmouseover="showTip(event, 'fs128', 469)" class="i">model</span>;<span class="i">Update</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs129', 470)" onmouseover="showTip(event, 'fs129', 470)" class="f">update</span>;<span class="i">View</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs130', 471)" onmouseover="showTip(event, 'fs130', 471)" class="f">view</span>}

    <span class="c">/// Runs a UI application given a native UI.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs131', 472)" onmouseover="showTip(event, 'fs131', 472)" class="f">run</span> (<span onmouseout="hideTip(event, 'fs132', 473)" onmouseover="showTip(event, 'fs132', 473)" class="i">nativeUI</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs52', 474)" onmouseover="showTip(event, 'fs52', 474)" class="t">INativeUI</span>) <span onmouseout="hideTip(event, 'fs133', 475)" onmouseover="showTip(event, 'fs133', 475)" class="i">app</span> <span class="o">=</span>
        <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs134', 476)" onmouseover="showTip(event, 'fs134', 476)" class="f">handle</span> <span onmouseout="hideTip(event, 'fs135', 477)" onmouseover="showTip(event, 'fs135', 477)" class="i">model</span> <span onmouseout="hideTip(event, 'fs78', 478)" onmouseover="showTip(event, 'fs78', 478)" class="i">ui</span> <span onmouseout="hideTip(event, 'fs76', 479)" onmouseover="showTip(event, 'fs76', 479)" class="i">msg</span> <span class="o">=</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs136', 480)" onmouseover="showTip(event, 'fs136', 480)" class="i">newModel</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs133', 481)" onmouseover="showTip(event, 'fs133', 481)" class="i">app</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs137', 482)" onmouseover="showTip(event, 'fs137', 482)" class="i">Update</span> <span onmouseout="hideTip(event, 'fs76', 483)" onmouseover="showTip(event, 'fs76', 483)" class="i">msg</span> <span onmouseout="hideTip(event, 'fs135', 484)" onmouseover="showTip(event, 'fs135', 484)" class="i">model</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs138', 485)" onmouseover="showTip(event, 'fs138', 485)" class="i">newUI</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs133', 486)" onmouseover="showTip(event, 'fs133', 486)" class="i">app</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs139', 487)" onmouseover="showTip(event, 'fs139', 487)" class="i">View</span> <span onmouseout="hideTip(event, 'fs136', 488)" onmouseover="showTip(event, 'fs136', 488)" class="i">newModel</span>
            <span onmouseout="hideTip(event, 'fs138', 489)" onmouseover="showTip(event, 'fs138', 489)" class="i">newUI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs79', 490)" onmouseover="showTip(event, 'fs79', 490)" class="v">Event</span><span class="o">&lt;-</span><span onmouseout="hideTip(event, 'fs134', 491)" onmouseover="showTip(event, 'fs134', 491)" class="f">handle</span> <span onmouseout="hideTip(event, 'fs136', 492)" onmouseover="showTip(event, 'fs136', 492)" class="i">newModel</span> <span onmouseout="hideTip(event, 'fs138', 493)" onmouseover="showTip(event, 'fs138', 493)" class="i">newUI</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs140', 494)" onmouseover="showTip(event, 'fs140', 494)" class="i">diff</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs140', 495)" onmouseover="showTip(event, 'fs140', 495)" class="f">diff</span> <span onmouseout="hideTip(event, 'fs78', 496)" onmouseover="showTip(event, 'fs78', 496)" class="i">ui</span> <span onmouseout="hideTip(event, 'fs138', 497)" onmouseover="showTip(event, 'fs138', 497)" class="i">newUI</span>
            <span onmouseout="hideTip(event, 'fs83', 498)" onmouseover="showTip(event, 'fs83', 498)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs88', 499)" onmouseover="showTip(event, 'fs88', 499)" class="f">iter</span> (<span class="k">function</span> |<span onmouseout="hideTip(event, 'fs44', 500)" onmouseover="showTip(event, 'fs44', 500)" class="p">EventUI</span> <span onmouseout="hideTip(event, 'fs141', 501)" onmouseover="showTip(event, 'fs141', 501)" class="f">f</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs141', 502)" onmouseover="showTip(event, 'fs141', 502)" class="f">f</span>() |_<span class="k">-&gt;</span> ()) <span onmouseout="hideTip(event, 'fs140', 503)" onmouseover="showTip(event, 'fs140', 503)" class="i">diff</span>
            <span onmouseout="hideTip(event, 'fs132', 504)" onmouseover="showTip(event, 'fs132', 504)" class="i">nativeUI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs142', 505)" onmouseover="showTip(event, 'fs142', 505)" class="f">Send</span> <span onmouseout="hideTip(event, 'fs140', 506)" onmouseover="showTip(event, 'fs140', 506)" class="i">diff</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs78', 507)" onmouseover="showTip(event, 'fs78', 507)" class="i">ui</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs133', 508)" onmouseover="showTip(event, 'fs133', 508)" class="i">app</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs139', 509)" onmouseover="showTip(event, 'fs139', 509)" class="i">View</span> <span onmouseout="hideTip(event, 'fs133', 510)" onmouseover="showTip(event, 'fs133', 510)" class="i">app</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 511)" onmouseover="showTip(event, 'fs143', 511)" class="i">Model</span>
        <span onmouseout="hideTip(event, 'fs78', 512)" onmouseover="showTip(event, 'fs78', 512)" class="i">ui</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs79', 513)" onmouseover="showTip(event, 'fs79', 513)" class="v">Event</span><span class="o">&lt;-</span><span onmouseout="hideTip(event, 'fs134', 514)" onmouseover="showTip(event, 'fs134', 514)" class="f">handle</span> <span onmouseout="hideTip(event, 'fs133', 515)" onmouseover="showTip(event, 'fs133', 515)" class="i">app</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 516)" onmouseover="showTip(event, 'fs143', 516)" class="i">Model</span> <span onmouseout="hideTip(event, 'fs78', 517)" onmouseover="showTip(event, 'fs78', 517)" class="i">ui</span>
        <span onmouseout="hideTip(event, 'fs132', 518)" onmouseover="showTip(event, 'fs132', 518)" class="i">nativeUI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs142', 519)" onmouseover="showTip(event, 'fs142', 519)" class="f">Send</span> [<span onmouseout="hideTip(event, 'fs39', 520)" onmouseover="showTip(event, 'fs39', 520)" class="p">InsertUI</span>([],<span onmouseout="hideTip(event, 'fs78', 521)" onmouseover="showTip(event, 'fs78', 521)" class="i">ui</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 522)" onmouseover="showTip(event, 'fs85', 522)" class="i">UI</span>)]
</code></pre></td>
</tr>
</table>
<h2>Example UI applications</h2>
<p>The UI application pattern has four main parts:</p>
<ol>
<li><strong>Model</strong> - the state of the application.</li>
<li><strong>Msg</strong> - an update message.</li>
<li><strong>Update</strong> - a function that updates the state.</li>
<li><strong>View</strong> - a function that views state as a UI.</li>
</ol>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
<span class="l">49: </span>
<span class="l">50: </span>
<span class="l">51: </span>
<span class="l">52: </span>
<span class="l">53: </span>
<span class="l">54: </span>
<span class="l">55: </span>
<span class="l">56: </span>
<span class="l">57: </span>
<span class="l">58: </span>
<span class="l">59: </span>
<span class="l">60: </span>
<span class="l">61: </span>
<span class="l">62: </span>
<span class="l">63: </span>
<span class="l">64: </span>
<span class="l">65: </span>
<span class="l">66: </span>
<span class="l">67: </span>
<span class="l">68: </span>
<span class="l">69: </span>
<span class="l">70: </span>
<span class="l">71: </span>
<span class="l">72: </span>
<span class="l">73: </span>
<span class="l">74: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">module</span> <span class="t">Counter</span> <span class="o">=</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs144', 523)" onmouseover="showTip(event, 'fs144', 523)" class="t">Model</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs40', 524)" onmouseover="showTip(event, 'fs40', 524)" class="t">int</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs145', 525)" onmouseover="showTip(event, 'fs145', 525)" class="f">init</span> <span onmouseout="hideTip(event, 'fs146', 526)" onmouseover="showTip(event, 'fs146', 526)" class="i">i</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs144', 527)" onmouseover="showTip(event, 'fs144', 527)" class="t">Model</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs146', 528)" onmouseover="showTip(event, 'fs146', 528)" class="i">i</span>

    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs147', 529)" onmouseover="showTip(event, 'fs147', 529)" class="t">Msg</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs148', 530)" onmouseover="showTip(event, 'fs148', 530)" class="p">Increment</span> | <span onmouseout="hideTip(event, 'fs149', 531)" onmouseover="showTip(event, 'fs149', 531)" class="p">Decrement</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs150', 532)" onmouseover="showTip(event, 'fs150', 532)" class="f">update</span> <span onmouseout="hideTip(event, 'fs151', 533)" onmouseover="showTip(event, 'fs151', 533)" class="i">msg</span> <span onmouseout="hideTip(event, 'fs152', 534)" onmouseover="showTip(event, 'fs152', 534)" class="i">model</span> <span class="o">=</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs151', 535)" onmouseover="showTip(event, 'fs151', 535)" class="i">msg</span> <span class="k">with</span>
        | <span onmouseout="hideTip(event, 'fs148', 536)" onmouseover="showTip(event, 'fs148', 536)" class="p">Increment</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs152', 537)" onmouseover="showTip(event, 'fs152', 537)" class="i">model</span><span class="o">+</span><span class="n">1</span>
        | <span onmouseout="hideTip(event, 'fs149', 538)" onmouseover="showTip(event, 'fs149', 538)" class="p">Decrement</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs152', 539)" onmouseover="showTip(event, 'fs152', 539)" class="i">model</span><span class="o">-</span><span class="n">1</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs153', 540)" onmouseover="showTip(event, 'fs153', 540)" class="f">view</span> <span onmouseout="hideTip(event, 'fs154', 541)" onmouseover="showTip(event, 'fs154', 541)" class="i">model</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs155', 542)" onmouseover="showTip(event, 'fs155', 542)" class="t">UI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs80', 543)" onmouseover="showTip(event, 'fs80', 543)" class="f">div</span> <span onmouseout="hideTip(event, 'fs29', 544)" onmouseover="showTip(event, 'fs29', 544)" class="p">Horizontal</span> [
            <span onmouseout="hideTip(event, 'fs155', 545)" onmouseover="showTip(event, 'fs155', 545)" class="t">UI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs75', 546)" onmouseover="showTip(event, 'fs75', 546)" class="f">button</span> <span class="s">&quot;+&quot;</span> <span onmouseout="hideTip(event, 'fs148', 547)" onmouseover="showTip(event, 'fs148', 547)" class="p">Increment</span>
            <span onmouseout="hideTip(event, 'fs155', 548)" onmouseover="showTip(event, 'fs155', 548)" class="t">UI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs75', 549)" onmouseover="showTip(event, 'fs75', 549)" class="f">button</span> <span class="s">&quot;-&quot;</span> <span onmouseout="hideTip(event, 'fs149', 550)" onmouseover="showTip(event, 'fs149', 550)" class="p">Decrement</span>
            <span onmouseout="hideTip(event, 'fs155', 551)" onmouseover="showTip(event, 'fs155', 551)" class="t">UI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs66', 552)" onmouseover="showTip(event, 'fs66', 552)" class="f">text</span> (<span onmouseout="hideTip(event, 'fs33', 553)" onmouseover="showTip(event, 'fs33', 553)" class="f">string</span> <span onmouseout="hideTip(event, 'fs154', 554)" onmouseover="showTip(event, 'fs154', 554)" class="i">model</span>)
        ]

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs156', 555)" onmouseover="showTip(event, 'fs156', 555)" class="f">app</span> <span onmouseout="hideTip(event, 'fs146', 556)" onmouseover="showTip(event, 'fs146', 556)" class="i">i</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs155', 557)" onmouseover="showTip(event, 'fs155', 557)" class="t">UI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs127', 558)" onmouseover="showTip(event, 'fs127', 558)" class="f">app</span> (<span onmouseout="hideTip(event, 'fs145', 559)" onmouseover="showTip(event, 'fs145', 559)" class="f">init</span> <span onmouseout="hideTip(event, 'fs146', 560)" onmouseover="showTip(event, 'fs146', 560)" class="i">i</span>) <span onmouseout="hideTip(event, 'fs150', 561)" onmouseover="showTip(event, 'fs150', 561)" class="f">update</span> <span onmouseout="hideTip(event, 'fs153', 562)" onmouseover="showTip(event, 'fs153', 562)" class="f">view</span>

<span class="k">module</span> <span class="t">CounterPair</span> <span class="o">=</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs157', 563)" onmouseover="showTip(event, 'fs157', 563)" class="t">Model</span> <span class="o">=</span> {<span onmouseout="hideTip(event, 'fs158', 564)" onmouseover="showTip(event, 'fs158', 564)" class="i">Top</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs159', 565)" onmouseover="showTip(event, 'fs159', 565)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs144', 566)" onmouseover="showTip(event, 'fs144', 566)" class="t">Model</span>;<span onmouseout="hideTip(event, 'fs160', 567)" onmouseover="showTip(event, 'fs160', 567)" class="i">Bottom</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs159', 568)" onmouseover="showTip(event, 'fs159', 568)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs144', 569)" onmouseover="showTip(event, 'fs144', 569)" class="t">Model</span>}

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs161', 570)" onmouseover="showTip(event, 'fs161', 570)" class="f">init</span> <span onmouseout="hideTip(event, 'fs162', 571)" onmouseover="showTip(event, 'fs162', 571)" class="i">top</span> <span onmouseout="hideTip(event, 'fs163', 572)" onmouseover="showTip(event, 'fs163', 572)" class="i">bottom</span> <span class="o">=</span>
        {<span class="i">Top</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs159', 573)" onmouseover="showTip(event, 'fs159', 573)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs164', 574)" onmouseover="showTip(event, 'fs164', 574)" class="f">init</span> <span onmouseout="hideTip(event, 'fs162', 575)" onmouseover="showTip(event, 'fs162', 575)" class="i">top</span>;<span class="i">Bottom</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs159', 576)" onmouseover="showTip(event, 'fs159', 576)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs164', 577)" onmouseover="showTip(event, 'fs164', 577)" class="f">init</span> <span onmouseout="hideTip(event, 'fs163', 578)" onmouseover="showTip(event, 'fs163', 578)" class="i">bottom</span>}

    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs165', 579)" onmouseover="showTip(event, 'fs165', 579)" class="t">Msg</span> <span class="o">=</span>
        | <span onmouseout="hideTip(event, 'fs166', 580)" onmouseover="showTip(event, 'fs166', 580)" class="p">Reset</span>
        | <span onmouseout="hideTip(event, 'fs167', 581)" onmouseover="showTip(event, 'fs167', 581)" class="p">Top</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs159', 582)" onmouseover="showTip(event, 'fs159', 582)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs147', 583)" onmouseover="showTip(event, 'fs147', 583)" class="t">Msg</span>
        | <span onmouseout="hideTip(event, 'fs168', 584)" onmouseover="showTip(event, 'fs168', 584)" class="p">Bottom</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs159', 585)" onmouseover="showTip(event, 'fs159', 585)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs147', 586)" onmouseover="showTip(event, 'fs147', 586)" class="t">Msg</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs169', 587)" onmouseover="showTip(event, 'fs169', 587)" class="f">update</span> <span onmouseout="hideTip(event, 'fs151', 588)" onmouseover="showTip(event, 'fs151', 588)" class="i">msg</span> <span onmouseout="hideTip(event, 'fs154', 589)" onmouseover="showTip(event, 'fs154', 589)" class="i">model</span> <span class="o">=</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs151', 590)" onmouseover="showTip(event, 'fs151', 590)" class="i">msg</span> <span class="k">with</span>
        | <span onmouseout="hideTip(event, 'fs166', 591)" onmouseover="showTip(event, 'fs166', 591)" class="p">Reset</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs161', 592)" onmouseover="showTip(event, 'fs161', 592)" class="f">init</span> <span class="n">0</span> <span class="n">0</span>
        | <span onmouseout="hideTip(event, 'fs167', 593)" onmouseover="showTip(event, 'fs167', 593)" class="p">Top</span> <span onmouseout="hideTip(event, 'fs170', 594)" onmouseover="showTip(event, 'fs170', 594)" class="i">msg</span> <span class="k">-&gt;</span> {<span onmouseout="hideTip(event, 'fs154', 595)" onmouseover="showTip(event, 'fs154', 595)" class="i">model</span> <span class="k">with</span> <span onmouseout="hideTip(event, 'fs167', 596)" onmouseover="showTip(event, 'fs167', 596)" class="i">Top</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs159', 597)" onmouseover="showTip(event, 'fs159', 597)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs171', 598)" onmouseover="showTip(event, 'fs171', 598)" class="f">update</span> <span onmouseout="hideTip(event, 'fs170', 599)" onmouseover="showTip(event, 'fs170', 599)" class="i">msg</span> <span onmouseout="hideTip(event, 'fs154', 600)" onmouseover="showTip(event, 'fs154', 600)" class="i">model</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs158', 601)" onmouseover="showTip(event, 'fs158', 601)" class="i">Top</span>}
        | <span onmouseout="hideTip(event, 'fs168', 602)" onmouseover="showTip(event, 'fs168', 602)" class="p">Bottom</span> <span onmouseout="hideTip(event, 'fs170', 603)" onmouseover="showTip(event, 'fs170', 603)" class="i">msg</span> <span class="k">-&gt;</span> {<span onmouseout="hideTip(event, 'fs154', 604)" onmouseover="showTip(event, 'fs154', 604)" class="i">model</span> <span class="k">with</span> <span onmouseout="hideTip(event, 'fs168', 605)" onmouseover="showTip(event, 'fs168', 605)" class="i">Bottom</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs159', 606)" onmouseover="showTip(event, 'fs159', 606)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs171', 607)" onmouseover="showTip(event, 'fs171', 607)" class="f">update</span> <span onmouseout="hideTip(event, 'fs170', 608)" onmouseover="showTip(event, 'fs170', 608)" class="i">msg</span> <span onmouseout="hideTip(event, 'fs154', 609)" onmouseover="showTip(event, 'fs154', 609)" class="i">model</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs160', 610)" onmouseover="showTip(event, 'fs160', 610)" class="i">Bottom</span>}

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs172', 611)" onmouseover="showTip(event, 'fs172', 611)" class="f">view</span> <span onmouseout="hideTip(event, 'fs154', 612)" onmouseover="showTip(event, 'fs154', 612)" class="i">model</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs155', 613)" onmouseover="showTip(event, 'fs155', 613)" class="t">UI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs80', 614)" onmouseover="showTip(event, 'fs80', 614)" class="f">div</span> <span onmouseout="hideTip(event, 'fs30', 615)" onmouseover="showTip(event, 'fs30', 615)" class="p">Vertical</span> [
            <span onmouseout="hideTip(event, 'fs159', 616)" onmouseover="showTip(event, 'fs159', 616)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs173', 617)" onmouseover="showTip(event, 'fs173', 617)" class="f">view</span> <span onmouseout="hideTip(event, 'fs154', 618)" onmouseover="showTip(event, 'fs154', 618)" class="i">model</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs158', 619)" onmouseover="showTip(event, 'fs158', 619)" class="i">Top</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs155', 620)" onmouseover="showTip(event, 'fs155', 620)" class="t">UI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs90', 621)" onmouseover="showTip(event, 'fs90', 621)" class="f">map</span> <span onmouseout="hideTip(event, 'fs167', 622)" onmouseover="showTip(event, 'fs167', 622)" class="p">Top</span>
            <span onmouseout="hideTip(event, 'fs159', 623)" onmouseover="showTip(event, 'fs159', 623)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs173', 624)" onmouseover="showTip(event, 'fs173', 624)" class="f">view</span> <span onmouseout="hideTip(event, 'fs154', 625)" onmouseover="showTip(event, 'fs154', 625)" class="i">model</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs160', 626)" onmouseover="showTip(event, 'fs160', 626)" class="i">Bottom</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs155', 627)" onmouseover="showTip(event, 'fs155', 627)" class="t">UI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs90', 628)" onmouseover="showTip(event, 'fs90', 628)" class="f">map</span> <span onmouseout="hideTip(event, 'fs168', 629)" onmouseover="showTip(event, 'fs168', 629)" class="p">Bottom</span>
        ]

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs174', 630)" onmouseover="showTip(event, 'fs174', 630)" class="f">app</span> <span onmouseout="hideTip(event, 'fs162', 631)" onmouseover="showTip(event, 'fs162', 631)" class="i">top</span> <span onmouseout="hideTip(event, 'fs163', 632)" onmouseover="showTip(event, 'fs163', 632)" class="i">bottom</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs155', 633)" onmouseover="showTip(event, 'fs155', 633)" class="t">UI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs127', 634)" onmouseover="showTip(event, 'fs127', 634)" class="f">app</span> (<span onmouseout="hideTip(event, 'fs161', 635)" onmouseover="showTip(event, 'fs161', 635)" class="f">init</span> <span onmouseout="hideTip(event, 'fs162', 636)" onmouseover="showTip(event, 'fs162', 636)" class="i">top</span> <span onmouseout="hideTip(event, 'fs163', 637)" onmouseover="showTip(event, 'fs163', 637)" class="i">bottom</span>) <span onmouseout="hideTip(event, 'fs169', 638)" onmouseover="showTip(event, 'fs169', 638)" class="f">update</span> <span onmouseout="hideTip(event, 'fs172', 639)" onmouseover="showTip(event, 'fs172', 639)" class="f">view</span>

<span class="k">module</span> <span onmouseout="hideTip(event, 'fs175', 640)" onmouseover="showTip(event, 'fs175', 640)" class="t">CounterList</span> <span class="o">=</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs176', 641)" onmouseover="showTip(event, 'fs176', 641)" class="t">Model</span> <span class="o">=</span> {<span onmouseout="hideTip(event, 'fs177', 642)" onmouseover="showTip(event, 'fs177', 642)" class="i">Counters</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs159', 643)" onmouseover="showTip(event, 'fs159', 643)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs144', 644)" onmouseover="showTip(event, 'fs144', 644)" class="t">Model</span> <span onmouseout="hideTip(event, 'fs37', 645)" onmouseover="showTip(event, 'fs37', 645)" class="t">list</span>}

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs178', 646)" onmouseover="showTip(event, 'fs178', 646)" class="i">init</span> <span class="o">=</span> {<span class="i">Counters</span><span class="o">=</span>[]}

    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs179', 647)" onmouseover="showTip(event, 'fs179', 647)" class="t">Msg</span> <span class="o">=</span>
        | <span onmouseout="hideTip(event, 'fs180', 648)" onmouseover="showTip(event, 'fs180', 648)" class="p">Insert</span>
        | <span onmouseout="hideTip(event, 'fs181', 649)" onmouseover="showTip(event, 'fs181', 649)" class="p">Remove</span>
        | <span onmouseout="hideTip(event, 'fs182', 650)" onmouseover="showTip(event, 'fs182', 650)" class="p">Modify</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs40', 651)" onmouseover="showTip(event, 'fs40', 651)" class="t">int</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs159', 652)" onmouseover="showTip(event, 'fs159', 652)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs147', 653)" onmouseover="showTip(event, 'fs147', 653)" class="t">Msg</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs183', 654)" onmouseover="showTip(event, 'fs183', 654)" class="f">update</span> <span onmouseout="hideTip(event, 'fs151', 655)" onmouseover="showTip(event, 'fs151', 655)" class="i">msg</span> <span onmouseout="hideTip(event, 'fs154', 656)" onmouseover="showTip(event, 'fs154', 656)" class="i">model</span> <span class="o">=</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs151', 657)" onmouseover="showTip(event, 'fs151', 657)" class="i">msg</span> <span class="k">with</span>
        | <span onmouseout="hideTip(event, 'fs180', 658)" onmouseover="showTip(event, 'fs180', 658)" class="p">Insert</span> <span class="k">-&gt;</span> {<span onmouseout="hideTip(event, 'fs154', 659)" onmouseover="showTip(event, 'fs154', 659)" class="i">model</span> <span class="k">with</span> <span class="i">Counters</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs159', 660)" onmouseover="showTip(event, 'fs159', 660)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs164', 661)" onmouseover="showTip(event, 'fs164', 661)" class="f">init</span> <span class="n">0</span><span class="o">::</span><span onmouseout="hideTip(event, 'fs154', 662)" onmouseover="showTip(event, 'fs154', 662)" class="i">model</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs177', 663)" onmouseover="showTip(event, 'fs177', 663)" class="i">Counters</span>}
        | <span onmouseout="hideTip(event, 'fs181', 664)" onmouseover="showTip(event, 'fs181', 664)" class="p">Remove</span> <span class="k">-&gt;</span> {<span onmouseout="hideTip(event, 'fs154', 665)" onmouseover="showTip(event, 'fs154', 665)" class="i">model</span> <span class="k">with</span> <span class="i">Counters</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs83', 666)" onmouseover="showTip(event, 'fs83', 666)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 667)" onmouseover="showTip(event, 'fs24', 667)" class="f">tail</span> <span onmouseout="hideTip(event, 'fs154', 668)" onmouseover="showTip(event, 'fs154', 668)" class="i">model</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs177', 669)" onmouseover="showTip(event, 'fs177', 669)" class="i">Counters</span>}
        | <span onmouseout="hideTip(event, 'fs182', 670)" onmouseover="showTip(event, 'fs182', 670)" class="p">Modify</span> (<span onmouseout="hideTip(event, 'fs18', 671)" onmouseover="showTip(event, 'fs18', 671)" class="i">i</span>,<span onmouseout="hideTip(event, 'fs170', 672)" onmouseover="showTip(event, 'fs170', 672)" class="i">msg</span>) <span class="k">-&gt;</span>
            {<span onmouseout="hideTip(event, 'fs154', 673)" onmouseover="showTip(event, 'fs154', 673)" class="i">model</span> <span class="k">with</span> <span class="i">Counters</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs83', 674)" onmouseover="showTip(event, 'fs83', 674)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs17', 675)" onmouseover="showTip(event, 'fs17', 675)" class="f">mapAt</span> <span onmouseout="hideTip(event, 'fs18', 676)" onmouseover="showTip(event, 'fs18', 676)" class="i">i</span> (<span onmouseout="hideTip(event, 'fs159', 677)" onmouseover="showTip(event, 'fs159', 677)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs171', 678)" onmouseover="showTip(event, 'fs171', 678)" class="f">update</span> <span onmouseout="hideTip(event, 'fs170', 679)" onmouseover="showTip(event, 'fs170', 679)" class="i">msg</span>) <span onmouseout="hideTip(event, 'fs154', 680)" onmouseover="showTip(event, 'fs154', 680)" class="i">model</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs177', 681)" onmouseover="showTip(event, 'fs177', 681)" class="i">Counters</span>}

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs184', 682)" onmouseover="showTip(event, 'fs184', 682)" class="f">view</span> <span onmouseout="hideTip(event, 'fs154', 683)" onmouseover="showTip(event, 'fs154', 683)" class="i">model</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs155', 684)" onmouseover="showTip(event, 'fs155', 684)" class="t">UI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs75', 685)" onmouseover="showTip(event, 'fs75', 685)" class="f">button</span> <span class="s">&quot;Add&quot;</span> <span onmouseout="hideTip(event, 'fs180', 686)" onmouseover="showTip(event, 'fs180', 686)" class="p">Insert</span> <span class="o">::</span>
        <span onmouseout="hideTip(event, 'fs155', 687)" onmouseover="showTip(event, 'fs155', 687)" class="t">UI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs75', 688)" onmouseover="showTip(event, 'fs75', 688)" class="f">button</span> <span class="s">&quot;Remove&quot;</span> <span onmouseout="hideTip(event, 'fs181', 689)" onmouseover="showTip(event, 'fs181', 689)" class="p">Remove</span> <span class="o">::</span>
        <span onmouseout="hideTip(event, 'fs83', 690)" onmouseover="showTip(event, 'fs83', 690)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs185', 691)" onmouseover="showTip(event, 'fs185', 691)" class="f">mapi</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs18', 692)" onmouseover="showTip(event, 'fs18', 692)" class="i">i</span> <span onmouseout="hideTip(event, 'fs186', 693)" onmouseover="showTip(event, 'fs186', 693)" class="i">c</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs159', 694)" onmouseover="showTip(event, 'fs159', 694)" class="t">Counter</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs173', 695)" onmouseover="showTip(event, 'fs173', 695)" class="f">view</span> <span onmouseout="hideTip(event, 'fs186', 696)" onmouseover="showTip(event, 'fs186', 696)" class="i">c</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs155', 697)" onmouseover="showTip(event, 'fs155', 697)" class="t">UI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs90', 698)" onmouseover="showTip(event, 'fs90', 698)" class="f">map</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs187', 699)" onmouseover="showTip(event, 'fs187', 699)" class="i">v</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs182', 700)" onmouseover="showTip(event, 'fs182', 700)" class="p">Modify</span>(<span onmouseout="hideTip(event, 'fs18', 701)" onmouseover="showTip(event, 'fs18', 701)" class="i">i</span>,<span onmouseout="hideTip(event, 'fs187', 702)" onmouseover="showTip(event, 'fs187', 702)" class="i">v</span>)))
            <span onmouseout="hideTip(event, 'fs154', 703)" onmouseover="showTip(event, 'fs154', 703)" class="i">model</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs177', 704)" onmouseover="showTip(event, 'fs177', 704)" class="i">Counters</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs155', 705)" onmouseover="showTip(event, 'fs155', 705)" class="t">UI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs80', 706)" onmouseover="showTip(event, 'fs80', 706)" class="f">div</span> <span onmouseout="hideTip(event, 'fs30', 707)" onmouseover="showTip(event, 'fs30', 707)" class="p">Vertical</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs188', 708)" onmouseover="showTip(event, 'fs188', 708)" class="i">app</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs155', 709)" onmouseover="showTip(event, 'fs155', 709)" class="t">UI</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs127', 710)" onmouseover="showTip(event, 'fs127', 710)" class="f">app</span> <span onmouseout="hideTip(event, 'fs178', 711)" onmouseover="showTip(event, 'fs178', 711)" class="i">init</span> <span onmouseout="hideTip(event, 'fs183', 712)" onmouseover="showTip(event, 'fs183', 712)" class="f">update</span> <span onmouseout="hideTip(event, 'fs184', 713)" onmouseover="showTip(event, 'fs184', 713)" class="f">view</span>
</code></pre></td>
</tr>
</table>
<h2>Conclusion</h2>
<p><a href="http://guide.elm-lang.org/architecture/index.html">The Elm Architecture</a> pattern is very promising.
It produces type safe UIs that are highly composable.
Performance should be great even for large UIs while at the same time being able to target multiple UI frameworks.</p>
<p>UPDATED:</p>
<img style="border:1px solid black" src="/{{site.baseurl}}public/elm/donpraise.png" title="Aw shucks"/>


<div class="tip" id="fs1">namespace System</div>
<div class="tip" id="fs2">namespace System.Runtime</div>
<div class="tip" id="fs3">namespace System.Runtime.CompilerServices</div>
<div class="tip" id="fs4">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs5">val remove : n:int -&gt; l:&#39;a list -&gt; &#39;a list * &#39;a list<br /><br />Full name: Main.List.remove</div>
<div class="tip" id="fs6">val n : int</div>
<div class="tip" id="fs7">val l : &#39;a list</div>
<div class="tip" id="fs8">val pop : (int -&gt; &#39;b list -&gt; &#39;b list -&gt; &#39;b list * &#39;b list)</div>
<div class="tip" id="fs9">val l : &#39;b list</div>
<div class="tip" id="fs10">val p : &#39;b list</div>
<div class="tip" id="fs11">val x : &#39;b</div>
<div class="tip" id="fs12">val xs : &#39;b list</div>
<div class="tip" id="fs13">val add : p:&#39;a list -&gt; l:&#39;a list -&gt; &#39;a list<br /><br />Full name: Main.List.add</div>
<div class="tip" id="fs14">val p : &#39;a list</div>
<div class="tip" id="fs15">val x : &#39;a</div>
<div class="tip" id="fs16">val xs : &#39;a list</div>
<div class="tip" id="fs17">val mapAt : i:int -&gt; mapping:(&#39;a -&gt; &#39;a) -&gt; list:&#39;a list -&gt; &#39;a list<br /><br />Full name: Main.List.mapAt</div>
<div class="tip" id="fs18">val i : int</div>
<div class="tip" id="fs19">val mapping : (&#39;a -&gt; &#39;a)</div>
<div class="tip" id="fs20">Multiple items<br />val list : &#39;a list<br /><br />--------------------<br />type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>
<div class="tip" id="fs21">val removed : &#39;a list</div>
<div class="tip" id="fs22">val tail : &#39;a list</div>
<div class="tip" id="fs23">val head : list:&#39;T list -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Collections.List.head</div>
<div class="tip" id="fs24">val tail : list:&#39;T list -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List.tail</div>
<div class="tip" id="fs25">Multiple items<br />module Event<br /><br />from Microsoft.FSharp.Control<br /><br />--------------------<br />type &#39;msg Event = (&#39;msg -&gt; unit) ref ref<br /><br />Full name: Main.Event&lt;_&gt;<br /><em><br /><br />&#160;Message event used on the primitive UI components.</em><br /><br />--------------------<br />type Event&lt;&#39;Delegate,&#39;Args (requires delegate and &#39;Delegate :&gt; Delegate)&gt; =<br />&#160;&#160;new : unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;<br />&#160;&#160;member Trigger : sender:obj * args:&#39;Args -&gt; unit<br />&#160;&#160;member Publish : IEvent&lt;&#39;Delegate,&#39;Args&gt;<br /><br />Full name: Microsoft.FSharp.Control.Event&lt;_,_&gt;<br /><br />--------------------<br />new : unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;</div>
<div class="tip" id="fs26">type unit = Unit<br /><br />Full name: Microsoft.FSharp.Core.unit</div>
<div class="tip" id="fs27">Multiple items<br />val ref : value:&#39;T -&gt; &#39;T ref<br /><br />Full name: Microsoft.FSharp.Core.Operators.ref<br /><br />--------------------<br />type &#39;T ref = Ref&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.ref&lt;_&gt;</div>
<div class="tip" id="fs28">type Layout =<br />&#160;&#160;| Horizontal<br />&#160;&#160;| Vertical<br /><br />Full name: Main.Layout<br /><em><br /><br />&#160;Layout for a section of UI components.</em></div>
<div class="tip" id="fs29">union case Layout.Horizontal: Layout</div>
<div class="tip" id="fs30">union case Layout.Vertical: Layout</div>
<div class="tip" id="fs31">type UI =<br />&#160;&#160;| Text of string<br />&#160;&#160;| Input of string * string Event<br />&#160;&#160;| Button of string * unit Event<br />&#160;&#160;| Div of Layout * UI list<br /><br />Full name: Main.UI<br /><em><br /><br />&#160;Primitive UI components.</em></div>
<div class="tip" id="fs32">union case UI.Text: string -&gt; UI</div>
<div class="tip" id="fs33">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs34">union case UI.Input: string * string Event -&gt; UI</div>
<div class="tip" id="fs35">union case UI.Button: string * unit Event -&gt; UI</div>
<div class="tip" id="fs36">union case UI.Div: Layout * UI list -&gt; UI</div>
<div class="tip" id="fs37">type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>
<div class="tip" id="fs38">type UIUpdate =<br />&#160;&#160;| InsertUI of int list * UI<br />&#160;&#160;| UpdateUI of int list * UI<br />&#160;&#160;| ReplaceUI of int list * UI<br />&#160;&#160;| RemoveUI of int list<br />&#160;&#160;| EventUI of (unit -&gt; unit)<br /><br />Full name: Main.UIUpdate<br /><em><br /><br />&#160;UI component update and event redirection.</em></div>
<div class="tip" id="fs39">union case UIUpdate.InsertUI: int list * UI -&gt; UIUpdate</div>
<div class="tip" id="fs40">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs41">union case UIUpdate.UpdateUI: int list * UI -&gt; UIUpdate</div>
<div class="tip" id="fs42">union case UIUpdate.ReplaceUI: int list * UI -&gt; UIUpdate</div>
<div class="tip" id="fs43">union case UIUpdate.RemoveUI: int list -&gt; UIUpdate</div>
<div class="tip" id="fs44">union case UIUpdate.EventUI: (unit -&gt; unit) -&gt; UIUpdate</div>
<div class="tip" id="fs45">Multiple items<br />type UI =<br />&#160;&#160;| Text of string<br />&#160;&#160;| Input of string * string Event<br />&#160;&#160;| Button of string * unit Event<br />&#160;&#160;| Div of Layout * UI list<br /><br />Full name: Main.UI<br /><em><br /><br />&#160;Primitive UI components.</em><br /><br />--------------------<br />type &#39;msg UI =<br />&#160;&#160;{UI: UI;<br />&#160;&#160;&#160;mutable Event: &#39;msg -&gt; unit;}<br /><br />Full name: Main.UI&lt;_&gt;<br /><em><br /><br />&#160;UI component including a message event.</em></div>
<div class="tip" id="fs46">Multiple items<br />UI.UI: UI<br /><br />--------------------<br />type UI =<br />&#160;&#160;| Text of string<br />&#160;&#160;| Input of string * string Event<br />&#160;&#160;| Button of string * unit Event<br />&#160;&#160;| Div of Layout * UI list<br /><br />Full name: Main.UI<br /><em><br /><br />&#160;Primitive UI components.</em><br /><br />--------------------<br />type &#39;msg UI =<br />&#160;&#160;{UI: UI;<br />&#160;&#160;&#160;mutable Event: &#39;msg -&gt; unit;}<br /><br />Full name: Main.UI&lt;_&gt;<br /><em><br /><br />&#160;UI component including a message event.</em></div>
<div class="tip" id="fs47">Multiple items<br />UI.Event: &#39;msg -&gt; unit<br /><br />--------------------<br />module Event<br /><br />from Microsoft.FSharp.Control<br /><br />--------------------<br />type &#39;msg Event = (&#39;msg -&gt; unit) ref ref<br /><br />Full name: Main.Event&lt;_&gt;<br /><em><br /><br />&#160;Message event used on the primitive UI components.</em><br /><br />--------------------<br />type Event&lt;&#39;Delegate,&#39;Args (requires delegate and &#39;Delegate :&gt; Delegate)&gt; =<br />&#160;&#160;new : unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;<br />&#160;&#160;member Trigger : sender:obj * args:&#39;Args -&gt; unit<br />&#160;&#160;member Publish : IEvent&lt;&#39;Delegate,&#39;Args&gt;<br /><br />Full name: Microsoft.FSharp.Control.Event&lt;_,_&gt;<br /><br />--------------------<br />new : unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;</div>
<div class="tip" id="fs48">type App&lt;&#39;msg,&#39;model&gt; =<br />&#160;&#160;{Model: &#39;model;<br />&#160;&#160;&#160;Update: &#39;msg -&gt; &#39;model -&gt; &#39;model;<br />&#160;&#160;&#160;View: &#39;model -&gt; &#39;msg UI;}<br /><br />Full name: Main.App&lt;_,_&gt;<br /><em><br /><br />&#160;UI application.</em></div>
<div class="tip" id="fs49">App.Model: &#39;model</div>
<div class="tip" id="fs50">App.Update: &#39;msg -&gt; &#39;model -&gt; &#39;model</div>
<div class="tip" id="fs51">App.View: &#39;model -&gt; &#39;msg UI</div>
<div class="tip" id="fs52">type INativeUI =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member Send : UIUpdate list -&gt; unit<br />&#160;&#160;end<br /><br />Full name: Main.INativeUI<br /><em><br /><br />&#160;Native UI interface.</em></div>
<div class="tip" id="fs53">abstract member INativeUI.Send : UIUpdate list -&gt; unit<br /><br />Full name: Main.INativeUI.Send</div>
<div class="tip" id="fs54">Multiple items<br />type CompilationRepresentationAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : flags:CompilationRepresentationFlags -&gt; CompilationRepresentationAttribute<br />&#160;&#160;member Flags : CompilationRepresentationFlags<br /><br />Full name: Microsoft.FSharp.Core.CompilationRepresentationAttribute<br /><br />--------------------<br />new : flags:CompilationRepresentationFlags -&gt; CompilationRepresentationAttribute</div>
<div class="tip" id="fs55">type CompilationRepresentationFlags =<br />&#160;&#160;|  None  =  0<br />&#160;&#160;|  Static  =  1<br />&#160;&#160;|  Instance  =  2<br />&#160;&#160;|  ModuleSuffix  =  4<br />&#160;&#160;|  UseNullAsTrueValue  =  8<br />&#160;&#160;|  Event  =  16<br /><br />Full name: Microsoft.FSharp.Core.CompilationRepresentationFlags</div>
<div class="tip" id="fs56">CompilationRepresentationFlags.ModuleSuffix: CompilationRepresentationFlags = 4</div>
<div class="tip" id="fs57">val memoize&lt;&#39;model,&#39;msg (requires reference type and reference type)&gt; : ((&#39;model -&gt; &#39;msg UI) -&gt; &#39;model -&gt; &#39;msg UI) (requires reference type and reference type)<br /><br />Full name: Main.UIModule.memoize<br /><em><br /><br />&#160;Memoize view generation from model object references.</em></div>
<div class="tip" id="fs58">val not : value:bool -&gt; bool<br /><br />Full name: Microsoft.FSharp.Core.Operators.not</div>
<div class="tip" id="fs59">val d : ConditionalWeakTable&lt;&#39;model,&#39;msg UI&gt; (requires reference type and reference type)</div>
<div class="tip" id="fs60">Multiple items<br />type ConditionalWeakTable&lt;&#39;TKey,&#39;TValue (requires reference type and reference type)&gt; =<br />&#160;&#160;new : unit -&gt; ConditionalWeakTable&lt;&#39;TKey, &#39;TValue&gt;<br />&#160;&#160;member Add : key:&#39;TKey * value:&#39;TValue -&gt; unit<br />&#160;&#160;member GetOrCreateValue : key:&#39;TKey -&gt; &#39;TValue<br />&#160;&#160;member GetValue : key:&#39;TKey * createValueCallback:CreateValueCallback&lt;&#39;TKey, &#39;TValue&gt; -&gt; &#39;TValue<br />&#160;&#160;member Remove : key:&#39;TKey -&gt; bool<br />&#160;&#160;member TryGetValue : key:&#39;TKey * value:&#39;TValue -&gt; bool<br />&#160;&#160;nested type CreateValueCallback<br /><br />Full name: System.Runtime.CompilerServices.ConditionalWeakTable&lt;_,_&gt;<br /><br />--------------------<br />ConditionalWeakTable() : unit</div>
<div class="tip" id="fs61">val view : (&#39;model -&gt; &#39;msg UI) (requires reference type and reference type)</div>
<div class="tip" id="fs62">val model : &#39;model (requires reference type)</div>
<div class="tip" id="fs63">ConditionalWeakTable.TryGetValue(key: &#39;model, value: byref&lt;&#39;msg UI&gt;) : bool</div>
<div class="tip" id="fs64">val ui : &#39;msg UI (requires reference type)</div>
<div class="tip" id="fs65">ConditionalWeakTable.Add(key: &#39;model, value: &#39;msg UI) : unit</div>
<div class="tip" id="fs66">val text : text:string -&gt; &#39;a UI<br /><br />Full name: Main.UIModule.text<br /><em><br /><br />&#160;Returns a Text display UI component.</em></div>
<div class="tip" id="fs67">val text : string</div>
<div class="tip" id="fs68">val ignore : value:&#39;T -&gt; unit<br /><br />Full name: Microsoft.FSharp.Core.Operators.ignore</div>
<div class="tip" id="fs69">val input : text:string -&gt; string UI<br /><br />Full name: Main.UIModule.input<br /><em><br /><br />&#160;Returns a text Input UI component.</em></div>
<div class="tip" id="fs70">val ev : (string -&gt; unit) ref ref</div>
<div class="tip" id="fs71">val ui : string UI</div>
<div class="tip" id="fs72">val raise : (string -&gt; unit)</div>
<div class="tip" id="fs73">val a : string</div>
<div class="tip" id="fs74">UI.Event: string -&gt; unit</div>
<div class="tip" id="fs75">val button : text:string -&gt; msg:&#39;a -&gt; &#39;a UI<br /><br />Full name: Main.UIModule.button<br /><em><br /><br />&#160;Returns a Button UI component.</em></div>
<div class="tip" id="fs76">val msg : &#39;a</div>
<div class="tip" id="fs77">val ev : (unit -&gt; unit) ref ref</div>
<div class="tip" id="fs78">val ui : &#39;a UI</div>
<div class="tip" id="fs79">UI.Event: &#39;a -&gt; unit</div>
<div class="tip" id="fs80">val div : layout:Layout -&gt; list:&#39;a UI list -&gt; &#39;a UI<br /><br />Full name: Main.UIModule.div<br /><em><br /><br />&#160;Returns a section of UI components given a layout.<br />&#160;The name div comes from HTML and represents a division (or section) of the UI.</em></div>
<div class="tip" id="fs81">val layout : Layout</div>
<div class="tip" id="fs82">Multiple items<br />val list : &#39;a UI list<br /><br />--------------------<br />type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>
<div class="tip" id="fs83">Multiple items<br />module List<br /><br />from Main<br /><br />--------------------<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs84">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><br />Full name: Microsoft.FSharp.Collections.List.map</div>
<div class="tip" id="fs85">UI.UI: UI</div>
<div class="tip" id="fs86">val raise : (&#39;a -&gt; unit)</div>
<div class="tip" id="fs87">val a : &#39;a</div>
<div class="tip" id="fs88">val iter : action:(&#39;T -&gt; unit) -&gt; list:&#39;T list -&gt; unit<br /><br />Full name: Microsoft.FSharp.Collections.List.iter</div>
<div class="tip" id="fs89">val i : &#39;a UI</div>
<div class="tip" id="fs90">val map : f:(&#39;a -&gt; &#39;b) -&gt; ui:&#39;a UI -&gt; &#39;b UI<br /><br />Full name: Main.UIModule.map<br /><em><br /><br />&#160;Returns a new UI component mapping the message event using the given function.</em></div>
<div class="tip" id="fs91">val f : (&#39;a -&gt; &#39;b)</div>
<div class="tip" id="fs92">val ui2 : &#39;b UI</div>
<div class="tip" id="fs93">val e : &#39;a</div>
<div class="tip" id="fs94">UI.Event: &#39;b -&gt; unit</div>
<div class="tip" id="fs95">val diff : ui1:&#39;a UI -&gt; ui2:&#39;b UI -&gt; UIUpdate list<br /><br />Full name: Main.UIModule.diff<br /><em><br /><br />&#160;Returns a list of UI updates from two UI components.</em></div>
<div class="tip" id="fs96">val ui1 : &#39;a UI</div>
<div class="tip" id="fs97">val update : (&#39;c ref ref -&gt; &#39;c ref ref -&gt; unit -&gt; unit)</div>
<div class="tip" id="fs98">val e1 : &#39;c ref ref</div>
<div class="tip" id="fs99">val e2 : &#39;c ref ref</div>
<div class="tip" id="fs100">val ev : &#39;c ref</div>
<div class="tip" id="fs101">val diff : (UI -&gt; UI -&gt; int list -&gt; int -&gt; UIUpdate list -&gt; UIUpdate list)</div>
<div class="tip" id="fs102">val ui1 : UI</div>
<div class="tip" id="fs103">val ui2 : UI</div>
<div class="tip" id="fs104">val path : int list</div>
<div class="tip" id="fs105">val index : int</div>
<div class="tip" id="fs106">val diffs : UIUpdate list</div>
<div class="tip" id="fs107">module LanguagePrimitives<br /><br />from Microsoft.FSharp.Core</div>
<div class="tip" id="fs108">val PhysicalEquality : e1:&#39;T -&gt; e2:&#39;T -&gt; bool (requires reference type)<br /><br />Full name: Microsoft.FSharp.Core.LanguagePrimitives.PhysicalEquality</div>
<div class="tip" id="fs109">val t1 : string</div>
<div class="tip" id="fs110">val t2 : string</div>
<div class="tip" id="fs111">val e1 : unit Event</div>
<div class="tip" id="fs112">val e2 : unit Event</div>
<div class="tip" id="fs113">val e1 : string Event</div>
<div class="tip" id="fs114">val e2 : string Event</div>
<div class="tip" id="fs115">val l1 : Layout</div>
<div class="tip" id="fs116">val l2 : Layout</div>
<div class="tip" id="fs117">val l : UI list</div>
<div class="tip" id="fs118">val fold : folder:(&#39;State -&gt; &#39;T -&gt; &#39;State) -&gt; state:&#39;State -&gt; list:&#39;T list -&gt; &#39;State<br /><br />Full name: Microsoft.FSharp.Collections.List.fold</div>
<div class="tip" id="fs119">val ui : UI</div>
<div class="tip" id="fs120">val snd : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T2<br /><br />Full name: Microsoft.FSharp.Core.Operators.snd</div>
<div class="tip" id="fs121">val l : Layout</div>
<div class="tip" id="fs122">val h1 : UI</div>
<div class="tip" id="fs123">val t1 : UI list</div>
<div class="tip" id="fs124">val h2 : UI</div>
<div class="tip" id="fs125">val t2 : UI list</div>
<div class="tip" id="fs126">val h3 : UI</div>
<div class="tip" id="fs127">val app : model:&#39;a -&gt; update:(&#39;b -&gt; &#39;a -&gt; &#39;a) -&gt; view:(&#39;a -&gt; &#39;b UI) -&gt; App&lt;&#39;b,&#39;a&gt;<br /><br />Full name: Main.UIModule.app<br /><em><br /><br />&#160;Returns a UI application from a UI model, update and view.</em></div>
<div class="tip" id="fs128">val model : &#39;a</div>
<div class="tip" id="fs129">val update : (&#39;b -&gt; &#39;a -&gt; &#39;a)</div>
<div class="tip" id="fs130">val view : (&#39;a -&gt; &#39;b UI)</div>
<div class="tip" id="fs131">val run : nativeUI:INativeUI -&gt; app:App&lt;&#39;a,&#39;b&gt; -&gt; unit<br /><br />Full name: Main.UIModule.run<br /><em><br /><br />&#160;Runs a UI application given a native UI.</em></div>
<div class="tip" id="fs132">val nativeUI : INativeUI</div>
<div class="tip" id="fs133">val app : App&lt;&#39;a,&#39;b&gt;</div>
<div class="tip" id="fs134">val handle : (&#39;b -&gt; &#39;a UI -&gt; &#39;a -&gt; unit)</div>
<div class="tip" id="fs135">val model : &#39;b</div>
<div class="tip" id="fs136">val newModel : &#39;b</div>
<div class="tip" id="fs137">App.Update: &#39;a -&gt; &#39;b -&gt; &#39;b</div>
<div class="tip" id="fs138">val newUI : &#39;a UI</div>
<div class="tip" id="fs139">App.View: &#39;b -&gt; &#39;a UI</div>
<div class="tip" id="fs140">val diff : UIUpdate list</div>
<div class="tip" id="fs141">val f : (unit -&gt; unit)</div>
<div class="tip" id="fs142">abstract member INativeUI.Send : UIUpdate list -&gt; unit</div>
<div class="tip" id="fs143">App.Model: &#39;b</div>
<div class="tip" id="fs144">type Model = int<br /><br />Full name: Main.Counter.Model</div>
<div class="tip" id="fs145">val init : i:Model -&gt; Model<br /><br />Full name: Main.Counter.init</div>
<div class="tip" id="fs146">val i : Model</div>
<div class="tip" id="fs147">type Msg =<br />&#160;&#160;| Increment<br />&#160;&#160;| Decrement<br /><br />Full name: Main.Counter.Msg</div>
<div class="tip" id="fs148">union case Msg.Increment: Msg</div>
<div class="tip" id="fs149">union case Msg.Decrement: Msg</div>
<div class="tip" id="fs150">val update : msg:Msg -&gt; model:int -&gt; int<br /><br />Full name: Main.Counter.update</div>
<div class="tip" id="fs151">val msg : Msg</div>
<div class="tip" id="fs152">val model : int</div>
<div class="tip" id="fs153">val view : model:Model -&gt; Msg UI<br /><br />Full name: Main.Counter.view</div>
<div class="tip" id="fs154">val model : Model</div>
<div class="tip" id="fs155">Multiple items<br />module UI<br /><br />from Main<br /><br />--------------------<br />type UI =<br />&#160;&#160;| Text of string<br />&#160;&#160;| Input of string * string Event<br />&#160;&#160;| Button of string * unit Event<br />&#160;&#160;| Div of Layout * UI list<br /><br />Full name: Main.UI<br /><em><br /><br />&#160;Primitive UI components.</em><br /><br />--------------------<br />type &#39;msg UI =<br />&#160;&#160;{UI: UI;<br />&#160;&#160;&#160;mutable Event: &#39;msg -&gt; unit;}<br /><br />Full name: Main.UI&lt;_&gt;<br /><em><br /><br />&#160;UI component including a message event.</em></div>
<div class="tip" id="fs156">val app : i:Model -&gt; App&lt;Msg,Model&gt;<br /><br />Full name: Main.Counter.app</div>
<div class="tip" id="fs157">type Model =<br />&#160;&#160;{Top: Model;<br />&#160;&#160;&#160;Bottom: Model;}<br /><br />Full name: Main.CounterPair.Model</div>
<div class="tip" id="fs158">Model.Top: Counter.Model</div>
<div class="tip" id="fs159">module Counter<br /><br />from Main</div>
<div class="tip" id="fs160">Model.Bottom: Counter.Model</div>
<div class="tip" id="fs161">val init : top:Counter.Model -&gt; bottom:Counter.Model -&gt; Model<br /><br />Full name: Main.CounterPair.init</div>
<div class="tip" id="fs162">val top : Counter.Model</div>
<div class="tip" id="fs163">val bottom : Counter.Model</div>
<div class="tip" id="fs164">val init : i:Counter.Model -&gt; Counter.Model<br /><br />Full name: Main.Counter.init</div>
<div class="tip" id="fs165">type Msg =<br />&#160;&#160;| Reset<br />&#160;&#160;| Top of Msg<br />&#160;&#160;| Bottom of Msg<br /><br />Full name: Main.CounterPair.Msg</div>
<div class="tip" id="fs166">union case Msg.Reset: Msg</div>
<div class="tip" id="fs167">union case Msg.Top: Counter.Msg -&gt; Msg</div>
<div class="tip" id="fs168">union case Msg.Bottom: Counter.Msg -&gt; Msg</div>
<div class="tip" id="fs169">val update : msg:Msg -&gt; model:Model -&gt; Model<br /><br />Full name: Main.CounterPair.update</div>
<div class="tip" id="fs170">val msg : Counter.Msg</div>
<div class="tip" id="fs171">val update : msg:Counter.Msg -&gt; model:int -&gt; int<br /><br />Full name: Main.Counter.update</div>
<div class="tip" id="fs172">val view : model:Model -&gt; Msg UI<br /><br />Full name: Main.CounterPair.view</div>
<div class="tip" id="fs173">val view : model:Counter.Model -&gt; Counter.Msg UI<br /><br />Full name: Main.Counter.view</div>
<div class="tip" id="fs174">val app : top:Counter.Model -&gt; bottom:Counter.Model -&gt; App&lt;Msg,Model&gt;<br /><br />Full name: Main.CounterPair.app</div>
<div class="tip" id="fs175">module CounterList<br /><br />from Main</div>
<div class="tip" id="fs176">type Model =<br />&#160;&#160;{Counters: Model list;}<br /><br />Full name: Main.CounterList.Model</div>
<div class="tip" id="fs177">Model.Counters: Counter.Model list</div>
<div class="tip" id="fs178">val init : Model<br /><br />Full name: Main.CounterList.init</div>
<div class="tip" id="fs179">type Msg =<br />&#160;&#160;| Insert<br />&#160;&#160;| Remove<br />&#160;&#160;| Modify of int * Msg<br /><br />Full name: Main.CounterList.Msg</div>
<div class="tip" id="fs180">union case Msg.Insert: Msg</div>
<div class="tip" id="fs181">union case Msg.Remove: Msg</div>
<div class="tip" id="fs182">union case Msg.Modify: int * Counter.Msg -&gt; Msg</div>
<div class="tip" id="fs183">val update : msg:Msg -&gt; model:Model -&gt; Model<br /><br />Full name: Main.CounterList.update</div>
<div class="tip" id="fs184">val view : model:Model -&gt; Msg UI<br /><br />Full name: Main.CounterList.view</div>
<div class="tip" id="fs185">val mapi : mapping:(int -&gt; &#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><br />Full name: Microsoft.FSharp.Collections.List.mapi</div>
<div class="tip" id="fs186">val c : Counter.Model</div>
<div class="tip" id="fs187">val v : Counter.Msg</div>
<div class="tip" id="fs188">val app : App&lt;Msg,Model&gt;<br /><br />Full name: Main.CounterList.app</div>
