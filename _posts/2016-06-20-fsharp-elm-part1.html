---
layout: post
title: "F# Implementation of The Elm Architecture"
tags: [Elm,UI,GUI,WPF,Xamarin]
description: ""
keywords: elm, ui, gui, WPF, Xamarin
---
<p>This is a prototype implementation of <a href="http://guide.elm-lang.org/architecture/index.html">The Elm Architecture</a> in F#.
This post covers the UI implementation and a follow up <a href="{% post_url 2016-07-01-fsharp-elm-part2 %}">post</a> covers using it with WPF and Xamarin.</p>
<h2><a name="Background" class="anchor" href="#Background">Background</a></h2>
<p><a href="http://guide.elm-lang.org/architecture/index.html">The Elm Architecture</a> is a simple pattern for creating functional UIs.
Due to its modularity and composability it makes UI code easier to write, understand, test and reuse.</p>
<p>The UI implementation is a complete representation of the native UI.
A minimal list of UI updates is calculated from the current and future UI.
This is then used to update the native UI with as little interaction as possible.
This means the native UI renders faster and is more responsive.
It also means multiple native UI platforms can be targeted with the same application code.</p>
<h2><a name="UI-types" class="anchor" href="#UI-types">UI types</a></h2>
<p>UI events are implemented using simple functions that are mapped and combined up to the top level message event.
At the primitive UI component level events are implemented using a double <code>ref</code>.
This is so the native UI events only have to be hooked up once.
The events can be redirected quickly as the UI changes without the potential memory leak that arises from a single <code>ref</code> implementation.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Message event used on the primitive UI components.</span>
<span class="k">type</span> <span class="ta">&#39;</span><span class="id">msg</span> <span onmouseout="hideTip(event, 'fs25', 56)" onmouseover="showTip(event, 'fs25', 56)" class="rt">Event</span> <span class="o">=</span> <span class="pn">(</span><span class="ta">&#39;</span><span class="id">msg</span><span class="k">-&gt;</span><span onmouseout="hideTip(event, 'fs26', 57)" onmouseover="showTip(event, 'fs26', 57)" class="rt">unit</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs27', 58)" onmouseover="showTip(event, 'fs27', 58)" class="rt">ref</span> <span onmouseout="hideTip(event, 'fs27', 59)" onmouseover="showTip(event, 'fs27', 59)" class="rt">ref</span>

<span class="c">/// Layout for a section of UI components.</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs28', 60)" onmouseover="showTip(event, 'fs28', 60)" class="rt">Layout</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs29', 61)" onmouseover="showTip(event, 'fs29', 61)" class="uc">Horizontal</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs30', 62)" onmouseover="showTip(event, 'fs30', 62)" class="uc">Vertical</span>

<span class="c">/// Primitive UI components.</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs31', 63)" onmouseover="showTip(event, 'fs31', 63)" class="rt">UI</span> <span class="o">=</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs32', 64)" onmouseover="showTip(event, 'fs32', 64)" class="uc">Text</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs33', 65)" onmouseover="showTip(event, 'fs33', 65)" class="rt">string</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs34', 66)" onmouseover="showTip(event, 'fs34', 66)" class="uc">Input</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs33', 67)" onmouseover="showTip(event, 'fs33', 67)" class="rt">string</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs33', 68)" onmouseover="showTip(event, 'fs33', 68)" class="rt">string</span> <span onmouseout="hideTip(event, 'fs25', 69)" onmouseover="showTip(event, 'fs25', 69)" class="rt">Event</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs35', 70)" onmouseover="showTip(event, 'fs35', 70)" class="uc">Button</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs33', 71)" onmouseover="showTip(event, 'fs33', 71)" class="rt">string</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs26', 72)" onmouseover="showTip(event, 'fs26', 72)" class="rt">unit</span> <span onmouseout="hideTip(event, 'fs25', 73)" onmouseover="showTip(event, 'fs25', 73)" class="rt">Event</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs36', 74)" onmouseover="showTip(event, 'fs36', 74)" class="uc">Div</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs28', 75)" onmouseover="showTip(event, 'fs28', 75)" class="rt">Layout</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs31', 76)" onmouseover="showTip(event, 'fs31', 76)" class="rt">UI</span> <span onmouseout="hideTip(event, 'fs37', 77)" onmouseover="showTip(event, 'fs37', 77)" class="rt">list</span>

<span class="c">/// UI component update and event redirection.</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs38', 78)" onmouseover="showTip(event, 'fs38', 78)" class="rt">UIUpdate</span> <span class="o">=</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs39', 79)" onmouseover="showTip(event, 'fs39', 79)" class="uc">InsertUI</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs40', 80)" onmouseover="showTip(event, 'fs40', 80)" class="vt">int</span> <span onmouseout="hideTip(event, 'fs37', 81)" onmouseover="showTip(event, 'fs37', 81)" class="rt">list</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs31', 82)" onmouseover="showTip(event, 'fs31', 82)" class="rt">UI</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs41', 83)" onmouseover="showTip(event, 'fs41', 83)" class="uc">UpdateUI</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs40', 84)" onmouseover="showTip(event, 'fs40', 84)" class="vt">int</span> <span onmouseout="hideTip(event, 'fs37', 85)" onmouseover="showTip(event, 'fs37', 85)" class="rt">list</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs31', 86)" onmouseover="showTip(event, 'fs31', 86)" class="rt">UI</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs42', 87)" onmouseover="showTip(event, 'fs42', 87)" class="uc">ReplaceUI</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs40', 88)" onmouseover="showTip(event, 'fs40', 88)" class="vt">int</span> <span onmouseout="hideTip(event, 'fs37', 89)" onmouseover="showTip(event, 'fs37', 89)" class="rt">list</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs31', 90)" onmouseover="showTip(event, 'fs31', 90)" class="rt">UI</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs43', 91)" onmouseover="showTip(event, 'fs43', 91)" class="uc">RemoveUI</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs40', 92)" onmouseover="showTip(event, 'fs40', 92)" class="vt">int</span> <span onmouseout="hideTip(event, 'fs37', 93)" onmouseover="showTip(event, 'fs37', 93)" class="rt">list</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs44', 94)" onmouseover="showTip(event, 'fs44', 94)" class="uc">EventUI</span> <span class="k">of</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs26', 95)" onmouseover="showTip(event, 'fs26', 95)" class="rt">unit</span><span class="k">-&gt;</span><span onmouseout="hideTip(event, 'fs26', 96)" onmouseover="showTip(event, 'fs26', 96)" class="rt">unit</span><span class="pn">)</span>

<span class="c">/// UI component including a message event.</span>
<span class="k">type</span> <span class="ta">&#39;</span><span class="id">msg</span> <span onmouseout="hideTip(event, 'fs45', 97)" onmouseover="showTip(event, 'fs45', 97)" class="rt">UI</span> <span class="o">=</span> <span class="pn">{</span><span onmouseout="hideTip(event, 'fs46', 98)" onmouseover="showTip(event, 'fs46', 98)" class="id">UI</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs45', 99)" onmouseover="showTip(event, 'fs45', 99)" class="rt">UI</span><span class="pn">;</span><span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs47', 100)" onmouseover="showTip(event, 'fs47', 100)" class="mv">Event</span><span class="pn">:</span><span class="ta">&#39;</span><span class="id">msg</span><span class="k">-&gt;</span><span onmouseout="hideTip(event, 'fs26', 101)" onmouseover="showTip(event, 'fs26', 101)" class="rt">unit</span><span class="pn">}</span>

<span class="c">/// UI application.</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs48', 102)" onmouseover="showTip(event, 'fs48', 102)" class="rt">App</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">msg</span><span class="pn">,</span><span class="ta">&#39;</span><span class="id">model</span><span class="pn">&gt;</span> <span class="o">=</span>
    <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs49', 103)" onmouseover="showTip(event, 'fs49', 103)" class="id">Model</span><span class="pn">:</span><span class="ta">&#39;</span><span class="id">model</span>
        <span onmouseout="hideTip(event, 'fs50', 104)" onmouseover="showTip(event, 'fs50', 104)" class="fn">Update</span><span class="pn">:</span><span class="ta">&#39;</span><span class="id">msg</span><span class="k">-&gt;</span><span class="ta">&#39;</span><span class="id">model</span><span class="k">-&gt;</span><span class="ta">&#39;</span><span class="id">model</span>
        <span onmouseout="hideTip(event, 'fs51', 105)" onmouseover="showTip(event, 'fs51', 105)" class="fn">View</span><span class="pn">:</span><span class="ta">&#39;</span><span class="id">model</span><span class="k">-&gt;</span><span class="ta">&#39;</span><span class="id">msg</span> <span onmouseout="hideTip(event, 'fs45', 106)" onmouseover="showTip(event, 'fs45', 106)" class="rt">UI</span>
    <span class="pn">}</span>

<span class="c">/// Native UI interface.</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs52', 107)" onmouseover="showTip(event, 'fs52', 107)" class="if">INativeUI</span> <span class="o">=</span>
    <span class="k">abstract</span> <span class="k">member</span> <span class="fn">Send</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs38', 108)" onmouseover="showTip(event, 'fs38', 108)" class="rt">UIUpdate</span> <span onmouseout="hideTip(event, 'fs37', 109)" onmouseover="showTip(event, 'fs37', 109)" class="rt">list</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs26', 110)" onmouseover="showTip(event, 'fs26', 110)" class="rt">unit</span>
</code></pre>
<h2><a name="UI-module" class="anchor" href="#UI-module">UI module</a></h2>
<p>The UI rendering can be made even faster by using the memoize function in larger views.
This stores a weak reference to a model and its view output.
It makes the view and diff functions quicker and can remove unnecessary UI updates.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs53', 111)" onmouseover="showTip(event, 'fs53', 111)" class="rt">CompilationRepresentation</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs54', 112)" onmouseover="showTip(event, 'fs54', 112)" class="vt">CompilationRepresentationFlags</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs55', 113)" onmouseover="showTip(event, 'fs55', 113)" class="id">ModuleSuffix</span><span class="pn">)</span><span class="pn">&gt;]</span>
<span class="k">module</span> <span onmouseout="hideTip(event, 'fs45', 114)" onmouseover="showTip(event, 'fs45', 114)" class="m">UI</span> <span class="o">=</span>
    <span class="c">/// Memoize view generation from model object references.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs56', 115)" onmouseover="showTip(event, 'fs56', 115)" class="fn">memoize</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">model</span> <span class="pn">,</span><span class="ta">&#39;</span><span class="id">msg</span>  <span class="k">when</span> <span class="ta">&#39;</span><span class="id">model</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs57', 116)" onmouseover="showTip(event, 'fs57', 116)" class="id">not</span> <span class="k">struct</span> <span class="k">and</span> <span class="ta">&#39;</span><span class="id">msg</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs57', 117)" onmouseover="showTip(event, 'fs57', 117)" class="id">not</span> <span class="k">struct</span><span class="pn">&gt;</span> <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs58', 118)" onmouseover="showTip(event, 'fs58', 118)" class="id">d</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs59', 119)" onmouseover="showTip(event, 'fs59', 119)" class="rt">ConditionalWeakTable</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">model</span><span class="pn">,</span><span class="ta">&#39;</span><span class="id">msg</span> <span onmouseout="hideTip(event, 'fs45', 120)" onmouseover="showTip(event, 'fs45', 120)" class="rt">UI</span><span class="pn">&gt;</span><span class="pn">(</span><span class="pn">)</span>
        <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs60', 121)" onmouseover="showTip(event, 'fs60', 121)" class="fn">view</span> <span onmouseout="hideTip(event, 'fs61', 122)" onmouseover="showTip(event, 'fs61', 122)" class="id">model</span> <span class="k">-&gt;</span>
            <span class="k">match</span> <span onmouseout="hideTip(event, 'fs58', 123)" onmouseover="showTip(event, 'fs58', 123)" class="fn">d</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs62', 124)" onmouseover="showTip(event, 'fs62', 124)" class="id">TryGetValue</span> <span onmouseout="hideTip(event, 'fs61', 125)" onmouseover="showTip(event, 'fs61', 125)" class="id">model</span> <span class="k">with</span>
            <span class="pn">|</span><span class="k">true</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs63', 126)" onmouseover="showTip(event, 'fs63', 126)" class="id">ui</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs63', 127)" onmouseover="showTip(event, 'fs63', 127)" class="id">ui</span>
            <span class="pn">|</span><span class="k">false</span><span class="pn">,</span><span class="id">_</span> <span class="k">-&gt;</span>
                <span class="k">let</span> <span onmouseout="hideTip(event, 'fs63', 128)" onmouseover="showTip(event, 'fs63', 128)" class="id">ui</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs60', 129)" onmouseover="showTip(event, 'fs60', 129)" class="fn">view</span> <span onmouseout="hideTip(event, 'fs61', 130)" onmouseover="showTip(event, 'fs61', 130)" class="id">model</span>
                <span onmouseout="hideTip(event, 'fs58', 131)" onmouseover="showTip(event, 'fs58', 131)" class="fn">d</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs64', 132)" onmouseover="showTip(event, 'fs64', 132)" class="id">Add</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs61', 133)" onmouseover="showTip(event, 'fs61', 133)" class="id">model</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs63', 134)" onmouseover="showTip(event, 'fs63', 134)" class="id">ui</span><span class="pn">)</span>
                <span onmouseout="hideTip(event, 'fs63', 135)" onmouseover="showTip(event, 'fs63', 135)" class="id">ui</span>

    <span class="c">/// Returns a Text display UI component.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 136)" onmouseover="showTip(event, 'fs65', 136)" class="fn">text</span> <span onmouseout="hideTip(event, 'fs66', 137)" onmouseover="showTip(event, 'fs66', 137)" class="id">text</span> <span class="o">=</span> <span class="pn">{</span><span onmouseout="hideTip(event, 'fs45', 138)" onmouseover="showTip(event, 'fs45', 138)" class="id">UI</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs32', 139)" onmouseover="showTip(event, 'fs32', 139)" class="uc">Text</span> <span onmouseout="hideTip(event, 'fs66', 140)" onmouseover="showTip(event, 'fs66', 140)" class="id">text</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs25', 141)" onmouseover="showTip(event, 'fs25', 141)" class="mv">Event</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs67', 142)" onmouseover="showTip(event, 'fs67', 142)" class="fn">ignore</span><span class="pn">}</span>
    
    <span class="c">/// Returns a text Input UI component.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs68', 143)" onmouseover="showTip(event, 'fs68', 143)" class="fn">input</span> <span onmouseout="hideTip(event, 'fs66', 144)" onmouseover="showTip(event, 'fs66', 144)" class="id">text</span> <span class="o">=</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs69', 145)" onmouseover="showTip(event, 'fs69', 145)" class="mv">ev</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs27', 146)" onmouseover="showTip(event, 'fs27', 146)" class="fn">ref</span> <span onmouseout="hideTip(event, 'fs67', 147)" onmouseover="showTip(event, 'fs67', 147)" class="fn">ignore</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 148)" onmouseover="showTip(event, 'fs27', 148)" class="fn">ref</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs70', 149)" onmouseover="showTip(event, 'fs70', 149)" class="id">ui</span> <span class="o">=</span> <span class="pn">{</span><span onmouseout="hideTip(event, 'fs45', 150)" onmouseover="showTip(event, 'fs45', 150)" class="id">UI</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs34', 151)" onmouseover="showTip(event, 'fs34', 151)" class="uc">Input</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs66', 152)" onmouseover="showTip(event, 'fs66', 152)" class="id">text</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs69', 153)" onmouseover="showTip(event, 'fs69', 153)" class="mv">ev</span><span class="pn">)</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs25', 154)" onmouseover="showTip(event, 'fs25', 154)" class="mv">Event</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs67', 155)" onmouseover="showTip(event, 'fs67', 155)" class="fn">ignore</span><span class="pn">}</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs71', 156)" onmouseover="showTip(event, 'fs71', 156)" class="fn">raise</span> <span onmouseout="hideTip(event, 'fs72', 157)" onmouseover="showTip(event, 'fs72', 157)" class="id">a</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs70', 158)" onmouseover="showTip(event, 'fs70', 158)" class="mv">ui</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs73', 159)" onmouseover="showTip(event, 'fs73', 159)" class="id">Event</span> <span onmouseout="hideTip(event, 'fs72', 160)" onmouseover="showTip(event, 'fs72', 160)" class="id">a</span>
        <span class="pn">(</span><span class="o">!</span><span onmouseout="hideTip(event, 'fs69', 161)" onmouseover="showTip(event, 'fs69', 161)" class="mv">ev</span><span class="pn">)</span><span class="o">:=</span><span onmouseout="hideTip(event, 'fs71', 162)" onmouseover="showTip(event, 'fs71', 162)" class="fn">raise</span>
        <span onmouseout="hideTip(event, 'fs70', 163)" onmouseover="showTip(event, 'fs70', 163)" class="id">ui</span>

    <span class="c">/// Returns a Button UI component.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs74', 164)" onmouseover="showTip(event, 'fs74', 164)" class="fn">button</span> <span onmouseout="hideTip(event, 'fs66', 165)" onmouseover="showTip(event, 'fs66', 165)" class="id">text</span> <span onmouseout="hideTip(event, 'fs75', 166)" onmouseover="showTip(event, 'fs75', 166)" class="id">msg</span> <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs76', 167)" onmouseover="showTip(event, 'fs76', 167)" class="mv">ev</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs27', 168)" onmouseover="showTip(event, 'fs27', 168)" class="fn">ref</span> <span onmouseout="hideTip(event, 'fs67', 169)" onmouseover="showTip(event, 'fs67', 169)" class="fn">ignore</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 170)" onmouseover="showTip(event, 'fs27', 170)" class="fn">ref</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs77', 171)" onmouseover="showTip(event, 'fs77', 171)" class="id">ui</span> <span class="o">=</span> <span class="pn">{</span><span onmouseout="hideTip(event, 'fs45', 172)" onmouseover="showTip(event, 'fs45', 172)" class="id">UI</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs35', 173)" onmouseover="showTip(event, 'fs35', 173)" class="uc">Button</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs66', 174)" onmouseover="showTip(event, 'fs66', 174)" class="id">text</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs76', 175)" onmouseover="showTip(event, 'fs76', 175)" class="mv">ev</span><span class="pn">)</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs25', 176)" onmouseover="showTip(event, 'fs25', 176)" class="mv">Event</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs67', 177)" onmouseover="showTip(event, 'fs67', 177)" class="fn">ignore</span><span class="pn">}</span>
        <span class="pn">(</span><span class="o">!</span><span onmouseout="hideTip(event, 'fs76', 178)" onmouseover="showTip(event, 'fs76', 178)" class="mv">ev</span><span class="pn">)</span><span class="o">:=</span><span class="k">fun</span> <span class="pn">(</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs77', 179)" onmouseover="showTip(event, 'fs77', 179)" class="mv">ui</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs78', 180)" onmouseover="showTip(event, 'fs78', 180)" class="id">Event</span> <span onmouseout="hideTip(event, 'fs75', 181)" onmouseover="showTip(event, 'fs75', 181)" class="id">msg</span>
        <span onmouseout="hideTip(event, 'fs77', 182)" onmouseover="showTip(event, 'fs77', 182)" class="id">ui</span>

    <span class="c">/// Returns a section of UI components given a layout.</span>
    <span class="c">/// The name div comes from HTML and represents a division (or section) of the UI.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs79', 183)" onmouseover="showTip(event, 'fs79', 183)" class="fn">div</span> <span onmouseout="hideTip(event, 'fs80', 184)" onmouseover="showTip(event, 'fs80', 184)" class="id">layout</span> <span onmouseout="hideTip(event, 'fs81', 185)" onmouseover="showTip(event, 'fs81', 185)" class="id">list</span> <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs77', 186)" onmouseover="showTip(event, 'fs77', 186)" class="id">ui</span> <span class="o">=</span> <span class="pn">{</span><span onmouseout="hideTip(event, 'fs45', 187)" onmouseover="showTip(event, 'fs45', 187)" class="id">UI</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs36', 188)" onmouseover="showTip(event, 'fs36', 188)" class="uc">Div</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs80', 189)" onmouseover="showTip(event, 'fs80', 189)" class="id">layout</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs82', 190)" onmouseover="showTip(event, 'fs82', 190)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs83', 191)" onmouseover="showTip(event, 'fs83', 191)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs77', 192)" onmouseover="showTip(event, 'fs77', 192)" class="id">ui</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs77', 193)" onmouseover="showTip(event, 'fs77', 193)" class="id">ui</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs84', 194)" onmouseover="showTip(event, 'fs84', 194)" class="id">UI</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs81', 195)" onmouseover="showTip(event, 'fs81', 195)" class="id">list</span><span class="pn">)</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs25', 196)" onmouseover="showTip(event, 'fs25', 196)" class="mv">Event</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs67', 197)" onmouseover="showTip(event, 'fs67', 197)" class="fn">ignore</span><span class="pn">}</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs85', 198)" onmouseover="showTip(event, 'fs85', 198)" class="fn">raise</span> <span onmouseout="hideTip(event, 'fs86', 199)" onmouseover="showTip(event, 'fs86', 199)" class="id">a</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs77', 200)" onmouseover="showTip(event, 'fs77', 200)" class="mv">ui</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs78', 201)" onmouseover="showTip(event, 'fs78', 201)" class="id">Event</span> <span onmouseout="hideTip(event, 'fs86', 202)" onmouseover="showTip(event, 'fs86', 202)" class="id">a</span>
        <span onmouseout="hideTip(event, 'fs82', 203)" onmouseover="showTip(event, 'fs82', 203)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs87', 204)" onmouseover="showTip(event, 'fs87', 204)" class="id">iter</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs88', 205)" onmouseover="showTip(event, 'fs88', 205)" class="id">i</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs88', 206)" onmouseover="showTip(event, 'fs88', 206)" class="mv">i</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs78', 207)" onmouseover="showTip(event, 'fs78', 207)" class="id">Event</span><span class="k">&lt;-</span><span onmouseout="hideTip(event, 'fs85', 208)" onmouseover="showTip(event, 'fs85', 208)" class="fn">raise</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs81', 209)" onmouseover="showTip(event, 'fs81', 209)" class="id">list</span>
        <span onmouseout="hideTip(event, 'fs77', 210)" onmouseover="showTip(event, 'fs77', 210)" class="id">ui</span>
    
    <span class="c">/// Returns a new UI component mapping the message event using the given function.</span>
    <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs89', 211)" onmouseover="showTip(event, 'fs89', 211)" class="fn">map</span> <span onmouseout="hideTip(event, 'fs90', 212)" onmouseover="showTip(event, 'fs90', 212)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs77', 213)" onmouseover="showTip(event, 'fs77', 213)" class="id">ui</span> <span class="o">=</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs91', 214)" onmouseover="showTip(event, 'fs91', 214)" class="id">ui2</span> <span class="o">=</span> <span class="pn">{</span><span onmouseout="hideTip(event, 'fs45', 215)" onmouseover="showTip(event, 'fs45', 215)" class="id">UI</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs77', 216)" onmouseover="showTip(event, 'fs77', 216)" class="id">ui</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs84', 217)" onmouseover="showTip(event, 'fs84', 217)" class="id">UI</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs25', 218)" onmouseover="showTip(event, 'fs25', 218)" class="mv">Event</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs67', 219)" onmouseover="showTip(event, 'fs67', 219)" class="fn">ignore</span><span class="pn">}</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs85', 220)" onmouseover="showTip(event, 'fs85', 220)" class="fn">raise</span> <span onmouseout="hideTip(event, 'fs92', 221)" onmouseover="showTip(event, 'fs92', 221)" class="id">e</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs90', 222)" onmouseover="showTip(event, 'fs90', 222)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs92', 223)" onmouseover="showTip(event, 'fs92', 223)" class="id">e</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs91', 224)" onmouseover="showTip(event, 'fs91', 224)" class="mv">ui2</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs93', 225)" onmouseover="showTip(event, 'fs93', 225)" class="id">Event</span>
        <span onmouseout="hideTip(event, 'fs77', 226)" onmouseover="showTip(event, 'fs77', 226)" class="mv">ui</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs78', 227)" onmouseover="showTip(event, 'fs78', 227)" class="id">Event</span><span class="k">&lt;-</span><span onmouseout="hideTip(event, 'fs85', 228)" onmouseover="showTip(event, 'fs85', 228)" class="fn">raise</span>
        <span onmouseout="hideTip(event, 'fs91', 229)" onmouseover="showTip(event, 'fs91', 229)" class="id">ui2</span>

    <span class="c">/// Returns a list of UI updates from two UI components.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs94', 230)" onmouseover="showTip(event, 'fs94', 230)" class="fn">diff</span> <span onmouseout="hideTip(event, 'fs95', 231)" onmouseover="showTip(event, 'fs95', 231)" class="id">ui1</span> <span onmouseout="hideTip(event, 'fs91', 232)" onmouseover="showTip(event, 'fs91', 232)" class="id">ui2</span> <span class="o">=</span>
        <span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs96', 233)" onmouseover="showTip(event, 'fs96', 233)" class="fn">update</span> <span onmouseout="hideTip(event, 'fs97', 234)" onmouseover="showTip(event, 'fs97', 234)" class="mv">e1</span> <span onmouseout="hideTip(event, 'fs98', 235)" onmouseover="showTip(event, 'fs98', 235)" class="mv">e2</span> <span class="o">=</span> <span class="k">fun</span> <span class="pn">(</span><span class="pn">)</span> <span class="k">-&gt;</span> <span class="k">let</span> <span onmouseout="hideTip(event, 'fs99', 236)" onmouseover="showTip(event, 'fs99', 236)" class="mv">ev</span> <span class="o">=</span> <span class="o">!</span><span onmouseout="hideTip(event, 'fs97', 237)" onmouseover="showTip(event, 'fs97', 237)" class="mv">e1</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs99', 238)" onmouseover="showTip(event, 'fs99', 238)" class="mv">ev</span><span class="o">:=</span><span class="o">!</span><span class="pn">(</span><span class="o">!</span><span onmouseout="hideTip(event, 'fs98', 239)" onmouseover="showTip(event, 'fs98', 239)" class="mv">e2</span><span class="pn">)</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs98', 240)" onmouseover="showTip(event, 'fs98', 240)" class="mv">e2</span><span class="o">:=</span><span onmouseout="hideTip(event, 'fs99', 241)" onmouseover="showTip(event, 'fs99', 241)" class="mv">ev</span>
        <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs100', 242)" onmouseover="showTip(event, 'fs100', 242)" class="fn">diff</span> <span onmouseout="hideTip(event, 'fs101', 243)" onmouseover="showTip(event, 'fs101', 243)" class="id">ui1</span> <span onmouseout="hideTip(event, 'fs102', 244)" onmouseover="showTip(event, 'fs102', 244)" class="id">ui2</span> <span onmouseout="hideTip(event, 'fs103', 245)" onmouseover="showTip(event, 'fs103', 245)" class="id">path</span> <span onmouseout="hideTip(event, 'fs104', 246)" onmouseover="showTip(event, 'fs104', 246)" class="id">index</span> <span onmouseout="hideTip(event, 'fs105', 247)" onmouseover="showTip(event, 'fs105', 247)" class="id">diffs</span> <span class="o">=</span>
            <span class="k">match</span> <span onmouseout="hideTip(event, 'fs101', 248)" onmouseover="showTip(event, 'fs101', 248)" class="id">ui1</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs102', 249)" onmouseover="showTip(event, 'fs102', 249)" class="id">ui2</span> <span class="k">with</span>
            <span class="pn">|</span><span class="id">_</span> <span class="k">when</span> <span onmouseout="hideTip(event, 'fs106', 250)" onmouseover="showTip(event, 'fs106', 250)" class="m">LanguagePrimitives</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs107', 251)" onmouseover="showTip(event, 'fs107', 251)" class="id">PhysicalEquality</span> <span onmouseout="hideTip(event, 'fs101', 252)" onmouseover="showTip(event, 'fs101', 252)" class="id">ui1</span> <span onmouseout="hideTip(event, 'fs102', 253)" onmouseover="showTip(event, 'fs102', 253)" class="id">ui2</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs105', 254)" onmouseover="showTip(event, 'fs105', 254)" class="id">diffs</span>
            <span class="pn">|</span><span onmouseout="hideTip(event, 'fs32', 255)" onmouseover="showTip(event, 'fs32', 255)" class="uc">Text</span> <span onmouseout="hideTip(event, 'fs108', 256)" onmouseover="showTip(event, 'fs108', 256)" class="id">t1</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs32', 257)" onmouseover="showTip(event, 'fs32', 257)" class="uc">Text</span> <span onmouseout="hideTip(event, 'fs109', 258)" onmouseover="showTip(event, 'fs109', 258)" class="id">t2</span> <span class="k">-&gt;</span> <span class="k">if</span> <span class="id">t1</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs109', 259)" onmouseover="showTip(event, 'fs109', 259)" class="id">t2</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs105', 260)" onmouseover="showTip(event, 'fs105', 260)" class="id">diffs</span> <span class="k">else</span> <span onmouseout="hideTip(event, 'fs41', 261)" onmouseover="showTip(event, 'fs41', 261)" class="uc">UpdateUI</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 262)" onmouseover="showTip(event, 'fs103', 262)" class="id">path</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs102', 263)" onmouseover="showTip(event, 'fs102', 263)" class="id">ui2</span><span class="pn">)</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs105', 264)" onmouseover="showTip(event, 'fs105', 264)" class="id">diffs</span>
            <span class="pn">|</span><span onmouseout="hideTip(event, 'fs35', 265)" onmouseover="showTip(event, 'fs35', 265)" class="uc">Button</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs108', 266)" onmouseover="showTip(event, 'fs108', 266)" class="id">t1</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs110', 267)" onmouseover="showTip(event, 'fs110', 267)" class="mv">e1</span><span class="pn">)</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs35', 268)" onmouseover="showTip(event, 'fs35', 268)" class="uc">Button</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs109', 269)" onmouseover="showTip(event, 'fs109', 269)" class="id">t2</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs111', 270)" onmouseover="showTip(event, 'fs111', 270)" class="mv">e2</span><span class="pn">)</span> <span class="k">-&gt;</span>
                <span class="k">if</span> <span onmouseout="hideTip(event, 'fs108', 271)" onmouseover="showTip(event, 'fs108', 271)" class="id">t1</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs109', 272)" onmouseover="showTip(event, 'fs109', 272)" class="id">t2</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs44', 273)" onmouseover="showTip(event, 'fs44', 273)" class="uc">EventUI</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs96', 274)" onmouseover="showTip(event, 'fs96', 274)" class="fn">update</span> <span onmouseout="hideTip(event, 'fs110', 275)" onmouseover="showTip(event, 'fs110', 275)" class="mv">e1</span> <span onmouseout="hideTip(event, 'fs111', 276)" onmouseover="showTip(event, 'fs111', 276)" class="mv">e2</span><span class="pn">)</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs105', 277)" onmouseover="showTip(event, 'fs105', 277)" class="id">diffs</span> 
                <span class="k">else</span> <span onmouseout="hideTip(event, 'fs44', 278)" onmouseover="showTip(event, 'fs44', 278)" class="uc">EventUI</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs96', 279)" onmouseover="showTip(event, 'fs96', 279)" class="fn">update</span> <span onmouseout="hideTip(event, 'fs110', 280)" onmouseover="showTip(event, 'fs110', 280)" class="mv">e1</span> <span onmouseout="hideTip(event, 'fs111', 281)" onmouseover="showTip(event, 'fs111', 281)" class="mv">e2</span><span class="pn">)</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs41', 282)" onmouseover="showTip(event, 'fs41', 282)" class="uc">UpdateUI</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 283)" onmouseover="showTip(event, 'fs103', 283)" class="id">path</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs102', 284)" onmouseover="showTip(event, 'fs102', 284)" class="id">ui2</span><span class="pn">)</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs105', 285)" onmouseover="showTip(event, 'fs105', 285)" class="id">diffs</span>
            <span class="pn">|</span><span onmouseout="hideTip(event, 'fs34', 286)" onmouseover="showTip(event, 'fs34', 286)" class="uc">Input</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs108', 287)" onmouseover="showTip(event, 'fs108', 287)" class="id">t1</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs112', 288)" onmouseover="showTip(event, 'fs112', 288)" class="mv">e1</span><span class="pn">)</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs34', 289)" onmouseover="showTip(event, 'fs34', 289)" class="uc">Input</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs109', 290)" onmouseover="showTip(event, 'fs109', 290)" class="id">t2</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs113', 291)" onmouseover="showTip(event, 'fs113', 291)" class="mv">e2</span><span class="pn">)</span> <span class="k">-&gt;</span> 
                <span class="k">if</span> <span onmouseout="hideTip(event, 'fs108', 292)" onmouseover="showTip(event, 'fs108', 292)" class="id">t1</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs109', 293)" onmouseover="showTip(event, 'fs109', 293)" class="id">t2</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs44', 294)" onmouseover="showTip(event, 'fs44', 294)" class="uc">EventUI</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs96', 295)" onmouseover="showTip(event, 'fs96', 295)" class="fn">update</span> <span onmouseout="hideTip(event, 'fs112', 296)" onmouseover="showTip(event, 'fs112', 296)" class="mv">e1</span> <span onmouseout="hideTip(event, 'fs113', 297)" onmouseover="showTip(event, 'fs113', 297)" class="mv">e2</span><span class="pn">)</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs105', 298)" onmouseover="showTip(event, 'fs105', 298)" class="id">diffs</span>
                <span class="k">else</span> <span onmouseout="hideTip(event, 'fs44', 299)" onmouseover="showTip(event, 'fs44', 299)" class="uc">EventUI</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs96', 300)" onmouseover="showTip(event, 'fs96', 300)" class="fn">update</span> <span onmouseout="hideTip(event, 'fs112', 301)" onmouseover="showTip(event, 'fs112', 301)" class="mv">e1</span> <span onmouseout="hideTip(event, 'fs113', 302)" onmouseover="showTip(event, 'fs113', 302)" class="mv">e2</span><span class="pn">)</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs41', 303)" onmouseover="showTip(event, 'fs41', 303)" class="uc">UpdateUI</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 304)" onmouseover="showTip(event, 'fs103', 304)" class="id">path</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs102', 305)" onmouseover="showTip(event, 'fs102', 305)" class="id">ui2</span><span class="pn">)</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs105', 306)" onmouseover="showTip(event, 'fs105', 306)" class="id">diffs</span>
            <span class="pn">|</span><span onmouseout="hideTip(event, 'fs35', 307)" onmouseover="showTip(event, 'fs35', 307)" class="uc">Button</span> <span class="id">_</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs35', 308)" onmouseover="showTip(event, 'fs35', 308)" class="uc">Button</span> <span class="id">_</span> <span class="pn">|</span><span onmouseout="hideTip(event, 'fs34', 309)" onmouseover="showTip(event, 'fs34', 309)" class="uc">Input</span> <span class="id">_</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs34', 310)" onmouseover="showTip(event, 'fs34', 310)" class="uc">Input</span> <span class="id">_</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs41', 311)" onmouseover="showTip(event, 'fs41', 311)" class="uc">UpdateUI</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 312)" onmouseover="showTip(event, 'fs103', 312)" class="id">path</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs102', 313)" onmouseover="showTip(event, 'fs102', 313)" class="id">ui2</span><span class="pn">)</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs105', 314)" onmouseover="showTip(event, 'fs105', 314)" class="id">diffs</span>
            <span class="pn">|</span><span onmouseout="hideTip(event, 'fs36', 315)" onmouseover="showTip(event, 'fs36', 315)" class="uc">Div</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs114', 316)" onmouseover="showTip(event, 'fs114', 316)" class="id">l1</span><span class="pn">,</span><span class="id">_</span><span class="pn">)</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs36', 317)" onmouseover="showTip(event, 'fs36', 317)" class="uc">Div</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs115', 318)" onmouseover="showTip(event, 'fs115', 318)" class="id">l2</span><span class="pn">,</span><span class="id">_</span><span class="pn">)</span> <span class="k">when</span> <span onmouseout="hideTip(event, 'fs114', 319)" onmouseover="showTip(event, 'fs114', 319)" class="id">l1</span><span class="o">&lt;&gt;</span><span onmouseout="hideTip(event, 'fs115', 320)" onmouseover="showTip(event, 'fs115', 320)" class="id">l2</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs42', 321)" onmouseover="showTip(event, 'fs42', 321)" class="uc">ReplaceUI</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 322)" onmouseover="showTip(event, 'fs103', 322)" class="id">path</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs102', 323)" onmouseover="showTip(event, 'fs102', 323)" class="id">ui2</span><span class="pn">)</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs105', 324)" onmouseover="showTip(event, 'fs105', 324)" class="id">diffs</span>
            <span class="pn">|</span><span onmouseout="hideTip(event, 'fs36', 325)" onmouseover="showTip(event, 'fs36', 325)" class="uc">Div</span> <span class="pn">(</span><span class="id">_</span><span class="pn">,</span><span class="pn">[</span><span class="pn">]</span><span class="pn">)</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs36', 326)" onmouseover="showTip(event, 'fs36', 326)" class="uc">Div</span> <span class="pn">(</span><span class="id">_</span><span class="pn">,</span><span class="pn">[</span><span class="pn">]</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs105', 327)" onmouseover="showTip(event, 'fs105', 327)" class="id">diffs</span>
            <span class="pn">|</span><span onmouseout="hideTip(event, 'fs36', 328)" onmouseover="showTip(event, 'fs36', 328)" class="uc">Div</span> <span class="pn">(</span><span class="id">_</span><span class="pn">,</span><span class="pn">[</span><span class="pn">]</span><span class="pn">)</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs36', 329)" onmouseover="showTip(event, 'fs36', 329)" class="uc">Div</span> <span class="pn">(</span><span class="id">_</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs116', 330)" onmouseover="showTip(event, 'fs116', 330)" class="id">l</span><span class="pn">)</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs82', 331)" onmouseover="showTip(event, 'fs82', 331)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs117', 332)" onmouseover="showTip(event, 'fs117', 332)" class="id">fold</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs18', 333)" onmouseover="showTip(event, 'fs18', 333)" class="id">i</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs105', 334)" onmouseover="showTip(event, 'fs105', 334)" class="id">diffs</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs118', 335)" onmouseover="showTip(event, 'fs118', 335)" class="id">ui</span><span class="k">-&gt;</span><span onmouseout="hideTip(event, 'fs18', 336)" onmouseover="showTip(event, 'fs18', 336)" class="id">i</span><span class="o">+</span><span class="n">1</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs39', 337)" onmouseover="showTip(event, 'fs39', 337)" class="uc">InsertUI</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs18', 338)" onmouseover="showTip(event, 'fs18', 338)" class="id">i</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs103', 339)" onmouseover="showTip(event, 'fs103', 339)" class="id">path</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs118', 340)" onmouseover="showTip(event, 'fs118', 340)" class="id">ui</span><span class="pn">)</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs105', 341)" onmouseover="showTip(event, 'fs105', 341)" class="id">diffs</span><span class="pn">)</span>
                    <span class="pn">(</span><span onmouseout="hideTip(event, 'fs104', 342)" onmouseover="showTip(event, 'fs104', 342)" class="id">index</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs105', 343)" onmouseover="showTip(event, 'fs105', 343)" class="id">diffs</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs116', 344)" onmouseover="showTip(event, 'fs116', 344)" class="id">l</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs119', 345)" onmouseover="showTip(event, 'fs119', 345)" class="fn">snd</span>
            <span class="pn">|</span><span onmouseout="hideTip(event, 'fs36', 346)" onmouseover="showTip(event, 'fs36', 346)" class="uc">Div</span> <span class="pn">(</span><span class="id">_</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs116', 347)" onmouseover="showTip(event, 'fs116', 347)" class="id">l</span><span class="pn">)</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs36', 348)" onmouseover="showTip(event, 'fs36', 348)" class="uc">Div</span> <span class="pn">(</span><span class="id">_</span><span class="pn">,</span><span class="pn">[</span><span class="pn">]</span><span class="pn">)</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs82', 349)" onmouseover="showTip(event, 'fs82', 349)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs117', 350)" onmouseover="showTip(event, 'fs117', 350)" class="id">fold</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs18', 351)" onmouseover="showTip(event, 'fs18', 351)" class="id">i</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs105', 352)" onmouseover="showTip(event, 'fs105', 352)" class="id">diffs</span><span class="pn">)</span> <span class="id">_</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs18', 353)" onmouseover="showTip(event, 'fs18', 353)" class="id">i</span><span class="o">+</span><span class="n">1</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs43', 354)" onmouseover="showTip(event, 'fs43', 354)" class="uc">RemoveUI</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs18', 355)" onmouseover="showTip(event, 'fs18', 355)" class="id">i</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs103', 356)" onmouseover="showTip(event, 'fs103', 356)" class="id">path</span><span class="pn">)</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs105', 357)" onmouseover="showTip(event, 'fs105', 357)" class="id">diffs</span><span class="pn">)</span>
                    <span class="pn">(</span><span onmouseout="hideTip(event, 'fs104', 358)" onmouseover="showTip(event, 'fs104', 358)" class="id">index</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs105', 359)" onmouseover="showTip(event, 'fs105', 359)" class="id">diffs</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs116', 360)" onmouseover="showTip(event, 'fs116', 360)" class="id">l</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs119', 361)" onmouseover="showTip(event, 'fs119', 361)" class="fn">snd</span>
            <span class="pn">|</span><span onmouseout="hideTip(event, 'fs36', 362)" onmouseover="showTip(event, 'fs36', 362)" class="uc">Div</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs120', 363)" onmouseover="showTip(event, 'fs120', 363)" class="id">l</span><span class="pn">,</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs121', 364)" onmouseover="showTip(event, 'fs121', 364)" class="id">h1</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs122', 365)" onmouseover="showTip(event, 'fs122', 365)" class="id">t1</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs36', 366)" onmouseover="showTip(event, 'fs36', 366)" class="uc">Div</span> <span class="pn">(</span><span class="id">_</span><span class="pn">,</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs123', 367)" onmouseover="showTip(event, 'fs123', 367)" class="id">h2</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs124', 368)" onmouseover="showTip(event, 'fs124', 368)" class="id">t2</span><span class="pn">)</span><span class="pn">)</span> <span class="k">when</span> <span onmouseout="hideTip(event, 'fs106', 369)" onmouseover="showTip(event, 'fs106', 369)" class="m">LanguagePrimitives</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs107', 370)" onmouseover="showTip(event, 'fs107', 370)" class="id">PhysicalEquality</span> <span onmouseout="hideTip(event, 'fs121', 371)" onmouseover="showTip(event, 'fs121', 371)" class="id">h1</span> <span onmouseout="hideTip(event, 'fs123', 372)" onmouseover="showTip(event, 'fs123', 372)" class="id">h2</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs100', 373)" onmouseover="showTip(event, 'fs100', 373)" class="fn">diff</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 374)" onmouseover="showTip(event, 'fs36', 374)" class="uc">Div</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs120', 375)" onmouseover="showTip(event, 'fs120', 375)" class="id">l</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs122', 376)" onmouseover="showTip(event, 'fs122', 376)" class="id">t1</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 377)" onmouseover="showTip(event, 'fs36', 377)" class="uc">Div</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs120', 378)" onmouseover="showTip(event, 'fs120', 378)" class="id">l</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs124', 379)" onmouseover="showTip(event, 'fs124', 379)" class="id">t2</span><span class="pn">)</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs103', 380)" onmouseover="showTip(event, 'fs103', 380)" class="id">path</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs104', 381)" onmouseover="showTip(event, 'fs104', 381)" class="id">index</span><span class="o">+</span><span class="n">1</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs105', 382)" onmouseover="showTip(event, 'fs105', 382)" class="id">diffs</span>
            <span class="pn">|</span><span onmouseout="hideTip(event, 'fs36', 383)" onmouseover="showTip(event, 'fs36', 383)" class="uc">Div</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs120', 384)" onmouseover="showTip(event, 'fs120', 384)" class="id">l</span><span class="pn">,</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs121', 385)" onmouseover="showTip(event, 'fs121', 385)" class="id">h1</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs122', 386)" onmouseover="showTip(event, 'fs122', 386)" class="id">t1</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs36', 387)" onmouseover="showTip(event, 'fs36', 387)" class="uc">Div</span> <span class="pn">(</span><span class="id">_</span><span class="pn">,</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs123', 388)" onmouseover="showTip(event, 'fs123', 388)" class="id">h2</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs125', 389)" onmouseover="showTip(event, 'fs125', 389)" class="id">h3</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs124', 390)" onmouseover="showTip(event, 'fs124', 390)" class="id">t2</span><span class="pn">)</span><span class="pn">)</span> <span class="k">when</span> <span onmouseout="hideTip(event, 'fs106', 391)" onmouseover="showTip(event, 'fs106', 391)" class="m">LanguagePrimitives</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs107', 392)" onmouseover="showTip(event, 'fs107', 392)" class="id">PhysicalEquality</span> <span onmouseout="hideTip(event, 'fs121', 393)" onmouseover="showTip(event, 'fs121', 393)" class="id">h1</span> <span onmouseout="hideTip(event, 'fs125', 394)" onmouseover="showTip(event, 'fs125', 394)" class="id">h3</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs100', 395)" onmouseover="showTip(event, 'fs100', 395)" class="fn">diff</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 396)" onmouseover="showTip(event, 'fs36', 396)" class="uc">Div</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs120', 397)" onmouseover="showTip(event, 'fs120', 397)" class="id">l</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs122', 398)" onmouseover="showTip(event, 'fs122', 398)" class="id">t1</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 399)" onmouseover="showTip(event, 'fs36', 399)" class="uc">Div</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs120', 400)" onmouseover="showTip(event, 'fs120', 400)" class="id">l</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs124', 401)" onmouseover="showTip(event, 'fs124', 401)" class="id">t2</span><span class="pn">)</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs103', 402)" onmouseover="showTip(event, 'fs103', 402)" class="id">path</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs104', 403)" onmouseover="showTip(event, 'fs104', 403)" class="id">index</span><span class="o">+</span><span class="n">1</span><span class="pn">)</span>
                    <span class="pn">(</span><span onmouseout="hideTip(event, 'fs39', 404)" onmouseover="showTip(event, 'fs39', 404)" class="uc">InsertUI</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs104', 405)" onmouseover="showTip(event, 'fs104', 405)" class="id">index</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs103', 406)" onmouseover="showTip(event, 'fs103', 406)" class="id">path</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs123', 407)" onmouseover="showTip(event, 'fs123', 407)" class="id">h2</span><span class="pn">)</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs105', 408)" onmouseover="showTip(event, 'fs105', 408)" class="id">diffs</span><span class="pn">)</span>
            <span class="pn">|</span><span onmouseout="hideTip(event, 'fs36', 409)" onmouseover="showTip(event, 'fs36', 409)" class="uc">Div</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs120', 410)" onmouseover="showTip(event, 'fs120', 410)" class="id">l</span><span class="pn">,</span><span class="pn">(</span><span class="id">_</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs123', 411)" onmouseover="showTip(event, 'fs123', 411)" class="id">h2</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs122', 412)" onmouseover="showTip(event, 'fs122', 412)" class="id">t1</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs36', 413)" onmouseover="showTip(event, 'fs36', 413)" class="uc">Div</span> <span class="pn">(</span><span class="id">_</span><span class="pn">,</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs125', 414)" onmouseover="showTip(event, 'fs125', 414)" class="id">h3</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs124', 415)" onmouseover="showTip(event, 'fs124', 415)" class="id">t2</span><span class="pn">)</span><span class="pn">)</span> <span class="k">when</span> <span onmouseout="hideTip(event, 'fs106', 416)" onmouseover="showTip(event, 'fs106', 416)" class="m">LanguagePrimitives</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs107', 417)" onmouseover="showTip(event, 'fs107', 417)" class="id">PhysicalEquality</span> <span onmouseout="hideTip(event, 'fs123', 418)" onmouseover="showTip(event, 'fs123', 418)" class="id">h2</span> <span onmouseout="hideTip(event, 'fs125', 419)" onmouseover="showTip(event, 'fs125', 419)" class="id">h3</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs100', 420)" onmouseover="showTip(event, 'fs100', 420)" class="fn">diff</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 421)" onmouseover="showTip(event, 'fs36', 421)" class="uc">Div</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs120', 422)" onmouseover="showTip(event, 'fs120', 422)" class="id">l</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs122', 423)" onmouseover="showTip(event, 'fs122', 423)" class="id">t1</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 424)" onmouseover="showTip(event, 'fs36', 424)" class="uc">Div</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs120', 425)" onmouseover="showTip(event, 'fs120', 425)" class="id">l</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs124', 426)" onmouseover="showTip(event, 'fs124', 426)" class="id">t2</span><span class="pn">)</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs103', 427)" onmouseover="showTip(event, 'fs103', 427)" class="id">path</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs104', 428)" onmouseover="showTip(event, 'fs104', 428)" class="id">index</span><span class="o">+</span><span class="n">1</span><span class="pn">)</span>
                    <span class="pn">(</span><span onmouseout="hideTip(event, 'fs43', 429)" onmouseover="showTip(event, 'fs43', 429)" class="uc">RemoveUI</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs104', 430)" onmouseover="showTip(event, 'fs104', 430)" class="id">index</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs103', 431)" onmouseover="showTip(event, 'fs103', 431)" class="id">path</span><span class="pn">)</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs105', 432)" onmouseover="showTip(event, 'fs105', 432)" class="id">diffs</span><span class="pn">)</span>
            <span class="pn">|</span><span onmouseout="hideTip(event, 'fs36', 433)" onmouseover="showTip(event, 'fs36', 433)" class="uc">Div</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs120', 434)" onmouseover="showTip(event, 'fs120', 434)" class="id">l</span><span class="pn">,</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs121', 435)" onmouseover="showTip(event, 'fs121', 435)" class="id">h1</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs122', 436)" onmouseover="showTip(event, 'fs122', 436)" class="id">t1</span><span class="pn">)</span><span class="pn">)</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs36', 437)" onmouseover="showTip(event, 'fs36', 437)" class="uc">Div</span> <span class="pn">(</span><span class="id">_</span><span class="pn">,</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs123', 438)" onmouseover="showTip(event, 'fs123', 438)" class="id">h2</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs124', 439)" onmouseover="showTip(event, 'fs124', 439)" class="id">t2</span><span class="pn">)</span><span class="pn">)</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs100', 440)" onmouseover="showTip(event, 'fs100', 440)" class="fn">diff</span> <span onmouseout="hideTip(event, 'fs121', 441)" onmouseover="showTip(event, 'fs121', 441)" class="id">h1</span> <span onmouseout="hideTip(event, 'fs123', 442)" onmouseover="showTip(event, 'fs123', 442)" class="id">h2</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs104', 443)" onmouseover="showTip(event, 'fs104', 443)" class="id">index</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs103', 444)" onmouseover="showTip(event, 'fs103', 444)" class="id">path</span><span class="pn">)</span> <span class="n">0</span> <span onmouseout="hideTip(event, 'fs105', 445)" onmouseover="showTip(event, 'fs105', 445)" class="id">diffs</span>
                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs100', 446)" onmouseover="showTip(event, 'fs100', 446)" class="fn">diff</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 447)" onmouseover="showTip(event, 'fs36', 447)" class="uc">Div</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs120', 448)" onmouseover="showTip(event, 'fs120', 448)" class="id">l</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs122', 449)" onmouseover="showTip(event, 'fs122', 449)" class="id">t1</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 450)" onmouseover="showTip(event, 'fs36', 450)" class="uc">Div</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs120', 451)" onmouseover="showTip(event, 'fs120', 451)" class="id">l</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs124', 452)" onmouseover="showTip(event, 'fs124', 452)" class="id">t2</span><span class="pn">)</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs103', 453)" onmouseover="showTip(event, 'fs103', 453)" class="id">path</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs104', 454)" onmouseover="showTip(event, 'fs104', 454)" class="id">index</span><span class="o">+</span><span class="n">1</span><span class="pn">)</span>
            <span class="pn">|</span><span class="id">_</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs42', 455)" onmouseover="showTip(event, 'fs42', 455)" class="uc">ReplaceUI</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs103', 456)" onmouseover="showTip(event, 'fs103', 456)" class="id">path</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs102', 457)" onmouseover="showTip(event, 'fs102', 457)" class="id">ui2</span><span class="pn">)</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs105', 458)" onmouseover="showTip(event, 'fs105', 458)" class="id">diffs</span>
        <span onmouseout="hideTip(event, 'fs100', 459)" onmouseover="showTip(event, 'fs100', 459)" class="fn">diff</span> <span onmouseout="hideTip(event, 'fs101', 460)" onmouseover="showTip(event, 'fs101', 460)" class="id">ui1</span><span class="pn">.</span><span class="id">UI</span> <span onmouseout="hideTip(event, 'fs91', 461)" onmouseover="showTip(event, 'fs91', 461)" class="id">ui2</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs84', 462)" onmouseover="showTip(event, 'fs84', 462)" class="id">UI</span> <span class="pn">[</span><span class="pn">]</span> <span class="n">0</span> <span class="pn">[</span><span class="pn">]</span>

    <span class="c">/// Returns a UI application from a UI model, update and view.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs126', 463)" onmouseover="showTip(event, 'fs126', 463)" class="fn">app</span> <span onmouseout="hideTip(event, 'fs127', 464)" onmouseover="showTip(event, 'fs127', 464)" class="id">model</span> <span onmouseout="hideTip(event, 'fs128', 465)" onmouseover="showTip(event, 'fs128', 465)" class="fn">update</span> <span onmouseout="hideTip(event, 'fs129', 466)" onmouseover="showTip(event, 'fs129', 466)" class="fn">view</span> <span class="o">=</span> <span class="pn">{</span><span class="id">Model</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs127', 467)" onmouseover="showTip(event, 'fs127', 467)" class="id">model</span><span class="pn">;</span><span class="fn">Update</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs128', 468)" onmouseover="showTip(event, 'fs128', 468)" class="fn">update</span><span class="pn">;</span><span class="fn">View</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs129', 469)" onmouseover="showTip(event, 'fs129', 469)" class="fn">view</span><span class="pn">}</span>

    <span class="c">/// Runs a UI application given a native UI.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs130', 470)" onmouseover="showTip(event, 'fs130', 470)" class="fn">run</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs131', 471)" onmouseover="showTip(event, 'fs131', 471)" class="id">nativeUI</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs52', 472)" onmouseover="showTip(event, 'fs52', 472)" class="if">INativeUI</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs132', 473)" onmouseover="showTip(event, 'fs132', 473)" class="id">app</span> <span class="o">=</span>
        <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs133', 474)" onmouseover="showTip(event, 'fs133', 474)" class="fn">handle</span> <span onmouseout="hideTip(event, 'fs134', 475)" onmouseover="showTip(event, 'fs134', 475)" class="id">model</span> <span onmouseout="hideTip(event, 'fs77', 476)" onmouseover="showTip(event, 'fs77', 476)" class="id">ui</span> <span onmouseout="hideTip(event, 'fs75', 477)" onmouseover="showTip(event, 'fs75', 477)" class="id">msg</span> <span class="o">=</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs135', 478)" onmouseover="showTip(event, 'fs135', 478)" class="id">newModel</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs132', 479)" onmouseover="showTip(event, 'fs132', 479)" class="fn">app</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs136', 480)" onmouseover="showTip(event, 'fs136', 480)" class="id">Update</span> <span onmouseout="hideTip(event, 'fs75', 481)" onmouseover="showTip(event, 'fs75', 481)" class="id">msg</span> <span onmouseout="hideTip(event, 'fs134', 482)" onmouseover="showTip(event, 'fs134', 482)" class="id">model</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs137', 483)" onmouseover="showTip(event, 'fs137', 483)" class="id">newUI</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs132', 484)" onmouseover="showTip(event, 'fs132', 484)" class="fn">app</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs138', 485)" onmouseover="showTip(event, 'fs138', 485)" class="id">View</span> <span onmouseout="hideTip(event, 'fs135', 486)" onmouseover="showTip(event, 'fs135', 486)" class="id">newModel</span>
            <span onmouseout="hideTip(event, 'fs137', 487)" onmouseover="showTip(event, 'fs137', 487)" class="mv">newUI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs78', 488)" onmouseover="showTip(event, 'fs78', 488)" class="id">Event</span><span class="k">&lt;-</span><span onmouseout="hideTip(event, 'fs133', 489)" onmouseover="showTip(event, 'fs133', 489)" class="fn">handle</span> <span onmouseout="hideTip(event, 'fs135', 490)" onmouseover="showTip(event, 'fs135', 490)" class="id">newModel</span> <span onmouseout="hideTip(event, 'fs137', 491)" onmouseover="showTip(event, 'fs137', 491)" class="id">newUI</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs139', 492)" onmouseover="showTip(event, 'fs139', 492)" class="id">diff</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs139', 493)" onmouseover="showTip(event, 'fs139', 493)" class="fn">diff</span> <span onmouseout="hideTip(event, 'fs77', 494)" onmouseover="showTip(event, 'fs77', 494)" class="id">ui</span> <span onmouseout="hideTip(event, 'fs137', 495)" onmouseover="showTip(event, 'fs137', 495)" class="id">newUI</span>
            <span onmouseout="hideTip(event, 'fs82', 496)" onmouseover="showTip(event, 'fs82', 496)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs87', 497)" onmouseover="showTip(event, 'fs87', 497)" class="id">iter</span> <span class="pn">(</span><span class="k">function</span> <span class="pn">|</span><span onmouseout="hideTip(event, 'fs44', 498)" onmouseover="showTip(event, 'fs44', 498)" class="uc">EventUI</span> <span onmouseout="hideTip(event, 'fs140', 499)" onmouseover="showTip(event, 'fs140', 499)" class="fn">f</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs140', 500)" onmouseover="showTip(event, 'fs140', 500)" class="fn">f</span><span class="pn">(</span><span class="pn">)</span> <span class="pn">|</span><span class="id">_</span><span class="k">-&gt;</span> <span class="pn">(</span><span class="pn">)</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs139', 501)" onmouseover="showTip(event, 'fs139', 501)" class="id">diff</span>
            <span onmouseout="hideTip(event, 'fs131', 502)" onmouseover="showTip(event, 'fs131', 502)" class="fn">nativeUI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs141', 503)" onmouseover="showTip(event, 'fs141', 503)" class="id">Send</span> <span onmouseout="hideTip(event, 'fs139', 504)" onmouseover="showTip(event, 'fs139', 504)" class="id">diff</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs77', 505)" onmouseover="showTip(event, 'fs77', 505)" class="id">ui</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs132', 506)" onmouseover="showTip(event, 'fs132', 506)" class="fn">app</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs138', 507)" onmouseover="showTip(event, 'fs138', 507)" class="id">View</span> <span onmouseout="hideTip(event, 'fs132', 508)" onmouseover="showTip(event, 'fs132', 508)" class="id">app</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs142', 509)" onmouseover="showTip(event, 'fs142', 509)" class="id">Model</span>
        <span onmouseout="hideTip(event, 'fs77', 510)" onmouseover="showTip(event, 'fs77', 510)" class="mv">ui</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs78', 511)" onmouseover="showTip(event, 'fs78', 511)" class="id">Event</span><span class="k">&lt;-</span><span onmouseout="hideTip(event, 'fs133', 512)" onmouseover="showTip(event, 'fs133', 512)" class="fn">handle</span> <span onmouseout="hideTip(event, 'fs132', 513)" onmouseover="showTip(event, 'fs132', 513)" class="id">app</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs142', 514)" onmouseover="showTip(event, 'fs142', 514)" class="id">Model</span> <span onmouseout="hideTip(event, 'fs77', 515)" onmouseover="showTip(event, 'fs77', 515)" class="id">ui</span>
        <span onmouseout="hideTip(event, 'fs131', 516)" onmouseover="showTip(event, 'fs131', 516)" class="fn">nativeUI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs141', 517)" onmouseover="showTip(event, 'fs141', 517)" class="id">Send</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs39', 518)" onmouseover="showTip(event, 'fs39', 518)" class="uc">InsertUI</span><span class="pn">(</span><span class="pn">[</span><span class="pn">]</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs77', 519)" onmouseover="showTip(event, 'fs77', 519)" class="id">ui</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs84', 520)" onmouseover="showTip(event, 'fs84', 520)" class="id">UI</span><span class="pn">)</span><span class="pn">]</span>
</code></pre>
<h2><a name="Example-UI-applications" class="anchor" href="#Example-UI-applications">Example UI applications</a></h2>
<p>The UI application pattern has four main parts:</p>
<ol>
<li><strong>Model</strong> - the state of the application.</li>
<li><strong>Msg</strong> - an update message.</li>
<li><strong>Update</strong> - a function that updates the state.</li>
<li><strong>View</strong> - a function that views state as a UI.</li>
</ol>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">module</span> <span class="m">Counter</span> <span class="o">=</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs143', 521)" onmouseover="showTip(event, 'fs143', 521)" class="vt">Model</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs40', 522)" onmouseover="showTip(event, 'fs40', 522)" class="vt">int</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs144', 523)" onmouseover="showTip(event, 'fs144', 523)" class="fn">init</span> <span onmouseout="hideTip(event, 'fs145', 524)" onmouseover="showTip(event, 'fs145', 524)" class="id">i</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs143', 525)" onmouseover="showTip(event, 'fs143', 525)" class="vt">Model</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs145', 526)" onmouseover="showTip(event, 'fs145', 526)" class="id">i</span>

    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs146', 527)" onmouseover="showTip(event, 'fs146', 527)" class="rt">Msg</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs147', 528)" onmouseover="showTip(event, 'fs147', 528)" class="uc">Increment</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs148', 529)" onmouseover="showTip(event, 'fs148', 529)" class="uc">Decrement</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs149', 530)" onmouseover="showTip(event, 'fs149', 530)" class="fn">update</span> <span onmouseout="hideTip(event, 'fs150', 531)" onmouseover="showTip(event, 'fs150', 531)" class="id">msg</span> <span onmouseout="hideTip(event, 'fs151', 532)" onmouseover="showTip(event, 'fs151', 532)" class="id">model</span> <span class="o">=</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs150', 533)" onmouseover="showTip(event, 'fs150', 533)" class="id">msg</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs147', 534)" onmouseover="showTip(event, 'fs147', 534)" class="uc">Increment</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs151', 535)" onmouseover="showTip(event, 'fs151', 535)" class="id">model</span><span class="o">+</span><span class="n">1</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs148', 536)" onmouseover="showTip(event, 'fs148', 536)" class="uc">Decrement</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs151', 537)" onmouseover="showTip(event, 'fs151', 537)" class="id">model</span><span class="o">-</span><span class="n">1</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs152', 538)" onmouseover="showTip(event, 'fs152', 538)" class="fn">view</span> <span onmouseout="hideTip(event, 'fs153', 539)" onmouseover="showTip(event, 'fs153', 539)" class="id">model</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs154', 540)" onmouseover="showTip(event, 'fs154', 540)" class="m">UI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs79', 541)" onmouseover="showTip(event, 'fs79', 541)" class="id">div</span> <span onmouseout="hideTip(event, 'fs29', 542)" onmouseover="showTip(event, 'fs29', 542)" class="uc">Horizontal</span> <span class="pn">[</span>
            <span onmouseout="hideTip(event, 'fs154', 543)" onmouseover="showTip(event, 'fs154', 543)" class="m">UI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs74', 544)" onmouseover="showTip(event, 'fs74', 544)" class="id">button</span> <span class="s">&quot;+&quot;</span> <span onmouseout="hideTip(event, 'fs147', 545)" onmouseover="showTip(event, 'fs147', 545)" class="uc">Increment</span>
            <span onmouseout="hideTip(event, 'fs154', 546)" onmouseover="showTip(event, 'fs154', 546)" class="m">UI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs74', 547)" onmouseover="showTip(event, 'fs74', 547)" class="id">button</span> <span class="s">&quot;-&quot;</span> <span onmouseout="hideTip(event, 'fs148', 548)" onmouseover="showTip(event, 'fs148', 548)" class="uc">Decrement</span>
            <span onmouseout="hideTip(event, 'fs154', 549)" onmouseover="showTip(event, 'fs154', 549)" class="m">UI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs65', 550)" onmouseover="showTip(event, 'fs65', 550)" class="id">text</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs33', 551)" onmouseover="showTip(event, 'fs33', 551)" class="fn">string</span> <span onmouseout="hideTip(event, 'fs153', 552)" onmouseover="showTip(event, 'fs153', 552)" class="id">model</span><span class="pn">)</span>
        <span class="pn">]</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs155', 553)" onmouseover="showTip(event, 'fs155', 553)" class="fn">app</span> <span onmouseout="hideTip(event, 'fs145', 554)" onmouseover="showTip(event, 'fs145', 554)" class="id">i</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs154', 555)" onmouseover="showTip(event, 'fs154', 555)" class="m">UI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs126', 556)" onmouseover="showTip(event, 'fs126', 556)" class="id">app</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs144', 557)" onmouseover="showTip(event, 'fs144', 557)" class="fn">init</span> <span onmouseout="hideTip(event, 'fs145', 558)" onmouseover="showTip(event, 'fs145', 558)" class="id">i</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs149', 559)" onmouseover="showTip(event, 'fs149', 559)" class="fn">update</span> <span onmouseout="hideTip(event, 'fs152', 560)" onmouseover="showTip(event, 'fs152', 560)" class="fn">view</span>

<span class="k">module</span> <span class="m">CounterPair</span> <span class="o">=</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs156', 561)" onmouseover="showTip(event, 'fs156', 561)" class="rt">Model</span> <span class="o">=</span> <span class="pn">{</span><span onmouseout="hideTip(event, 'fs157', 562)" onmouseover="showTip(event, 'fs157', 562)" class="id">Top</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs158', 563)" onmouseover="showTip(event, 'fs158', 563)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs143', 564)" onmouseover="showTip(event, 'fs143', 564)" class="id">Model</span><span class="pn">;</span><span onmouseout="hideTip(event, 'fs159', 565)" onmouseover="showTip(event, 'fs159', 565)" class="id">Bottom</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs158', 566)" onmouseover="showTip(event, 'fs158', 566)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs143', 567)" onmouseover="showTip(event, 'fs143', 567)" class="id">Model</span><span class="pn">}</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs160', 568)" onmouseover="showTip(event, 'fs160', 568)" class="fn">init</span> <span onmouseout="hideTip(event, 'fs161', 569)" onmouseover="showTip(event, 'fs161', 569)" class="id">top</span> <span onmouseout="hideTip(event, 'fs162', 570)" onmouseover="showTip(event, 'fs162', 570)" class="id">bottom</span> <span class="o">=</span>
        <span class="pn">{</span><span class="id">Top</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs158', 571)" onmouseover="showTip(event, 'fs158', 571)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs163', 572)" onmouseover="showTip(event, 'fs163', 572)" class="id">init</span> <span onmouseout="hideTip(event, 'fs161', 573)" onmouseover="showTip(event, 'fs161', 573)" class="id">top</span><span class="pn">;</span><span class="id">Bottom</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs158', 574)" onmouseover="showTip(event, 'fs158', 574)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs163', 575)" onmouseover="showTip(event, 'fs163', 575)" class="id">init</span> <span onmouseout="hideTip(event, 'fs162', 576)" onmouseover="showTip(event, 'fs162', 576)" class="id">bottom</span><span class="pn">}</span>

    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs164', 577)" onmouseover="showTip(event, 'fs164', 577)" class="rt">Msg</span> <span class="o">=</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs165', 578)" onmouseover="showTip(event, 'fs165', 578)" class="uc">Reset</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs166', 579)" onmouseover="showTip(event, 'fs166', 579)" class="uc">Top</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs158', 580)" onmouseover="showTip(event, 'fs158', 580)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs146', 581)" onmouseover="showTip(event, 'fs146', 581)" class="id">Msg</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs167', 582)" onmouseover="showTip(event, 'fs167', 582)" class="uc">Bottom</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs158', 583)" onmouseover="showTip(event, 'fs158', 583)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs146', 584)" onmouseover="showTip(event, 'fs146', 584)" class="id">Msg</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs168', 585)" onmouseover="showTip(event, 'fs168', 585)" class="fn">update</span> <span onmouseout="hideTip(event, 'fs150', 586)" onmouseover="showTip(event, 'fs150', 586)" class="id">msg</span> <span onmouseout="hideTip(event, 'fs153', 587)" onmouseover="showTip(event, 'fs153', 587)" class="id">model</span> <span class="o">=</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs150', 588)" onmouseover="showTip(event, 'fs150', 588)" class="id">msg</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs165', 589)" onmouseover="showTip(event, 'fs165', 589)" class="uc">Reset</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs160', 590)" onmouseover="showTip(event, 'fs160', 590)" class="fn">init</span> <span class="n">0</span> <span class="n">0</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs166', 591)" onmouseover="showTip(event, 'fs166', 591)" class="uc">Top</span> <span onmouseout="hideTip(event, 'fs169', 592)" onmouseover="showTip(event, 'fs169', 592)" class="id">msg</span> <span class="k">-&gt;</span> <span class="pn">{</span><span onmouseout="hideTip(event, 'fs153', 593)" onmouseover="showTip(event, 'fs153', 593)" class="id">model</span> <span class="k">with</span> <span onmouseout="hideTip(event, 'fs166', 594)" onmouseover="showTip(event, 'fs166', 594)" class="id">Top</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs158', 595)" onmouseover="showTip(event, 'fs158', 595)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs170', 596)" onmouseover="showTip(event, 'fs170', 596)" class="id">update</span> <span onmouseout="hideTip(event, 'fs169', 597)" onmouseover="showTip(event, 'fs169', 597)" class="id">msg</span> <span onmouseout="hideTip(event, 'fs153', 598)" onmouseover="showTip(event, 'fs153', 598)" class="id">model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs157', 599)" onmouseover="showTip(event, 'fs157', 599)" class="id">Top</span><span class="pn">}</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs167', 600)" onmouseover="showTip(event, 'fs167', 600)" class="uc">Bottom</span> <span onmouseout="hideTip(event, 'fs169', 601)" onmouseover="showTip(event, 'fs169', 601)" class="id">msg</span> <span class="k">-&gt;</span> <span class="pn">{</span><span onmouseout="hideTip(event, 'fs153', 602)" onmouseover="showTip(event, 'fs153', 602)" class="id">model</span> <span class="k">with</span> <span onmouseout="hideTip(event, 'fs167', 603)" onmouseover="showTip(event, 'fs167', 603)" class="id">Bottom</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs158', 604)" onmouseover="showTip(event, 'fs158', 604)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs170', 605)" onmouseover="showTip(event, 'fs170', 605)" class="id">update</span> <span onmouseout="hideTip(event, 'fs169', 606)" onmouseover="showTip(event, 'fs169', 606)" class="id">msg</span> <span onmouseout="hideTip(event, 'fs153', 607)" onmouseover="showTip(event, 'fs153', 607)" class="id">model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs159', 608)" onmouseover="showTip(event, 'fs159', 608)" class="id">Bottom</span><span class="pn">}</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs152', 609)" onmouseover="showTip(event, 'fs152', 609)" class="fn">view</span> <span onmouseout="hideTip(event, 'fs153', 610)" onmouseover="showTip(event, 'fs153', 610)" class="id">model</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs154', 611)" onmouseover="showTip(event, 'fs154', 611)" class="m">UI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs79', 612)" onmouseover="showTip(event, 'fs79', 612)" class="id">div</span> <span onmouseout="hideTip(event, 'fs30', 613)" onmouseover="showTip(event, 'fs30', 613)" class="uc">Vertical</span> <span class="pn">[</span>
            <span onmouseout="hideTip(event, 'fs158', 614)" onmouseover="showTip(event, 'fs158', 614)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs171', 615)" onmouseover="showTip(event, 'fs171', 615)" class="id">view</span> <span onmouseout="hideTip(event, 'fs153', 616)" onmouseover="showTip(event, 'fs153', 616)" class="id">model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs157', 617)" onmouseover="showTip(event, 'fs157', 617)" class="id">Top</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs154', 618)" onmouseover="showTip(event, 'fs154', 618)" class="m">UI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs89', 619)" onmouseover="showTip(event, 'fs89', 619)" class="id">map</span> <span onmouseout="hideTip(event, 'fs166', 620)" onmouseover="showTip(event, 'fs166', 620)" class="uc">Top</span>
            <span onmouseout="hideTip(event, 'fs158', 621)" onmouseover="showTip(event, 'fs158', 621)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs171', 622)" onmouseover="showTip(event, 'fs171', 622)" class="id">view</span> <span onmouseout="hideTip(event, 'fs153', 623)" onmouseover="showTip(event, 'fs153', 623)" class="id">model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs159', 624)" onmouseover="showTip(event, 'fs159', 624)" class="id">Bottom</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs154', 625)" onmouseover="showTip(event, 'fs154', 625)" class="m">UI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs89', 626)" onmouseover="showTip(event, 'fs89', 626)" class="id">map</span> <span onmouseout="hideTip(event, 'fs167', 627)" onmouseover="showTip(event, 'fs167', 627)" class="uc">Bottom</span>
        <span class="pn">]</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs172', 628)" onmouseover="showTip(event, 'fs172', 628)" class="fn">app</span> <span onmouseout="hideTip(event, 'fs161', 629)" onmouseover="showTip(event, 'fs161', 629)" class="id">top</span> <span onmouseout="hideTip(event, 'fs162', 630)" onmouseover="showTip(event, 'fs162', 630)" class="id">bottom</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs154', 631)" onmouseover="showTip(event, 'fs154', 631)" class="m">UI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs126', 632)" onmouseover="showTip(event, 'fs126', 632)" class="id">app</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs160', 633)" onmouseover="showTip(event, 'fs160', 633)" class="fn">init</span> <span onmouseout="hideTip(event, 'fs161', 634)" onmouseover="showTip(event, 'fs161', 634)" class="id">top</span> <span onmouseout="hideTip(event, 'fs162', 635)" onmouseover="showTip(event, 'fs162', 635)" class="id">bottom</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs168', 636)" onmouseover="showTip(event, 'fs168', 636)" class="fn">update</span> <span onmouseout="hideTip(event, 'fs152', 637)" onmouseover="showTip(event, 'fs152', 637)" class="fn">view</span>

<span class="k">module</span> <span onmouseout="hideTip(event, 'fs173', 638)" onmouseover="showTip(event, 'fs173', 638)" class="m">CounterList</span> <span class="o">=</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs174', 639)" onmouseover="showTip(event, 'fs174', 639)" class="rt">Model</span> <span class="o">=</span> <span class="pn">{</span><span onmouseout="hideTip(event, 'fs175', 640)" onmouseover="showTip(event, 'fs175', 640)" class="id">Counters</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs158', 641)" onmouseover="showTip(event, 'fs158', 641)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs143', 642)" onmouseover="showTip(event, 'fs143', 642)" class="id">Model</span> <span onmouseout="hideTip(event, 'fs37', 643)" onmouseover="showTip(event, 'fs37', 643)" class="rt">list</span><span class="pn">}</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs176', 644)" onmouseover="showTip(event, 'fs176', 644)" class="id">init</span> <span class="o">=</span> <span class="pn">{</span><span class="id">Counters</span><span class="o">=</span><span class="pn">[</span><span class="pn">]</span><span class="pn">}</span>

    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs177', 645)" onmouseover="showTip(event, 'fs177', 645)" class="rt">Msg</span> <span class="o">=</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs178', 646)" onmouseover="showTip(event, 'fs178', 646)" class="uc">Insert</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs179', 647)" onmouseover="showTip(event, 'fs179', 647)" class="uc">Remove</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs180', 648)" onmouseover="showTip(event, 'fs180', 648)" class="uc">Modify</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs40', 649)" onmouseover="showTip(event, 'fs40', 649)" class="vt">int</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs158', 650)" onmouseover="showTip(event, 'fs158', 650)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs146', 651)" onmouseover="showTip(event, 'fs146', 651)" class="id">Msg</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs168', 652)" onmouseover="showTip(event, 'fs168', 652)" class="fn">update</span> <span onmouseout="hideTip(event, 'fs150', 653)" onmouseover="showTip(event, 'fs150', 653)" class="id">msg</span> <span onmouseout="hideTip(event, 'fs153', 654)" onmouseover="showTip(event, 'fs153', 654)" class="id">model</span> <span class="o">=</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs150', 655)" onmouseover="showTip(event, 'fs150', 655)" class="id">msg</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs178', 656)" onmouseover="showTip(event, 'fs178', 656)" class="uc">Insert</span> <span class="k">-&gt;</span> <span class="pn">{</span><span onmouseout="hideTip(event, 'fs153', 657)" onmouseover="showTip(event, 'fs153', 657)" class="id">model</span> <span class="k">with</span> <span class="id">Counters</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs158', 658)" onmouseover="showTip(event, 'fs158', 658)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs163', 659)" onmouseover="showTip(event, 'fs163', 659)" class="id">init</span> <span class="n">0</span><span class="uc">::</span><span onmouseout="hideTip(event, 'fs153', 660)" onmouseover="showTip(event, 'fs153', 660)" class="id">model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs175', 661)" onmouseover="showTip(event, 'fs175', 661)" class="id">Counters</span><span class="pn">}</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs179', 662)" onmouseover="showTip(event, 'fs179', 662)" class="uc">Remove</span> <span class="k">-&gt;</span> <span class="pn">{</span><span onmouseout="hideTip(event, 'fs153', 663)" onmouseover="showTip(event, 'fs153', 663)" class="id">model</span> <span class="k">with</span> <span class="id">Counters</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs82', 664)" onmouseover="showTip(event, 'fs82', 664)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs24', 665)" onmouseover="showTip(event, 'fs24', 665)" class="id">tail</span> <span onmouseout="hideTip(event, 'fs153', 666)" onmouseover="showTip(event, 'fs153', 666)" class="id">model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs175', 667)" onmouseover="showTip(event, 'fs175', 667)" class="id">Counters</span><span class="pn">}</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs180', 668)" onmouseover="showTip(event, 'fs180', 668)" class="uc">Modify</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs18', 669)" onmouseover="showTip(event, 'fs18', 669)" class="id">i</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs169', 670)" onmouseover="showTip(event, 'fs169', 670)" class="id">msg</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span class="pn">{</span><span onmouseout="hideTip(event, 'fs153', 671)" onmouseover="showTip(event, 'fs153', 671)" class="id">model</span> <span class="k">with</span> <span class="id">Counters</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs82', 672)" onmouseover="showTip(event, 'fs82', 672)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 673)" onmouseover="showTip(event, 'fs17', 673)" class="id">mapAt</span> <span onmouseout="hideTip(event, 'fs18', 674)" onmouseover="showTip(event, 'fs18', 674)" class="id">i</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs158', 675)" onmouseover="showTip(event, 'fs158', 675)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs170', 676)" onmouseover="showTip(event, 'fs170', 676)" class="id">update</span> <span onmouseout="hideTip(event, 'fs169', 677)" onmouseover="showTip(event, 'fs169', 677)" class="id">msg</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs153', 678)" onmouseover="showTip(event, 'fs153', 678)" class="id">model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs175', 679)" onmouseover="showTip(event, 'fs175', 679)" class="id">Counters</span><span class="pn">}</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs152', 680)" onmouseover="showTip(event, 'fs152', 680)" class="fn">view</span> <span onmouseout="hideTip(event, 'fs153', 681)" onmouseover="showTip(event, 'fs153', 681)" class="id">model</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs154', 682)" onmouseover="showTip(event, 'fs154', 682)" class="m">UI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs74', 683)" onmouseover="showTip(event, 'fs74', 683)" class="id">button</span> <span class="s">&quot;Add&quot;</span> <span onmouseout="hideTip(event, 'fs178', 684)" onmouseover="showTip(event, 'fs178', 684)" class="uc">Insert</span> <span class="uc">::</span>
        <span onmouseout="hideTip(event, 'fs154', 685)" onmouseover="showTip(event, 'fs154', 685)" class="m">UI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs74', 686)" onmouseover="showTip(event, 'fs74', 686)" class="id">button</span> <span class="s">&quot;Remove&quot;</span> <span onmouseout="hideTip(event, 'fs179', 687)" onmouseover="showTip(event, 'fs179', 687)" class="uc">Remove</span> <span class="uc">::</span>
        <span onmouseout="hideTip(event, 'fs82', 688)" onmouseover="showTip(event, 'fs82', 688)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs181', 689)" onmouseover="showTip(event, 'fs181', 689)" class="id">mapi</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs18', 690)" onmouseover="showTip(event, 'fs18', 690)" class="id">i</span> <span onmouseout="hideTip(event, 'fs182', 691)" onmouseover="showTip(event, 'fs182', 691)" class="id">c</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs158', 692)" onmouseover="showTip(event, 'fs158', 692)" class="m">Counter</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs171', 693)" onmouseover="showTip(event, 'fs171', 693)" class="id">view</span> <span onmouseout="hideTip(event, 'fs182', 694)" onmouseover="showTip(event, 'fs182', 694)" class="id">c</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs154', 695)" onmouseover="showTip(event, 'fs154', 695)" class="m">UI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs89', 696)" onmouseover="showTip(event, 'fs89', 696)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs183', 697)" onmouseover="showTip(event, 'fs183', 697)" class="id">v</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs180', 698)" onmouseover="showTip(event, 'fs180', 698)" class="uc">Modify</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs18', 699)" onmouseover="showTip(event, 'fs18', 699)" class="id">i</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs183', 700)" onmouseover="showTip(event, 'fs183', 700)" class="id">v</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span>
            <span onmouseout="hideTip(event, 'fs153', 701)" onmouseover="showTip(event, 'fs153', 701)" class="id">model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs175', 702)" onmouseover="showTip(event, 'fs175', 702)" class="id">Counters</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs154', 703)" onmouseover="showTip(event, 'fs154', 703)" class="m">UI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs79', 704)" onmouseover="showTip(event, 'fs79', 704)" class="id">div</span> <span onmouseout="hideTip(event, 'fs30', 705)" onmouseover="showTip(event, 'fs30', 705)" class="uc">Vertical</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs184', 706)" onmouseover="showTip(event, 'fs184', 706)" class="id">app</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs154', 707)" onmouseover="showTip(event, 'fs154', 707)" class="m">UI</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs126', 708)" onmouseover="showTip(event, 'fs126', 708)" class="id">app</span> <span onmouseout="hideTip(event, 'fs176', 709)" onmouseover="showTip(event, 'fs176', 709)" class="id">init</span> <span onmouseout="hideTip(event, 'fs168', 710)" onmouseover="showTip(event, 'fs168', 710)" class="fn">update</span> <span onmouseout="hideTip(event, 'fs152', 711)" onmouseover="showTip(event, 'fs152', 711)" class="fn">view</span>
</code></pre>
<h2><a name="Conclusion" class="anchor" href="#Conclusion">Conclusion</a></h2>
<p><a href="http://guide.elm-lang.org/architecture/index.html">The Elm Architecture</a> pattern is very promising.
It produces type safe UIs that are highly composable.
Performance should be great even for large UIs while at the same time being able to target multiple UI frameworks.</p>
<p>UPDATED:</p>
<img style="border:1px solid black" src="/{{site.baseurl}}public/elm/donpraise.png"/>


<div class="tip" id="fs1">namespace System</div>
<div class="tip" id="fs2">namespace System.Runtime</div>
<div class="tip" id="fs3">namespace System.Runtime.CompilerServices</div>
<div class="tip" id="fs4">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;&#160;&#160;interface IReadOnlyList&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IReadOnlyCollection&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IEnumerable<br />&#160;&#160;&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;&#160;&#160;member Head : &#39;T<br />&#160;&#160;&#160;&#160;member IsEmpty : bool<br />&#160;&#160;&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;&#160;&#160;member Length : int<br />&#160;&#160;&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;&#160;&#160;...</div>
<div class="tip" id="fs5">val remove : n:int -&gt; l:&#39;a list -&gt; &#39;a list * &#39;a list</div>
<div class="tip" id="fs6">val n : int</div>
<div class="tip" id="fs7">val l : &#39;a list</div>
<div class="tip" id="fs8">val pop : (int -&gt; &#39;b list -&gt; &#39;b list -&gt; &#39;b list * &#39;b list)</div>
<div class="tip" id="fs9">val l : &#39;b list</div>
<div class="tip" id="fs10">val p : &#39;b list</div>
<div class="tip" id="fs11">val x : &#39;b</div>
<div class="tip" id="fs12">val xs : &#39;b list</div>
<div class="tip" id="fs13">val add : p:&#39;a list -&gt; l:&#39;a list -&gt; &#39;a list</div>
<div class="tip" id="fs14">val p : &#39;a list</div>
<div class="tip" id="fs15">val x : &#39;a</div>
<div class="tip" id="fs16">val xs : &#39;a list</div>
<div class="tip" id="fs17">val mapAt : i:int -&gt; mapping:(&#39;a -&gt; &#39;a) -&gt; list:&#39;a list -&gt; &#39;a list</div>
<div class="tip" id="fs18">val i : int</div>
<div class="tip" id="fs19">val mapping : (&#39;a -&gt; &#39;a)</div>
<div class="tip" id="fs20">Multiple items<br />val list : &#39;a list<br /><br />--------------------<br />type &#39;T list = List&lt;&#39;T&gt;</div>
<div class="tip" id="fs21">val removed : &#39;a list</div>
<div class="tip" id="fs22">val tail : &#39;a list</div>
<div class="tip" id="fs23">val head : list:&#39;T list -&gt; &#39;T</div>
<div class="tip" id="fs24">val tail : list:&#39;T list -&gt; &#39;T list</div>
<div class="tip" id="fs25">Multiple items<br />module Event<br /><br />from Microsoft.FSharp.Control<br /><br />--------------------<br />type &#39;msg Event = (&#39;msg -&gt; unit) ref ref<br /><em><br /><br />&#160;Message event used on the primitive UI components.</em><br /><br />--------------------<br />type Event&lt;&#39;Delegate,&#39;Args (requires delegate and &#39;Delegate :&gt; Delegate)&gt; =<br />&#160;&#160;new : unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;<br />&#160;&#160;member Trigger : sender:obj * args:&#39;Args -&gt; unit<br />&#160;&#160;member Publish : IEvent&lt;&#39;Delegate,&#39;Args&gt;<br /><br />--------------------<br />new : unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;</div>
<div class="tip" id="fs26">type unit = Unit</div>
<div class="tip" id="fs27">Multiple items<br />val ref : value:&#39;T -&gt; &#39;T ref<br /><br />--------------------<br />type &#39;T ref = Ref&lt;&#39;T&gt;</div>
<div class="tip" id="fs28">type Layout =<br />&#160;&#160;| Horizontal<br />&#160;&#160;| Vertical<br /><em><br /><br />&#160;Layout for a section of UI components.</em></div>
<div class="tip" id="fs29">union case Layout.Horizontal: Layout</div>
<div class="tip" id="fs30">union case Layout.Vertical: Layout</div>
<div class="tip" id="fs31">type UI =<br />&#160;&#160;| Text of string<br />&#160;&#160;| Input of string * string Event<br />&#160;&#160;| Button of string * unit Event<br />&#160;&#160;| Div of Layout * UI list<br /><em><br /><br />&#160;Primitive UI components.</em></div>
<div class="tip" id="fs32">union case UI.Text: string -&gt; UI</div>
<div class="tip" id="fs33">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />--------------------<br />type string = System.String</div>
<div class="tip" id="fs34">union case UI.Input: string * string Event -&gt; UI</div>
<div class="tip" id="fs35">union case UI.Button: string * unit Event -&gt; UI</div>
<div class="tip" id="fs36">union case UI.Div: Layout * UI list -&gt; UI</div>
<div class="tip" id="fs37">type &#39;T list = List&lt;&#39;T&gt;</div>
<div class="tip" id="fs38">type UIUpdate =<br />&#160;&#160;| InsertUI of int list * UI<br />&#160;&#160;| UpdateUI of int list * UI<br />&#160;&#160;| ReplaceUI of int list * UI<br />&#160;&#160;| RemoveUI of int list<br />&#160;&#160;| EventUI of (unit -&gt; unit)<br /><em><br /><br />&#160;UI component update and event redirection.</em></div>
<div class="tip" id="fs39">union case UIUpdate.InsertUI: int list * UI -&gt; UIUpdate</div>
<div class="tip" id="fs40">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />--------------------<br />type int = int32<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int</div>
<div class="tip" id="fs41">union case UIUpdate.UpdateUI: int list * UI -&gt; UIUpdate</div>
<div class="tip" id="fs42">union case UIUpdate.ReplaceUI: int list * UI -&gt; UIUpdate</div>
<div class="tip" id="fs43">union case UIUpdate.RemoveUI: int list -&gt; UIUpdate</div>
<div class="tip" id="fs44">union case UIUpdate.EventUI: (unit -&gt; unit) -&gt; UIUpdate</div>
<div class="tip" id="fs45">Multiple items<br />type UI =<br />&#160;&#160;| Text of string<br />&#160;&#160;| Input of string * string Event<br />&#160;&#160;| Button of string * unit Event<br />&#160;&#160;| Div of Layout * UI list<br /><em><br /><br />&#160;Primitive UI components.</em><br /><br />--------------------<br />type &#39;msg UI =<br />&#160;&#160;{UI: UI;<br />&#160;&#160;&#160;mutable Event: &#39;msg -&gt; unit;}<br /><em><br /><br />&#160;UI component including a message event.</em></div>
<div class="tip" id="fs46">Multiple items<br />UI.UI: UI<br /><br />--------------------<br />type UI =<br />&#160;&#160;| Text of string<br />&#160;&#160;| Input of string * string Event<br />&#160;&#160;| Button of string * unit Event<br />&#160;&#160;| Div of Layout * UI list<br /><em><br /><br />&#160;Primitive UI components.</em><br /><br />--------------------<br />type &#39;msg UI =<br />&#160;&#160;{UI: UI;<br />&#160;&#160;&#160;mutable Event: &#39;msg -&gt; unit;}<br /><em><br /><br />&#160;UI component including a message event.</em></div>
<div class="tip" id="fs47">Multiple items<br />UI.Event: &#39;msg -&gt; unit<br /><br />--------------------<br />module Event<br /><br />from Microsoft.FSharp.Control<br /><br />--------------------<br />type &#39;msg Event = (&#39;msg -&gt; unit) ref ref<br /><em><br /><br />&#160;Message event used on the primitive UI components.</em><br /><br />--------------------<br />type Event&lt;&#39;Delegate,&#39;Args (requires delegate and &#39;Delegate :&gt; Delegate)&gt; =<br />&#160;&#160;new : unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;<br />&#160;&#160;member Trigger : sender:obj * args:&#39;Args -&gt; unit<br />&#160;&#160;member Publish : IEvent&lt;&#39;Delegate,&#39;Args&gt;<br /><br />--------------------<br />new : unit -&gt; Event&lt;&#39;Delegate,&#39;Args&gt;</div>
<div class="tip" id="fs48">type App&lt;&#39;msg,&#39;model&gt; =<br />&#160;&#160;{Model: &#39;model;<br />&#160;&#160;&#160;Update: &#39;msg -&gt; &#39;model -&gt; &#39;model;<br />&#160;&#160;&#160;View: &#39;model -&gt; &#39;msg UI;}<br /><em><br /><br />&#160;UI application.</em></div>
<div class="tip" id="fs49">App.Model: &#39;model</div>
<div class="tip" id="fs50">App.Update: &#39;msg -&gt; &#39;model -&gt; &#39;model</div>
<div class="tip" id="fs51">App.View: &#39;model -&gt; &#39;msg UI</div>
<div class="tip" id="fs52">type INativeUI =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member Send : UIUpdate list -&gt; unit<br />&#160;&#160;end<br /><em><br /><br />&#160;Native UI interface.</em></div>
<div class="tip" id="fs53">Multiple items<br />type CompilationRepresentationAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : flags:CompilationRepresentationFlags -&gt; CompilationRepresentationAttribute<br />&#160;&#160;member Flags : CompilationRepresentationFlags<br /><br />--------------------<br />new : flags:CompilationRepresentationFlags -&gt; CompilationRepresentationAttribute</div>
<div class="tip" id="fs54">type CompilationRepresentationFlags =<br />&#160;&#160;| None = 0<br />&#160;&#160;| Static = 1<br />&#160;&#160;| Instance = 2<br />&#160;&#160;| ModuleSuffix = 4<br />&#160;&#160;| UseNullAsTrueValue = 8<br />&#160;&#160;| Event = 16</div>
<div class="tip" id="fs55">CompilationRepresentationFlags.ModuleSuffix: CompilationRepresentationFlags = 4</div>
<div class="tip" id="fs56">val memoize&lt;&#39;model,&#39;msg (requires reference type and reference type)&gt; : ((&#39;model -&gt; &#39;msg UI) -&gt; &#39;model -&gt; &#39;msg UI) (requires reference type and reference type)<br /><em><br /><br />&#160;Memoize view generation from model object references.</em></div>
<div class="tip" id="fs57">val not : value:bool -&gt; bool</div>
<div class="tip" id="fs58">val d : ConditionalWeakTable&lt;&#39;model,&#39;msg UI&gt; (requires reference type and reference type)</div>
<div class="tip" id="fs59">Multiple items<br />type ConditionalWeakTable&lt;&#39;TKey,&#39;TValue (requires reference type and reference type)&gt; =<br />&#160;&#160;new : unit -&gt; ConditionalWeakTable&lt;&#39;TKey, &#39;TValue&gt;<br />&#160;&#160;member Add : key:&#39;TKey * value:&#39;TValue -&gt; unit<br />&#160;&#160;member GetOrCreateValue : key:&#39;TKey -&gt; &#39;TValue<br />&#160;&#160;member GetValue : key:&#39;TKey * createValueCallback:CreateValueCallback&lt;&#39;TKey, &#39;TValue&gt; -&gt; &#39;TValue<br />&#160;&#160;member Remove : key:&#39;TKey -&gt; bool<br />&#160;&#160;member TryGetValue : key:&#39;TKey * value:&#39;TValue -&gt; bool<br />&#160;&#160;nested type CreateValueCallback<br /><br />--------------------<br />ConditionalWeakTable() : ConditionalWeakTable&lt;&#39;TKey,&#39;TValue&gt;</div>
<div class="tip" id="fs60">val view : (&#39;model -&gt; &#39;msg UI) (requires reference type and reference type)</div>
<div class="tip" id="fs61">val model : &#39;model (requires reference type)</div>
<div class="tip" id="fs62">ConditionalWeakTable.TryGetValue(key: &#39;model, value: byref&lt;&#39;msg UI&gt;) : bool</div>
<div class="tip" id="fs63">val ui : &#39;msg UI (requires reference type)</div>
<div class="tip" id="fs64">ConditionalWeakTable.Add(key: &#39;model, value: &#39;msg UI) : unit</div>
<div class="tip" id="fs65">val text : text:string -&gt; &#39;a UI<br /><em><br /><br />&#160;Returns a Text display UI component.</em></div>
<div class="tip" id="fs66">val text : string</div>
<div class="tip" id="fs67">val ignore : value:&#39;T -&gt; unit</div>
<div class="tip" id="fs68">val input : text:string -&gt; string UI<br /><em><br /><br />&#160;Returns a text Input UI component.</em></div>
<div class="tip" id="fs69">val ev : (string -&gt; unit) ref ref</div>
<div class="tip" id="fs70">val ui : string UI</div>
<div class="tip" id="fs71">val raise : (string -&gt; unit)</div>
<div class="tip" id="fs72">val a : string</div>
<div class="tip" id="fs73">UI.Event: string -&gt; unit</div>
<div class="tip" id="fs74">val button : text:string -&gt; msg:&#39;a -&gt; &#39;a UI<br /><em><br /><br />&#160;Returns a Button UI component.</em></div>
<div class="tip" id="fs75">val msg : &#39;a</div>
<div class="tip" id="fs76">val ev : (unit -&gt; unit) ref ref</div>
<div class="tip" id="fs77">val ui : &#39;a UI</div>
<div class="tip" id="fs78">UI.Event: &#39;a -&gt; unit</div>
<div class="tip" id="fs79">val div : layout:Layout -&gt; list:&#39;a UI list -&gt; &#39;a UI<br /><em><br /><br />&#160;Returns a section of UI components given a layout.<br />&#160;The name div comes from HTML and represents a division (or section) of the UI.</em></div>
<div class="tip" id="fs80">val layout : Layout</div>
<div class="tip" id="fs81">Multiple items<br />val list : &#39;a UI list<br /><br />--------------------<br />type &#39;T list = List&lt;&#39;T&gt;</div>
<div class="tip" id="fs82">Multiple items<br />module List<br /><br />from Main<br /><br />--------------------<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;&#160;&#160;interface IReadOnlyList&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IReadOnlyCollection&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;interface IEnumerable<br />&#160;&#160;&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;&#160;&#160;member Head : &#39;T<br />&#160;&#160;&#160;&#160;member IsEmpty : bool<br />&#160;&#160;&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;&#160;&#160;member Length : int<br />&#160;&#160;&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;&#160;&#160;...</div>
<div class="tip" id="fs83">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list</div>
<div class="tip" id="fs84">UI.UI: UI</div>
<div class="tip" id="fs85">val raise : (&#39;a -&gt; unit)</div>
<div class="tip" id="fs86">val a : &#39;a</div>
<div class="tip" id="fs87">val iter : action:(&#39;T -&gt; unit) -&gt; list:&#39;T list -&gt; unit</div>
<div class="tip" id="fs88">val i : &#39;a UI</div>
<div class="tip" id="fs89">val map : f:(&#39;a -&gt; &#39;b) -&gt; ui:&#39;a UI -&gt; &#39;b UI<br /><em><br /><br />&#160;Returns a new UI component mapping the message event using the given function.</em></div>
<div class="tip" id="fs90">val f : (&#39;a -&gt; &#39;b)</div>
<div class="tip" id="fs91">val ui2 : &#39;b UI</div>
<div class="tip" id="fs92">val e : &#39;a</div>
<div class="tip" id="fs93">UI.Event: &#39;b -&gt; unit</div>
<div class="tip" id="fs94">val diff : ui1:&#39;a UI -&gt; ui2:&#39;b UI -&gt; UIUpdate list<br /><em><br /><br />&#160;Returns a list of UI updates from two UI components.</em></div>
<div class="tip" id="fs95">val ui1 : &#39;a UI</div>
<div class="tip" id="fs96">val update : (&#39;c ref ref -&gt; &#39;c ref ref -&gt; unit -&gt; unit)</div>
<div class="tip" id="fs97">val e1 : &#39;c ref ref</div>
<div class="tip" id="fs98">val e2 : &#39;c ref ref</div>
<div class="tip" id="fs99">val ev : &#39;c ref</div>
<div class="tip" id="fs100">val diff : (UI -&gt; UI -&gt; int list -&gt; int -&gt; UIUpdate list -&gt; UIUpdate list)</div>
<div class="tip" id="fs101">val ui1 : UI</div>
<div class="tip" id="fs102">val ui2 : UI</div>
<div class="tip" id="fs103">val path : int list</div>
<div class="tip" id="fs104">val index : int</div>
<div class="tip" id="fs105">val diffs : UIUpdate list</div>
<div class="tip" id="fs106">module LanguagePrimitives<br /><br />from Microsoft.FSharp.Core</div>
<div class="tip" id="fs107">val PhysicalEquality : e1:&#39;T -&gt; e2:&#39;T -&gt; bool (requires reference type)</div>
<div class="tip" id="fs108">val t1 : string</div>
<div class="tip" id="fs109">val t2 : string</div>
<div class="tip" id="fs110">val e1 : unit Event</div>
<div class="tip" id="fs111">val e2 : unit Event</div>
<div class="tip" id="fs112">val e1 : string Event</div>
<div class="tip" id="fs113">val e2 : string Event</div>
<div class="tip" id="fs114">val l1 : Layout</div>
<div class="tip" id="fs115">val l2 : Layout</div>
<div class="tip" id="fs116">val l : UI list</div>
<div class="tip" id="fs117">val fold : folder:(&#39;State -&gt; &#39;T -&gt; &#39;State) -&gt; state:&#39;State -&gt; list:&#39;T list -&gt; &#39;State</div>
<div class="tip" id="fs118">val ui : UI</div>
<div class="tip" id="fs119">val snd : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T2</div>
<div class="tip" id="fs120">val l : Layout</div>
<div class="tip" id="fs121">val h1 : UI</div>
<div class="tip" id="fs122">val t1 : UI list</div>
<div class="tip" id="fs123">val h2 : UI</div>
<div class="tip" id="fs124">val t2 : UI list</div>
<div class="tip" id="fs125">val h3 : UI</div>
<div class="tip" id="fs126">val app : model:&#39;a -&gt; update:(&#39;b -&gt; &#39;a -&gt; &#39;a) -&gt; view:(&#39;a -&gt; &#39;b UI) -&gt; App&lt;&#39;b,&#39;a&gt;<br /><em><br /><br />&#160;Returns a UI application from a UI model, update and view.</em></div>
<div class="tip" id="fs127">val model : &#39;a</div>
<div class="tip" id="fs128">val update : (&#39;b -&gt; &#39;a -&gt; &#39;a)</div>
<div class="tip" id="fs129">val view : (&#39;a -&gt; &#39;b UI)</div>
<div class="tip" id="fs130">val run : nativeUI:INativeUI -&gt; app:App&lt;&#39;a,&#39;b&gt; -&gt; unit<br /><em><br /><br />&#160;Runs a UI application given a native UI.</em></div>
<div class="tip" id="fs131">val nativeUI : INativeUI</div>
<div class="tip" id="fs132">val app : App&lt;&#39;a,&#39;b&gt;</div>
<div class="tip" id="fs133">val handle : (&#39;b -&gt; &#39;a UI -&gt; &#39;a -&gt; unit)</div>
<div class="tip" id="fs134">val model : &#39;b</div>
<div class="tip" id="fs135">val newModel : &#39;b</div>
<div class="tip" id="fs136">App.Update: &#39;a -&gt; &#39;b -&gt; &#39;b</div>
<div class="tip" id="fs137">val newUI : &#39;a UI</div>
<div class="tip" id="fs138">App.View: &#39;b -&gt; &#39;a UI</div>
<div class="tip" id="fs139">val diff : UIUpdate list</div>
<div class="tip" id="fs140">val f : (unit -&gt; unit)</div>
<div class="tip" id="fs141">abstract member INativeUI.Send : UIUpdate list -&gt; unit</div>
<div class="tip" id="fs142">App.Model: &#39;b</div>
<div class="tip" id="fs143">type Model = int</div>
<div class="tip" id="fs144">val init : i:Model -&gt; Model</div>
<div class="tip" id="fs145">val i : Model</div>
<div class="tip" id="fs146">type Msg =<br />&#160;&#160;| Increment<br />&#160;&#160;| Decrement</div>
<div class="tip" id="fs147">union case Msg.Increment: Msg</div>
<div class="tip" id="fs148">union case Msg.Decrement: Msg</div>
<div class="tip" id="fs149">val update : msg:Msg -&gt; model:int -&gt; int</div>
<div class="tip" id="fs150">val msg : Msg</div>
<div class="tip" id="fs151">val model : int</div>
<div class="tip" id="fs152">val view : model:Model -&gt; Msg UI</div>
<div class="tip" id="fs153">val model : Model</div>
<div class="tip" id="fs154">Multiple items<br />module UI<br /><br />from Main<br /><br />--------------------<br />type UI =<br />&#160;&#160;| Text of string<br />&#160;&#160;| Input of string * string Event<br />&#160;&#160;| Button of string * unit Event<br />&#160;&#160;| Div of Layout * UI list<br /><em><br /><br />&#160;Primitive UI components.</em><br /><br />--------------------<br />type &#39;msg UI =<br />&#160;&#160;{UI: UI;<br />&#160;&#160;&#160;mutable Event: &#39;msg -&gt; unit;}<br /><em><br /><br />&#160;UI component including a message event.</em></div>
<div class="tip" id="fs155">val app : i:Model -&gt; App&lt;Msg,Model&gt;</div>
<div class="tip" id="fs156">type Model =<br />&#160;&#160;{Top: Model;<br />&#160;&#160;&#160;Bottom: Model;}</div>
<div class="tip" id="fs157">Model.Top: Counter.Model</div>
<div class="tip" id="fs158">module Counter<br /><br />from Main</div>
<div class="tip" id="fs159">Model.Bottom: Counter.Model</div>
<div class="tip" id="fs160">val init : top:Counter.Model -&gt; bottom:Counter.Model -&gt; Model</div>
<div class="tip" id="fs161">val top : Counter.Model</div>
<div class="tip" id="fs162">val bottom : Counter.Model</div>
<div class="tip" id="fs163">val init : i:Counter.Model -&gt; Counter.Model</div>
<div class="tip" id="fs164">type Msg =<br />&#160;&#160;| Reset<br />&#160;&#160;| Top of Msg<br />&#160;&#160;| Bottom of Msg</div>
<div class="tip" id="fs165">union case Msg.Reset: Msg</div>
<div class="tip" id="fs166">union case Msg.Top: Counter.Msg -&gt; Msg</div>
<div class="tip" id="fs167">union case Msg.Bottom: Counter.Msg -&gt; Msg</div>
<div class="tip" id="fs168">val update : msg:Msg -&gt; model:Model -&gt; Model</div>
<div class="tip" id="fs169">val msg : Counter.Msg</div>
<div class="tip" id="fs170">val update : msg:Counter.Msg -&gt; model:int -&gt; int</div>
<div class="tip" id="fs171">val view : model:Counter.Model -&gt; Counter.Msg UI</div>
<div class="tip" id="fs172">val app : top:Counter.Model -&gt; bottom:Counter.Model -&gt; App&lt;Msg,Model&gt;</div>
<div class="tip" id="fs173">module CounterList<br /><br />from Main</div>
<div class="tip" id="fs174">type Model =<br />&#160;&#160;{Counters: Model list;}</div>
<div class="tip" id="fs175">Model.Counters: Counter.Model list</div>
<div class="tip" id="fs176">val init : Model</div>
<div class="tip" id="fs177">type Msg =<br />&#160;&#160;| Insert<br />&#160;&#160;| Remove<br />&#160;&#160;| Modify of int * Msg</div>
<div class="tip" id="fs178">union case Msg.Insert: Msg</div>
<div class="tip" id="fs179">union case Msg.Remove: Msg</div>
<div class="tip" id="fs180">union case Msg.Modify: int * Counter.Msg -&gt; Msg</div>
<div class="tip" id="fs181">val mapi : mapping:(int -&gt; &#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list</div>
<div class="tip" id="fs182">val c : Counter.Model</div>
<div class="tip" id="fs183">val v : Counter.Msg</div>
<div class="tip" id="fs184">val app : App&lt;Msg,Model&gt;</div>
