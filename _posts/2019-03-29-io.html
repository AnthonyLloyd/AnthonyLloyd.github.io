---
layout: post
title: "F# Implementation of Scala ZIO"
tags: [io,zio,async,reader,result]
description: "F# Implementation of Scala ZIO"
keywords: F#, io, zio, async, result
exclude: true
---
<p>This is a prototype implementation of <a href="https://github.com/scalaz/scalaz-zio">Scala ZIO</a> in F#.
It aims to be a skeleton of ZIO features such that additional functions can be easily fleshed out.</p>
<h2>Background</h2>
<p>I recently went to a <a href="https://www.slideshare.net/jdegoes/the-death-of-final-tagless">talk</a>
on <a href="https://github.com/scalaz/scalaz-zio">Scala ZIO</a> by <a href="https://twitter.com/jdegoes">John De Goes</a>.
ZIO is a type-safe, composable library for asynchronous and concurrent programming in Scala.</p>
<p>It takes a different approach to other Scala effects libraries in that it does not require the use of Higher-Kinded Types.
Instead it uses a reader monad to provide access to IO effects (called ZIO Environment).</p>
<p>I came away wanting something similar in F#.
A useful library that could be used in the outer IO layer to simplify and test IO dependency code.
I started to play with some reader code but didn't think it would ultimately work out.</p>
<h2>IO</h2>
<p><span class="math">\[IO = Reader + Async + Result\]</span></p>
<p>The F# equivalent of ZIO type aliases are <code>UIO&lt;'r,'a&gt;</code> which represents effects without errors,
and <code>IO&lt;'r,'a,'e&gt;</code> which represents effects with a possible error.
<a href="https://github.com/AnthonyLloyd/Fsion/blob/master/Fsion/IO.fs">IO</a> combines reader, async and result into one unified computation expression.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs25', 49)" onmouseover="showTip(event, 'fs25', 49)" class="t">UIO</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">r</span>,<span class="o">&#39;</span><span class="i">a</span><span class="o">&gt;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs25', 50)" onmouseover="showTip(event, 'fs25', 50)" class="p">UIO</span> <span class="k">of</span> (<span class="o">&#39;</span><span class="i">r</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs18', 51)" onmouseover="showTip(event, 'fs18', 51)" class="t">Cancel</span> <span class="k">-&gt;</span> (<span class="o">&#39;</span><span class="i">a</span> <span onmouseout="hideTip(event, 'fs26', 52)" onmouseover="showTip(event, 'fs26', 52)" class="t">option</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs27', 53)" onmouseover="showTip(event, 'fs27', 53)" class="t">unit</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs27', 54)" onmouseover="showTip(event, 'fs27', 54)" class="t">unit</span>)
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs111', 412)" onmouseover="showTip(event, 'fs111', 412)" class="t">IO</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">r</span>,<span class="o">&#39;</span><span class="i">a</span>,<span class="o">&#39;</span><span class="i">e</span><span class="o">&gt;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs111', 413)" onmouseover="showTip(event, 'fs111', 413)" class="p">IO</span> <span class="k">of</span> (<span class="o">&#39;</span><span class="i">r</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs18', 414)" onmouseover="showTip(event, 'fs18', 414)" class="t">Cancel</span> <span class="k">-&gt;</span> (<span onmouseout="hideTip(event, 'fs112', 415)" onmouseover="showTip(event, 'fs112', 415)" class="t">Result</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a</span>,<span class="o">&#39;</span><span class="i">e</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs26', 416)" onmouseover="showTip(event, 'fs26', 416)" class="t">option</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs27', 417)" onmouseover="showTip(event, 'fs27', 417)" class="t">unit</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs27', 418)" onmouseover="showTip(event, 'fs27', 418)" class="t">unit</span>)
</code></pre></td>
</tr>
</table>
<h2>Reader</h2>
<p>The reader part represents all the environment dependencies required in the computation expression.
It is fully type-safe with types inferred including any library requirements such as Clock for the timeout.
The computation expression can easily be <a href="https://github.com/AnthonyLloyd/Fsion/blob/master/Fsion.Tests/IOTests.fs">tested</a> by running with a test environment.</p>
<img style="margin-left:20px" src="/{{site.baseurl}}public/io/programType.png" title="program type" />
<h2>Async</h2>
<p>At the IO layer thread pool threads need to be used in the most efficient way without any blocking.
This usually means Async in F# or async/await in C# need to be used.
They both join threads without a thread pool thread having to wait.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs181', 1037)" onmouseover="showTip(event, 'fs181', 1037)" class="f">race</span> (<span onmouseout="hideTip(event, 'fs81', 1038)" onmouseover="showTip(event, 'fs81', 1038)" class="p">UIO</span> <span onmouseout="hideTip(event, 'fs182', 1039)" onmouseover="showTip(event, 'fs182', 1039)" class="f">run1</span>) (<span onmouseout="hideTip(event, 'fs111', 1040)" onmouseover="showTip(event, 'fs111', 1040)" class="p">IO</span> <span onmouseout="hideTip(event, 'fs183', 1041)" onmouseover="showTip(event, 'fs183', 1041)" class="f">run2</span>) <span class="o">:</span> <span onmouseout="hideTip(event, 'fs111', 1042)" onmouseover="showTip(event, 'fs111', 1042)" class="t">IO</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">r</span>,<span onmouseout="hideTip(event, 'fs125', 1043)" onmouseover="showTip(event, 'fs125', 1043)" class="t">Choice</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a1</span>,<span class="o">&#39;</span><span class="i">a2</span><span class="o">&gt;</span>,<span class="o">&#39;</span><span class="i">e1</span><span class="o">&gt;</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs111', 1044)" onmouseover="showTip(event, 'fs111', 1044)" class="p">IO</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs32', 1045)" onmouseover="showTip(event, 'fs32', 1045)" class="i">env</span> <span onmouseout="hideTip(event, 'fs184', 1046)" onmouseover="showTip(event, 'fs184', 1046)" class="f">cont</span> <span class="k">-&gt;</span>
            <span class="k">if</span> <span onmouseout="hideTip(event, 'fs18', 1047)" onmouseover="showTip(event, 'fs18', 1047)" class="p">Cancel</span><span class="o">.</span><span class="i">isSet</span> <span onmouseout="hideTip(event, 'fs32', 1048)" onmouseover="showTip(event, 'fs32', 1048)" class="i">env</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs184', 1049)" onmouseover="showTip(event, 'fs184', 1049)" class="f">cont</span> <span onmouseout="hideTip(event, 'fs34', 1050)" onmouseover="showTip(event, 'fs34', 1050)" class="p">None</span>
            <span class="k">else</span>
                <span class="k">let</span> <span onmouseout="hideTip(event, 'fs185', 1051)" onmouseover="showTip(event, 'fs185', 1051)" class="i">envChild</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs18', 1052)" onmouseover="showTip(event, 'fs18', 1052)" class="p">Cancel</span><span class="o">.</span><span class="i">add</span> <span onmouseout="hideTip(event, 'fs32', 1053)" onmouseover="showTip(event, 'fs32', 1053)" class="i">env</span>
                <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs186', 1054)" onmouseover="showTip(event, 'fs186', 1054)" class="v">o</span> <span class="o">=</span> <span class="n">0</span>
                <span onmouseout="hideTip(event, 'fs69', 1055)" onmouseover="showTip(event, 'fs69', 1055)" class="t">ThreadPool</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs70', 1056)" onmouseover="showTip(event, 'fs70', 1056)" class="f">QueueUserWorkItem</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span>
                    <span onmouseout="hideTip(event, 'fs182', 1057)" onmouseover="showTip(event, 'fs182', 1057)" class="f">run1</span> <span onmouseout="hideTip(event, 'fs185', 1058)" onmouseover="showTip(event, 'fs185', 1058)" class="i">envChild</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs187', 1059)" onmouseover="showTip(event, 'fs187', 1059)" class="i">a</span> <span class="k">-&gt;</span>
                        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs73', 1060)" onmouseover="showTip(event, 'fs73', 1060)" class="t">Interlocked</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs180', 1061)" onmouseover="showTip(event, 'fs180', 1061)" class="f">Exchange</span>(<span class="o">&amp;</span><span onmouseout="hideTip(event, 'fs186', 1062)" onmouseover="showTip(event, 'fs186', 1062)" class="v">o</span>,<span class="n">1</span>) <span class="o">=</span> <span class="n">0</span> <span class="k">then</span>
                            <span onmouseout="hideTip(event, 'fs18', 1063)" onmouseover="showTip(event, 'fs18', 1063)" class="p">Cancel</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 1064)" onmouseover="showTip(event, 'fs22', 1064)" class="i">set</span> <span onmouseout="hideTip(event, 'fs185', 1065)" onmouseover="showTip(event, 'fs185', 1065)" class="i">envChild</span>
                            <span class="k">if</span> <span onmouseout="hideTip(event, 'fs18', 1066)" onmouseover="showTip(event, 'fs18', 1066)" class="p">Cancel</span><span class="o">.</span><span class="i">isSet</span> <span onmouseout="hideTip(event, 'fs32', 1067)" onmouseover="showTip(event, 'fs32', 1067)" class="i">env</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs184', 1068)" onmouseover="showTip(event, 'fs184', 1068)" class="f">cont</span> <span onmouseout="hideTip(event, 'fs34', 1069)" onmouseover="showTip(event, 'fs34', 1069)" class="p">None</span>
                            <span class="k">else</span> <span onmouseout="hideTip(event, 'fs36', 1070)" onmouseover="showTip(event, 'fs36', 1070)" class="t">Option</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs37', 1071)" onmouseover="showTip(event, 'fs37', 1071)" class="f">map</span> (<span onmouseout="hideTip(event, 'fs15', 1072)" onmouseover="showTip(event, 'fs15', 1072)" class="p">Choice2Of2</span> <span class="o">&gt;</span><span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs1', 1073)" onmouseover="showTip(event, 'fs1', 1073)" class="p">Ok</span>) <span onmouseout="hideTip(event, 'fs187', 1074)" onmouseover="showTip(event, 'fs187', 1074)" class="i">a</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs184', 1075)" onmouseover="showTip(event, 'fs184', 1075)" class="f">cont</span>
                    )
                ) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs78', 1076)" onmouseover="showTip(event, 'fs78', 1076)" class="f">ignore</span>
                <span onmouseout="hideTip(event, 'fs69', 1077)" onmouseover="showTip(event, 'fs69', 1077)" class="t">ThreadPool</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs70', 1078)" onmouseover="showTip(event, 'fs70', 1078)" class="f">QueueUserWorkItem</span> (<span class="k">fun</span> _ <span class="k">-&gt;</span>
                    <span onmouseout="hideTip(event, 'fs183', 1079)" onmouseover="showTip(event, 'fs183', 1079)" class="f">run2</span> <span onmouseout="hideTip(event, 'fs185', 1080)" onmouseover="showTip(event, 'fs185', 1080)" class="i">envChild</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs188', 1081)" onmouseover="showTip(event, 'fs188', 1081)" class="i">a</span> <span class="k">-&gt;</span>
                        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs73', 1082)" onmouseover="showTip(event, 'fs73', 1082)" class="t">Interlocked</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs180', 1083)" onmouseover="showTip(event, 'fs180', 1083)" class="f">Exchange</span>(<span class="o">&amp;</span><span onmouseout="hideTip(event, 'fs186', 1084)" onmouseover="showTip(event, 'fs186', 1084)" class="v">o</span>,<span class="n">1</span>) <span class="o">=</span> <span class="n">0</span> <span class="k">then</span>
                            <span onmouseout="hideTip(event, 'fs18', 1085)" onmouseover="showTip(event, 'fs18', 1085)" class="p">Cancel</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 1086)" onmouseover="showTip(event, 'fs22', 1086)" class="i">set</span> <span onmouseout="hideTip(event, 'fs185', 1087)" onmouseover="showTip(event, 'fs185', 1087)" class="i">envChild</span>
                            <span class="k">if</span> <span onmouseout="hideTip(event, 'fs18', 1088)" onmouseover="showTip(event, 'fs18', 1088)" class="p">Cancel</span><span class="o">.</span><span class="i">isSet</span> <span onmouseout="hideTip(event, 'fs32', 1089)" onmouseover="showTip(event, 'fs32', 1089)" class="i">env</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs184', 1090)" onmouseover="showTip(event, 'fs184', 1090)" class="f">cont</span> <span onmouseout="hideTip(event, 'fs34', 1091)" onmouseover="showTip(event, 'fs34', 1091)" class="p">None</span>
                            <span class="k">else</span> <span onmouseout="hideTip(event, 'fs36', 1092)" onmouseover="showTip(event, 'fs36', 1092)" class="t">Option</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs37', 1093)" onmouseover="showTip(event, 'fs37', 1093)" class="f">map</span> (<span onmouseout="hideTip(event, 'fs112', 1094)" onmouseover="showTip(event, 'fs112', 1094)" class="t">Result</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 1095)" onmouseover="showTip(event, 'fs4', 1095)" class="f">map</span> <span onmouseout="hideTip(event, 'fs13', 1096)" onmouseover="showTip(event, 'fs13', 1096)" class="p">Choice1Of2</span>) <span onmouseout="hideTip(event, 'fs188', 1097)" onmouseover="showTip(event, 'fs188', 1097)" class="i">a</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs184', 1098)" onmouseover="showTip(event, 'fs184', 1098)" class="f">cont</span>
                    )
                ) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs78', 1099)" onmouseover="showTip(event, 'fs78', 1099)" class="f">ignore</span>
        )
</code></pre></td>
</tr>
</table>
<p>With <a href="https://github.com/AnthonyLloyd/Fsion/blob/master/Fsion/IO.fs">IO</a> async is implemented directly using the thread pool.
There are two main reasons for this.
In <a href="https://github.com/AnthonyLloyd/Fsion/blob/master/Fsion/IO.fs">IO</a> exceptions are not part of control flow.
Errors are first class and type-safe. Unrecoverable exceptions output the stack trace and exit the process.
Cancellation is fully integrated into <a href="https://github.com/AnthonyLloyd/Fsion/blob/master/Fsion/IO.fs">IO</a> meaning in race,
parallel and upon an error, computations are automatically cancelled saving resources.</p>
<p>These with the final part dramatically simplify and optimise asynchronous IO code.</p>
<h2>Result</h2>
<p>The result part of <a href="https://github.com/AnthonyLloyd/Fsion/blob/master/Fsion/IO.fs">IO</a> represents possible errors in an integrated and type-safe way.
The error type is inferred, and different error types are auto lifted into <code>Choice&lt;'a,'b&gt;</code> when combined.
<a href="https://github.com/AnthonyLloyd/Fsion/blob/master/Fsion/IO.fs">IO</a> computations can be timed out and retried based on result using simple functions.
Schedule is a powerful construct that can be combined several ways.
I've replicated the structure from ZIO but not fully explored its uses.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs230', 1275)" onmouseover="showTip(event, 'fs230', 1275)" class="f">programRetry</span> <span onmouseout="hideTip(event, 'fs231', 1276)" onmouseover="showTip(event, 'fs231', 1276)" class="i">noRetry</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs212', 1277)" onmouseover="showTip(event, 'fs212', 1277)" class="k">io</span> {
        <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs222', 1278)" onmouseover="showTip(event, 'fs222', 1278)" class="t">Logger</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs224', 1279)" onmouseover="showTip(event, 'fs224', 1279)" class="i">log</span> <span class="s">&quot;started&quot;</span>
        <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs218', 1280)" onmouseover="showTip(event, 'fs218', 1280)" class="t">Console</span><span class="o">.</span><span class="i">writeLine</span> <span class="s">&quot;Please enter your name:&quot;</span>
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs232', 1281)" onmouseover="showTip(event, 'fs232', 1281)" class="i">name</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs218', 1282)" onmouseover="showTip(event, 'fs218', 1282)" class="t">Console</span><span class="o">.</span><span class="i">readLine</span>()
        <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs222', 1283)" onmouseover="showTip(event, 'fs222', 1283)" class="t">Logger</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs224', 1284)" onmouseover="showTip(event, 'fs224', 1284)" class="i">log</span> (<span class="s">&quot;got name = &quot;</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs232', 1285)" onmouseover="showTip(event, 'fs232', 1285)" class="i">name</span>)
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs233', 1286)" onmouseover="showTip(event, 'fs233', 1286)" class="i">thread</span> <span class="o">=</span>
            <span onmouseout="hideTip(event, 'fs228', 1287)" onmouseover="showTip(event, 'fs228', 1287)" class="t">Persistence</span><span class="o">.</span><span class="i">persist</span> <span onmouseout="hideTip(event, 'fs232', 1288)" onmouseover="showTip(event, 'fs232', 1288)" class="i">name</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs201', 1289)" onmouseover="showTip(event, 'fs201', 1289)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs189', 1290)" onmouseover="showTip(event, 'fs189', 1290)" class="f">timeout</span> <span class="n">1000</span>
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs201', 1291)" onmouseover="showTip(event, 'fs201', 1291)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs164', 1292)" onmouseover="showTip(event, 'fs164', 1292)" class="f">retry</span> (<span onmouseout="hideTip(event, 'fs154', 1293)" onmouseover="showTip(event, 'fs154', 1293)" class="t">Schedule</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs108', 1294)" onmouseover="showTip(event, 'fs108', 1294)" class="f">recurs</span> <span onmouseout="hideTip(event, 'fs231', 1295)" onmouseover="showTip(event, 'fs231', 1295)" class="i">noRetry</span>)
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs201', 1296)" onmouseover="showTip(event, 'fs201', 1296)" class="t">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs166', 1297)" onmouseover="showTip(event, 'fs166', 1297)" class="f">fork</span>
        <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs218', 1298)" onmouseover="showTip(event, 'fs218', 1298)" class="t">Console</span><span class="o">.</span><span class="i">writeLine</span> (<span class="s">&quot;Hi &quot;</span><span class="o">+</span><span onmouseout="hideTip(event, 'fs232', 1299)" onmouseover="showTip(event, 'fs232', 1299)" class="i">name</span>)
        <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs233', 1300)" onmouseover="showTip(event, 'fs233', 1300)" class="i">thread</span>
        <span class="k">do!</span> <span onmouseout="hideTip(event, 'fs222', 1301)" onmouseover="showTip(event, 'fs222', 1301)" class="t">Logger</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs224', 1302)" onmouseover="showTip(event, 'fs224', 1302)" class="i">log</span> <span class="s">&quot;finished&quot;</span>
        <span class="k">return</span> <span class="n">0</span>
    }
</code></pre></td>
</tr>
</table>
<h2>Conclusion</h2>
<p>When type inference worked for the dependencies I was surprised.
When it was also possible to make it work for the errors I was amazed.</p>
<p>Computation expressions do not compose well.
At the IO layer a solution is needed for dependencies in a testable way.
The IO layer also needs to efficiently use the thread pool.
Making errors type-safe and integrated in the IO logic completes this compelling trinity.</p>
<h2>References</h2>
<p><a href="https://github.com/AnthonyLloyd/Fsion/blob/master/Fsion/IO.fs">IO.fs</a><br />
<a href="https://github.com/AnthonyLloyd/Fsion/blob/master/Fsion.Tests/IOTests.fs">IOTests.fs</a><br />
<a href="https://scalaz.github.io/scalaz-zio/overview/">ZIO Overview</a><br />
<a href="https://scalaz.github.io/scalaz-zio/datatypes/">ZIO Data Types</a><br />
<a href="https://www.slideshare.net/jdegoes/the-death-of-final-tagless">The Death Of Final Tagless</a></p>
<h2>Thanks</h2>
<p><a href="https://twitter.com/jdegoes">@jdegoes</a> for ZIO and a great talk that made me want to do this.<br />
<a href="https://twitter.com/NinoFloris">@NinoFloris</a> for useful async discussions.<br />
<a href="https://twitter.com/keithtpinson/status/1104071022544932866">@keithtpinson</a> for the error auto lift idea.</p>


<div class="tip" id="fs1">union case Result.Ok: &#39;a -&gt; Result&lt;&#39;a,&#39;e&gt;</div>
<div class="tip" id="fs2">union case Result.Error: &#39;e -&gt; Result&lt;&#39;a,&#39;e&gt;</div>
<div class="tip" id="fs3">type Result&lt;&#39;a,&#39;e&gt; =<br />&#160;&#160;| Ok of &#39;a<br />&#160;&#160;| Error of &#39;e<br /><br />Full name: 2019-03-29-io.Result&lt;_,_&gt;</div>
<div class="tip" id="fs4">val map : f:(&#39;a -&gt; &#39;b) -&gt; Result&lt;&#39;a,&#39;e&gt; -&gt; Result&lt;&#39;b,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.Result.map</div>
<div class="tip" id="fs5">val f : (&#39;a -&gt; &#39;b)</div>
<div class="tip" id="fs6">val failwith : message:string -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.failwith</div>
<div class="tip" id="fs7">val mapError : f:(&#39;e -&gt; &#39;f) -&gt; Result&lt;&#39;a,&#39;e&gt; -&gt; Result&lt;&#39;a,&#39;f&gt;<br /><br />Full name: 2019-03-29-io.Result.mapError</div>
<div class="tip" id="fs8">val f : (&#39;e -&gt; &#39;f)</div>
<div class="tip" id="fs9">Multiple items<br />union case Time.Time: Time<br /><br />--------------------<br />type Time = | Time<br /><br />Full name: 2019-03-29-io.Time</div>
<div class="tip" id="fs10">Multiple items<br />type Choice&lt;&#39;T1,&#39;T2&gt; =<br />&#160;&#160;| Choice1Of2 of &#39;T1<br />&#160;&#160;| Choice2Of2 of &#39;T2<br /><br />Full name: Microsoft.FSharp.Core.Choice&lt;_,_&gt;<br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3&gt; =<br />&#160;&#160;| Choice1Of3 of &#39;T1<br />&#160;&#160;| Choice2Of3 of &#39;T2<br />&#160;&#160;| Choice3Of3 of &#39;T3<br /><br />Full name: Microsoft.FSharp.Core.Choice&lt;_,_,_&gt;<br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4&gt; =<br />&#160;&#160;| Choice1Of4 of &#39;T1<br />&#160;&#160;| Choice2Of4 of &#39;T2<br />&#160;&#160;| Choice3Of4 of &#39;T3<br />&#160;&#160;| Choice4Of4 of &#39;T4<br /><br />Full name: Microsoft.FSharp.Core.Choice&lt;_,_,_,_&gt;<br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5&gt; =<br />&#160;&#160;| Choice1Of5 of &#39;T1<br />&#160;&#160;| Choice2Of5 of &#39;T2<br />&#160;&#160;| Choice3Of5 of &#39;T3<br />&#160;&#160;| Choice4Of5 of &#39;T4<br />&#160;&#160;| Choice5Of5 of &#39;T5<br /><br />Full name: Microsoft.FSharp.Core.Choice&lt;_,_,_,_,_&gt;<br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6&gt; =<br />&#160;&#160;| Choice1Of6 of &#39;T1<br />&#160;&#160;| Choice2Of6 of &#39;T2<br />&#160;&#160;| Choice3Of6 of &#39;T3<br />&#160;&#160;| Choice4Of6 of &#39;T4<br />&#160;&#160;| Choice5Of6 of &#39;T5<br />&#160;&#160;| Choice6Of6 of &#39;T6<br /><br />Full name: Microsoft.FSharp.Core.Choice&lt;_,_,_,_,_,_&gt;<br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6,&#39;T7&gt; =<br />&#160;&#160;| Choice1Of7 of &#39;T1<br />&#160;&#160;| Choice2Of7 of &#39;T2<br />&#160;&#160;| Choice3Of7 of &#39;T3<br />&#160;&#160;| Choice4Of7 of &#39;T4<br />&#160;&#160;| Choice5Of7 of &#39;T5<br />&#160;&#160;| Choice6Of7 of &#39;T6<br />&#160;&#160;| Choice7Of7 of &#39;T7<br /><br />Full name: Microsoft.FSharp.Core.Choice&lt;_,_,_,_,_,_,_&gt;</div>
<div class="tip" id="fs11">val merge : c:Choice&lt;&#39;a,&#39;a&gt; -&gt; &#39;a<br /><br />Full name: 2019-03-29-io.Choice.merge</div>
<div class="tip" id="fs12">val c : Choice&lt;&#39;a,&#39;a&gt;</div>
<div class="tip" id="fs13">union case Choice.Choice1Of2: &#39;T1 -&gt; Choice&lt;&#39;T1,&#39;T2&gt;</div>
<div class="tip" id="fs14">val a : &#39;a</div>
<div class="tip" id="fs15">union case Choice.Choice2Of2: &#39;T2 -&gt; Choice&lt;&#39;T1,&#39;T2&gt;</div>
<div class="tip" id="fs16">namespace System</div>
<div class="tip" id="fs17">namespace System.Threading</div>
<div class="tip" id="fs18">Multiple items<br />union case Cancel.Cancel: bool ref * children: Cancel list ref -&gt; Cancel<br /><br />--------------------<br />type Cancel = private | Cancel of bool ref * children: Cancel list ref<br /><br />Full name: 2019-03-29-io.Cancel</div>
<div class="tip" id="fs19">type bool = System.Boolean<br /><br />Full name: Microsoft.FSharp.Core.bool</div>
<div class="tip" id="fs20">Multiple items<br />val ref : value:&#39;T -&gt; &#39;T ref<br /><br />Full name: Microsoft.FSharp.Core.Operators.ref<br /><br />--------------------<br />type &#39;T ref = Ref&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.ref&lt;_&gt;</div>
<div class="tip" id="fs21">type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>
<div class="tip" id="fs22">val set : elements:seq&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.set</div>
<div class="tip" id="fs23">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs24">val iter : action:(&#39;T -&gt; unit) -&gt; list:&#39;T list -&gt; unit<br /><br />Full name: Microsoft.FSharp.Collections.List.iter</div>
<div class="tip" id="fs25">Multiple items<br />union case UIO.UIO: (&#39;r * Cancel -&gt; (&#39;a option -&gt; unit) -&gt; unit) -&gt; UIO&lt;&#39;r,&#39;a&gt;<br /><br />--------------------<br />type UIO&lt;&#39;r,&#39;a&gt; =<br />&#160;&#160;| UIO of (&#39;r * Cancel -&gt; (&#39;a option -&gt; unit) -&gt; unit)<br />&#160;&#160;member Bind : f:(&#39;a -&gt; UIO&lt;&#39;r,&#39;b&gt;) -&gt; UIO&lt;&#39;r,&#39;b&gt;<br />&#160;&#160;member Bind : f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.UIO&lt;_,_&gt;</div>
<div class="tip" id="fs26">type &#39;T option = Option&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.option&lt;_&gt;</div>
<div class="tip" id="fs27">type unit = Unit<br /><br />Full name: Microsoft.FSharp.Core.unit</div>
<div class="tip" id="fs28">val m : UIO&lt;&#39;r,&#39;a&gt;</div>
<div class="tip" id="fs29">member UIO.Bind : f:(&#39;a -&gt; UIO&lt;&#39;r,&#39;b&gt;) -&gt; UIO&lt;&#39;r,&#39;b&gt;<br /><br />Full name: 2019-03-29-io.UIO`2.Bind</div>
<div class="tip" id="fs30">val f : (&#39;a -&gt; UIO&lt;&#39;r,&#39;b&gt;)</div>
<div class="tip" id="fs31">val run : (&#39;r * Cancel -&gt; (&#39;a option -&gt; unit) -&gt; unit)</div>
<div class="tip" id="fs32">val env : &#39;r * Cancel</div>
<div class="tip" id="fs33">val cont : (&#39;b option -&gt; unit)</div>
<div class="tip" id="fs34">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs35">val o : &#39;a option</div>
<div class="tip" id="fs36">module Option<br /><br />from Microsoft.FSharp.Core</div>
<div class="tip" id="fs37">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; option:&#39;T option -&gt; &#39;U option<br /><br />Full name: Microsoft.FSharp.Core.Option.map</div>
<div class="tip" id="fs38">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs39">val run : (&#39;r * Cancel -&gt; (&#39;b option -&gt; unit) -&gt; unit)</div>
<div class="tip" id="fs40">val result : a:&#39;a -&gt; UIO&lt;&#39;r,&#39;a&gt;<br /><br />Full name: 2019-03-29-io.UIO.result</div>
<div class="tip" id="fs41">val cont : (&#39;a option -&gt; unit)</div>
<div class="tip" id="fs42">val effect : f:(&#39;r -&gt; &#39;a) -&gt; UIO&lt;&#39;r,&#39;a&gt;<br /><br />Full name: 2019-03-29-io.UIO.effect</div>
<div class="tip" id="fs43">val f : (&#39;r -&gt; &#39;a)</div>
<div class="tip" id="fs44">val fst : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T1<br /><br />Full name: Microsoft.FSharp.Core.Operators.fst</div>
<div class="tip" id="fs45">val map : f:(&#39;a -&gt; &#39;b) -&gt; UIO&lt;&#39;r,&#39;a&gt; -&gt; UIO&lt;&#39;r,&#39;b&gt;<br /><br />Full name: 2019-03-29-io.UIO.map</div>
<div class="tip" id="fs46">val b : &#39;b</div>
<div class="tip" id="fs47">val delay : milliseconds:int -&gt; UIO&lt;&#39;r,unit&gt;<br /><br />Full name: 2019-03-29-io.UIO.delay</div>
<div class="tip" id="fs48">val milliseconds : int</div>
<div class="tip" id="fs49">val cont : (unit option -&gt; unit)</div>
<div class="tip" id="fs50">val mutable t : Timer</div>
<div class="tip" id="fs51">module Unchecked<br /><br />from Microsoft.FSharp.Core.Operators</div>
<div class="tip" id="fs52">val defaultof&lt;&#39;T&gt; : &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.Unchecked.defaultof</div>
<div class="tip" id="fs53">Multiple items<br />type Timer =<br />&#160;&#160;inherit MarshalByRefObject<br />&#160;&#160;new : callback:TimerCallback -&gt; Timer + 4 overloads<br />&#160;&#160;member Change : dueTime:int * period:int -&gt; bool + 3 overloads<br />&#160;&#160;member Dispose : unit -&gt; unit + 1 overload<br /><br />Full name: System.Threading.Timer<br /><br />--------------------<br />Timer(callback: TimerCallback) : unit<br />Timer(callback: TimerCallback, state: obj, dueTime: int, period: int) : unit<br />Timer(callback: TimerCallback, state: obj, dueTime: System.TimeSpan, period: System.TimeSpan) : unit<br />Timer(callback: TimerCallback, state: obj, dueTime: uint32, period: uint32) : unit<br />Timer(callback: TimerCallback, state: obj, dueTime: int64, period: int64) : unit</div>
<div class="tip" id="fs54">Timer.Dispose() : unit<br />Timer.Dispose(notifyObject: WaitHandle) : bool</div>
<div class="tip" id="fs55">type Timeout =<br />&#160;&#160;static val Infinite : int<br /><br />Full name: System.Threading.Timeout</div>
<div class="tip" id="fs56">field Timeout.Infinite = -1</div>
<div class="tip" id="fs57">val flatten : f:(&#39;r -&gt; UIO&lt;&#39;r,&#39;a&gt;) -&gt; UIO&lt;&#39;r,&#39;a&gt;<br /><br />Full name: 2019-03-29-io.UIO.flatten</div>
<div class="tip" id="fs58">val f : (&#39;r -&gt; UIO&lt;&#39;r,&#39;a&gt;)</div>
<div class="tip" id="fs59">val t : &#39;a option</div>
<div class="tip" id="fs60">val toAsync : env:&#39;r -&gt; UIO&lt;&#39;r,&#39;a&gt; -&gt; Async&lt;&#39;a&gt;<br /><br />Full name: 2019-03-29-io.UIO.toAsync</div>
<div class="tip" id="fs61">val env : &#39;r</div>
<div class="tip" id="fs62">Multiple items<br />type Async<br />static member AsBeginEnd : computation:(&#39;Arg -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; &#39;T) * (IAsyncResult -&gt; unit)<br />static member AwaitEvent : event:IEvent&lt;&#39;Del,&#39;T&gt; * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; (requires delegate and &#39;Del :&gt; Delegate)<br />static member AwaitIAsyncResult : iar:IAsyncResult * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member AwaitTask : task:Task -&gt; Async&lt;unit&gt;<br />static member AwaitTask : task:Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt;<br />static member AwaitWaitHandle : waitHandle:WaitHandle * ?millisecondsTimeout:int -&gt; Async&lt;bool&gt;<br />static member CancelDefaultToken : unit -&gt; unit<br />static member Catch : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;<br />static member FromBeginEnd : beginAction:(AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg:&#39;Arg1 * beginAction:(&#39;Arg1 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * beginAction:(&#39;Arg1 * &#39;Arg2 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromBeginEnd : arg1:&#39;Arg1 * arg2:&#39;Arg2 * arg3:&#39;Arg3 * beginAction:(&#39;Arg1 * &#39;Arg2 * &#39;Arg3 * AsyncCallback * obj -&gt; IAsyncResult) * endAction:(IAsyncResult -&gt; &#39;T) * ?cancelAction:(unit -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member FromContinuations : callback:((&#39;T -&gt; unit) * (exn -&gt; unit) * (OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member Ignore : computation:Async&lt;&#39;T&gt; -&gt; Async&lt;unit&gt;<br />static member OnCancel : interruption:(unit -&gt; unit) -&gt; Async&lt;IDisposable&gt;<br />static member Parallel : computations:seq&lt;Async&lt;&#39;T&gt;&gt; -&gt; Async&lt;&#39;T []&gt;<br />static member RunSynchronously : computation:Async&lt;&#39;T&gt; * ?timeout:int * ?cancellationToken:CancellationToken -&gt; &#39;T<br />static member Sleep : millisecondsDueTime:int -&gt; Async&lt;unit&gt;<br />static member Start : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions * ?cancellationToken:CancellationToken -&gt; Task&lt;&#39;T&gt;<br />static member StartChild : computation:Async&lt;&#39;T&gt; * ?millisecondsTimeout:int -&gt; Async&lt;Async&lt;&#39;T&gt;&gt;<br />static member StartChildAsTask : computation:Async&lt;&#39;T&gt; * ?taskCreationOptions:TaskCreationOptions -&gt; Async&lt;Task&lt;&#39;T&gt;&gt;<br />static member StartImmediate : computation:Async&lt;unit&gt; * ?cancellationToken:CancellationToken -&gt; unit<br />static member StartWithContinuations : computation:Async&lt;&#39;T&gt; * continuation:(&#39;T -&gt; unit) * exceptionContinuation:(exn -&gt; unit) * cancellationContinuation:(OperationCanceledException -&gt; unit) * ?cancellationToken:CancellationToken -&gt; unit<br />static member SwitchToContext : syncContext:SynchronizationContext -&gt; Async&lt;unit&gt;<br />static member SwitchToNewThread : unit -&gt; Async&lt;unit&gt;<br />static member SwitchToThreadPool : unit -&gt; Async&lt;unit&gt;<br />static member TryCancelled : computation:Async&lt;&#39;T&gt; * compensation:(OperationCanceledException -&gt; unit) -&gt; Async&lt;&#39;T&gt;<br />static member CancellationToken : Async&lt;CancellationToken&gt;<br />static member DefaultCancellationToken : CancellationToken<br /><br />Full name: Microsoft.FSharp.Control.Async<br /><br />--------------------<br />type Async&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Control.Async&lt;_&gt;</div>
<div class="tip" id="fs63">static member Async.FromContinuations : callback:((&#39;T -&gt; unit) * (exn -&gt; unit) * (System.OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;&#39;T&gt;</div>
<div class="tip" id="fs64">val cont : (&#39;a -&gt; unit)</div>
<div class="tip" id="fs65">property Option.Value: &#39;a</div>
<div class="tip" id="fs66">val fork : UIO&lt;&#39;r,&#39;a&gt; -&gt; UIO&lt;&#39;r,UIO&lt;&#39;r,&#39;a&gt;&gt;<br /><br />Full name: 2019-03-29-io.UIO.fork</div>
<div class="tip" id="fs67">val contFork : (UIO&lt;&#39;r,&#39;a&gt; option -&gt; unit)</div>
<div class="tip" id="fs68">val mutable o : obj</div>
<div class="tip" id="fs69">type ThreadPool =<br />&#160;&#160;static member BindHandle : osHandle:nativeint -&gt; bool + 1 overload<br />&#160;&#160;static member GetAvailableThreads : workerThreads:int * completionPortThreads:int -&gt; unit<br />&#160;&#160;static member GetMaxThreads : workerThreads:int * completionPortThreads:int -&gt; unit<br />&#160;&#160;static member GetMinThreads : workerThreads:int * completionPortThreads:int -&gt; unit<br />&#160;&#160;static member QueueUserWorkItem : callBack:WaitCallback -&gt; bool + 1 overload<br />&#160;&#160;static member RegisterWaitForSingleObject : waitObject:WaitHandle * callBack:WaitOrTimerCallback * state:obj * millisecondsTimeOutInterval:uint32 * executeOnlyOnce:bool -&gt; RegisteredWaitHandle + 3 overloads<br />&#160;&#160;static member SetMaxThreads : workerThreads:int * completionPortThreads:int -&gt; bool<br />&#160;&#160;static member SetMinThreads : workerThreads:int * completionPortThreads:int -&gt; bool<br />&#160;&#160;static member UnsafeQueueNativeOverlapped : overlapped:NativeOverlapped -&gt; bool<br />&#160;&#160;static member UnsafeQueueUserWorkItem : callBack:WaitCallback * state:obj -&gt; bool<br />&#160;&#160;...<br /><br />Full name: System.Threading.ThreadPool</div>
<div class="tip" id="fs70">ThreadPool.QueueUserWorkItem(callBack: WaitCallback) : bool<br />ThreadPool.QueueUserWorkItem(callBack: WaitCallback, state: obj) : bool</div>
<div class="tip" id="fs71">val a : &#39;a option</div>
<div class="tip" id="fs72">val o : obj</div>
<div class="tip" id="fs73">type Interlocked =<br />&#160;&#160;static member Add : location1:int * value:int -&gt; int + 1 overload<br />&#160;&#160;static member CompareExchange : location1:int * value:int * comparand:int -&gt; int + 6 overloads<br />&#160;&#160;static member Decrement : location:int -&gt; int + 1 overload<br />&#160;&#160;static member Exchange : location1:int * value:int -&gt; int + 6 overloads<br />&#160;&#160;static member Increment : location:int -&gt; int + 1 overload<br />&#160;&#160;static member Read : location:int64 -&gt; int64<br /><br />Full name: System.Threading.Interlocked</div>
<div class="tip" id="fs74">Interlocked.CompareExchange&lt;&#39;T (requires reference type)&gt;(location1: byref&lt;&#39;T&gt;, value: &#39;T, comparand: &#39;T) : &#39;T<br />Interlocked.CompareExchange(location1: byref&lt;nativeint&gt;, value: nativeint, comparand: nativeint) : nativeint<br />Interlocked.CompareExchange(location1: byref&lt;obj&gt;, value: obj, comparand: obj) : obj<br />Interlocked.CompareExchange(location1: byref&lt;float&gt;, value: float, comparand: float) : float<br />Interlocked.CompareExchange(location1: byref&lt;float32&gt;, value: float32, comparand: float32) : float32<br />Interlocked.CompareExchange(location1: byref&lt;int64&gt;, value: int64, comparand: int64) : int64<br />Interlocked.CompareExchange(location1: byref&lt;int&gt;, value: int, comparand: int) : int</div>
<div class="tip" id="fs75">val isNull : value:&#39;T -&gt; bool (requires &#39;T : null)<br /><br />Full name: Microsoft.FSharp.Core.Operators.isNull</div>
<div class="tip" id="fs76">val not : value:bool -&gt; bool<br /><br />Full name: Microsoft.FSharp.Core.Operators.not</div>
<div class="tip" id="fs77">val cont : (Option&lt;&#39;a&gt; -&gt; unit)</div>
<div class="tip" id="fs78">val ignore : value:&#39;T -&gt; unit<br /><br />Full name: Microsoft.FSharp.Core.Operators.ignore</div>
<div class="tip" id="fs79">type ClockService =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member Sleep : int -&gt; UIO&lt;&#39;r,unit&gt;<br />&#160;&#160;&#160;&#160;abstract member Time : unit -&gt; UIO&lt;&#39;r,Time&gt;<br />&#160;&#160;end<br /><br />Full name: 2019-03-29-io.ClockService</div>
<div class="tip" id="fs80">Multiple items<br />abstract member ClockService.Time : unit -&gt; UIO&lt;&#39;r,Time&gt;<br /><br />Full name: 2019-03-29-io.ClockService.Time<br /><br />--------------------<br />type Time = | Time<br /><br />Full name: 2019-03-29-io.Time</div>
<div class="tip" id="fs81">Multiple items<br />union case UIO.UIO: (&#39;r * Cancel -&gt; (&#39;a option -&gt; unit) -&gt; unit) -&gt; UIO&lt;&#39;r,&#39;a&gt;<br /><br />--------------------<br />module UIO<br /><br />from 2019-03-29-io<br /><br />--------------------<br />type UIO&lt;&#39;r,&#39;a&gt; =<br />&#160;&#160;| UIO of (&#39;r * Cancel -&gt; (&#39;a option -&gt; unit) -&gt; unit)<br />&#160;&#160;member Bind : f:(&#39;a -&gt; UIO&lt;&#39;r,&#39;b&gt;) -&gt; UIO&lt;&#39;r,&#39;b&gt;<br />&#160;&#160;member Bind : f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.UIO&lt;_,_&gt;</div>
<div class="tip" id="fs82">abstract member ClockService.Sleep : int -&gt; UIO&lt;&#39;r,unit&gt;<br /><br />Full name: 2019-03-29-io.ClockService.Sleep</div>
<div class="tip" id="fs83">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs84">type Clock =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member Clock : ClockService<br />&#160;&#160;end<br /><br />Full name: 2019-03-29-io.Clock</div>
<div class="tip" id="fs85">Multiple items<br />abstract member Clock.Clock : ClockService<br /><br />Full name: 2019-03-29-io.Clock.Clock<br /><br />--------------------<br />type Clock =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member Clock : ClockService<br />&#160;&#160;end<br /><br />Full name: 2019-03-29-io.Clock</div>
<div class="tip" id="fs86">Multiple items<br />union case Decision.Decision: cont: bool * delay: int * state: &#39;a * (unit -&gt; &#39;b) -&gt; Decision&lt;&#39;a,&#39;b&gt;<br /><br />--------------------<br />type Decision&lt;&#39;a,&#39;b&gt; = | Decision of cont: bool * delay: int * state: &#39;a * (unit -&gt; &#39;b)<br /><br />Full name: 2019-03-29-io.Decision&lt;_,_&gt;</div>
<div class="tip" id="fs87">Multiple items<br />union case Schedule.Schedule: initial: UIO&lt;&#39;r,&#39;s&gt; * update: &#39;a * &#39;s -&gt; UIO&lt;&#39;r,Decision&lt;&#39;s,&#39;b&gt;&gt; -&gt; Schedule&lt;&#39;r,&#39;s,&#39;a,&#39;b&gt;<br /><br />--------------------<br />type Schedule&lt;&#39;r,&#39;s,&#39;a,&#39;b&gt; = private | Schedule of initial: UIO&lt;&#39;r,&#39;s&gt; * update: &#39;a * &#39;s -&gt; UIO&lt;&#39;r,Decision&lt;&#39;s,&#39;b&gt;&gt;<br /><br />Full name: 2019-03-29-io.Schedule&lt;_,_,_,_&gt;</div>
<div class="tip" id="fs88">val forever&lt;&#39;r,&#39;a&gt; : Schedule&lt;&#39;r,int,&#39;a,int&gt;<br /><br />Full name: 2019-03-29-io.Schedule.forever</div>
<div class="tip" id="fs89">val s : int</div>
<div class="tip" id="fs90">val private updated : update:((&#39;a * &#39;s -&gt; UIO&lt;&#39;r,Decision&lt;&#39;s,&#39;b&gt;&gt;) -&gt; &#39;a * &#39;s -&gt; UIO&lt;&#39;r,Decision&lt;&#39;s,&#39;b2&gt;&gt;) -&gt; Schedule&lt;&#39;r,&#39;s,&#39;a,&#39;b&gt; -&gt; Schedule&lt;&#39;r,&#39;s,&#39;a,&#39;b2&gt;<br /><br />Full name: 2019-03-29-io.Schedule.updated</div>
<div class="tip" id="fs91">val update : ((&#39;a * &#39;s -&gt; UIO&lt;&#39;r,Decision&lt;&#39;s,&#39;b&gt;&gt;) -&gt; &#39;a * &#39;s -&gt; UIO&lt;&#39;r,Decision&lt;&#39;s,&#39;b2&gt;&gt;)</div>
<div class="tip" id="fs92">val i : UIO&lt;&#39;r,&#39;s&gt;</div>
<div class="tip" id="fs93">val u : (&#39;a * &#39;s -&gt; UIO&lt;&#39;r,Decision&lt;&#39;s,&#39;b&gt;&gt;)</div>
<div class="tip" id="fs94">val private check : test:(&#39;a * &#39;b -&gt; UIO&lt;&#39;r,bool&gt;) -&gt; m:Schedule&lt;&#39;r,&#39;a0,&#39;a,&#39;b&gt; -&gt; Schedule&lt;&#39;r,&#39;a0,&#39;a,&#39;b&gt;<br /><br />Full name: 2019-03-29-io.Schedule.check</div>
<div class="tip" id="fs95">val test : (&#39;a * &#39;b -&gt; UIO&lt;&#39;r,bool&gt;)</div>
<div class="tip" id="fs96">val m : Schedule&lt;&#39;r,&#39;a,&#39;a0,&#39;b&gt;</div>
<div class="tip" id="fs97">val update : (&#39;a * &#39;a0 -&gt; UIO&lt;&#39;r,Decision&lt;&#39;a0,&#39;b&gt;&gt;)</div>
<div class="tip" id="fs98">val s : &#39;a</div>
<div class="tip" id="fs99">val cont : bool</div>
<div class="tip" id="fs100">val dur : int</div>
<div class="tip" id="fs101">val a1 : &#39;a</div>
<div class="tip" id="fs102">val fb : (unit -&gt; &#39;b)</div>
<div class="tip" id="fs103">val d : Decision&lt;&#39;a,&#39;b&gt;</div>
<div class="tip" id="fs104">val b : bool</div>
<div class="tip" id="fs105">val whileOutput : f:(&#39;b -&gt; bool) -&gt; m:Schedule&lt;&#39;a,&#39;b0,&#39;c,&#39;b&gt; -&gt; Schedule&lt;&#39;a,&#39;b0,&#39;c,&#39;b&gt;<br /><br />Full name: 2019-03-29-io.Schedule.whileOutput</div>
<div class="tip" id="fs106">val f : (&#39;b -&gt; bool)</div>
<div class="tip" id="fs107">val m : Schedule&lt;&#39;a,&#39;b,&#39;c,&#39;b0&gt;</div>
<div class="tip" id="fs108">val recurs : n:int -&gt; Schedule&lt;&#39;a,int,&#39;b,int&gt;<br /><br />Full name: 2019-03-29-io.Schedule.recurs</div>
<div class="tip" id="fs109">val n : int</div>
<div class="tip" id="fs110">val i : int</div>
<div class="tip" id="fs111">Multiple items<br />union case IO.IO: (&#39;r * Cancel -&gt; (Result&lt;&#39;a,&#39;e&gt; option -&gt; unit) -&gt; unit) -&gt; IO&lt;&#39;r,&#39;a,&#39;e&gt;<br /><br />--------------------<br />type IO&lt;&#39;r,&#39;a,&#39;e&gt; =<br />&#160;&#160;| IO of (&#39;r * Cancel -&gt; (Result&lt;&#39;a,&#39;e&gt; option -&gt; unit) -&gt; unit)<br />&#160;&#160;member Bind : f:(&#39;a -&gt; UIO&lt;&#39;r,&#39;b&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br />&#160;&#160;member Bind : f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br />&#160;&#160;member Bind : f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;) -&gt; IO&lt;&#39;r,&#39;b,Choice&lt;&#39;e,&#39;e2&gt;&gt;<br /><br />Full name: 2019-03-29-io.IO&lt;_,_,_&gt;</div>
<div class="tip" id="fs112">Multiple items<br />module Result<br /><br />from 2019-03-29-io<br /><br />--------------------<br />type Result&lt;&#39;a,&#39;e&gt; =<br />&#160;&#160;| Ok of &#39;a<br />&#160;&#160;| Error of &#39;e<br /><br />Full name: 2019-03-29-io.Result&lt;_,_&gt;</div>
<div class="tip" id="fs113">val m : IO&lt;&#39;r,&#39;a,&#39;e&gt;</div>
<div class="tip" id="fs114">member IO.Bind : f:(&#39;a -&gt; UIO&lt;&#39;r,&#39;b&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.IO`3.Bind</div>
<div class="tip" id="fs115">val run : (&#39;r * Cancel -&gt; (Result&lt;&#39;a,&#39;e&gt; option -&gt; unit) -&gt; unit)</div>
<div class="tip" id="fs116">val cont : (Result&lt;&#39;b,&#39;e&gt; option -&gt; unit)</div>
<div class="tip" id="fs117">val o : Result&lt;&#39;a,&#39;e&gt; option</div>
<div class="tip" id="fs118">val o : &#39;b option</div>
<div class="tip" id="fs119">val e : &#39;e</div>
<div class="tip" id="fs120">member IO.Bind : f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.IO`3.Bind</div>
<div class="tip" id="fs121">val f : (&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;)</div>
<div class="tip" id="fs122">val run : (&#39;r * Cancel -&gt; (Result&lt;&#39;b,&#39;e&gt; option -&gt; unit) -&gt; unit)</div>
<div class="tip" id="fs123">member IO.Bind : f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;) -&gt; IO&lt;&#39;r,&#39;b,Choice&lt;&#39;e,&#39;e2&gt;&gt;<br /><br />Full name: 2019-03-29-io.IO`3.Bind</div>
<div class="tip" id="fs124">val f : (&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;)</div>
<div class="tip" id="fs125">Multiple items<br />module Choice<br /><br />from 2019-03-29-io<br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2&gt; =<br />&#160;&#160;| Choice1Of2 of &#39;T1<br />&#160;&#160;| Choice2Of2 of &#39;T2<br /><br />Full name: Microsoft.FSharp.Core.Choice&lt;_,_&gt;<br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3&gt; =<br />&#160;&#160;| Choice1Of3 of &#39;T1<br />&#160;&#160;| Choice2Of3 of &#39;T2<br />&#160;&#160;| Choice3Of3 of &#39;T3<br /><br />Full name: Microsoft.FSharp.Core.Choice&lt;_,_,_&gt;<br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4&gt; =<br />&#160;&#160;| Choice1Of4 of &#39;T1<br />&#160;&#160;| Choice2Of4 of &#39;T2<br />&#160;&#160;| Choice3Of4 of &#39;T3<br />&#160;&#160;| Choice4Of4 of &#39;T4<br /><br />Full name: Microsoft.FSharp.Core.Choice&lt;_,_,_,_&gt;<br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5&gt; =<br />&#160;&#160;| Choice1Of5 of &#39;T1<br />&#160;&#160;| Choice2Of5 of &#39;T2<br />&#160;&#160;| Choice3Of5 of &#39;T3<br />&#160;&#160;| Choice4Of5 of &#39;T4<br />&#160;&#160;| Choice5Of5 of &#39;T5<br /><br />Full name: Microsoft.FSharp.Core.Choice&lt;_,_,_,_,_&gt;<br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6&gt; =<br />&#160;&#160;| Choice1Of6 of &#39;T1<br />&#160;&#160;| Choice2Of6 of &#39;T2<br />&#160;&#160;| Choice3Of6 of &#39;T3<br />&#160;&#160;| Choice4Of6 of &#39;T4<br />&#160;&#160;| Choice5Of6 of &#39;T5<br />&#160;&#160;| Choice6Of6 of &#39;T6<br /><br />Full name: Microsoft.FSharp.Core.Choice&lt;_,_,_,_,_,_&gt;<br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6,&#39;T7&gt; =<br />&#160;&#160;| Choice1Of7 of &#39;T1<br />&#160;&#160;| Choice2Of7 of &#39;T2<br />&#160;&#160;| Choice3Of7 of &#39;T3<br />&#160;&#160;| Choice4Of7 of &#39;T4<br />&#160;&#160;| Choice5Of7 of &#39;T5<br />&#160;&#160;| Choice6Of7 of &#39;T6<br />&#160;&#160;| Choice7Of7 of &#39;T7<br /><br />Full name: Microsoft.FSharp.Core.Choice&lt;_,_,_,_,_,_,_&gt;</div>
<div class="tip" id="fs126">val cont : (Result&lt;&#39;b,Choice&lt;&#39;e,&#39;e2&gt;&gt; option -&gt; unit)</div>
<div class="tip" id="fs127">val bind : (&#39;r * Cancel -&gt; (Result&lt;&#39;b,&#39;e2&gt; option -&gt; unit) -&gt; unit)</div>
<div class="tip" id="fs128">val o : Result&lt;&#39;b,&#39;e2&gt; option</div>
<div class="tip" id="fs129">val b : Result&lt;&#39;b,Choice&lt;&#39;e,&#39;e2&gt;&gt; option</div>
<div class="tip" id="fs130">member UIO.Bind : f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.UIO`2.Bind</div>
<div class="tip" id="fs131">val bind : (&#39;r * Cancel -&gt; (Result&lt;&#39;b,&#39;e&gt; option -&gt; unit) -&gt; unit)</div>
<div class="tip" id="fs132">val ok : a:&#39;a -&gt; IO&lt;&#39;r,&#39;a,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.IO.ok</div>
<div class="tip" id="fs133">val cont : (Result&lt;&#39;a,&#39;e&gt; option -&gt; unit)</div>
<div class="tip" id="fs134">val error : e:&#39;e -&gt; IO&lt;&#39;r,&#39;a,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.IO.error</div>
<div class="tip" id="fs135">val result : a:Result&lt;&#39;a,&#39;e&gt; -&gt; IO&lt;&#39;r,&#39;a,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.IO.result</div>
<div class="tip" id="fs136">val a : Result&lt;&#39;a,&#39;e&gt;</div>
<div class="tip" id="fs137">val effect : f:(&#39;r -&gt; Result&lt;&#39;a,&#39;e&gt;) -&gt; IO&lt;&#39;r,&#39;a,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.IO.effect</div>
<div class="tip" id="fs138">val f : (&#39;r -&gt; Result&lt;&#39;a,&#39;e&gt;)</div>
<div class="tip" id="fs139">val map : f:(&#39;a -&gt; &#39;b) -&gt; IO&lt;&#39;r,&#39;a,&#39;e&gt; -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.IO.map</div>
<div class="tip" id="fs140">val b : Result&lt;&#39;b,&#39;e&gt; option</div>
<div class="tip" id="fs141">val mapError : f:(&#39;e -&gt; &#39;e2) -&gt; IO&lt;&#39;r,&#39;a,&#39;e&gt; -&gt; IO&lt;&#39;r,&#39;a,&#39;e2&gt;<br /><br />Full name: 2019-03-29-io.IO.mapError</div>
<div class="tip" id="fs142">val f : (&#39;e -&gt; &#39;e2)</div>
<div class="tip" id="fs143">val cont : (Result&lt;&#39;a,&#39;e2&gt; option -&gt; unit)</div>
<div class="tip" id="fs144">val b : Result&lt;&#39;a,&#39;e2&gt; option</div>
<div class="tip" id="fs145">val mapResult : f:(Result&lt;&#39;a,&#39;e&gt; -&gt; Result&lt;&#39;b,&#39;e2&gt;) -&gt; IO&lt;&#39;r,&#39;a,&#39;e&gt; -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;<br /><br />Full name: 2019-03-29-io.IO.mapResult</div>
<div class="tip" id="fs146">val f : (Result&lt;&#39;a,&#39;e&gt; -&gt; Result&lt;&#39;b,&#39;e2&gt;)</div>
<div class="tip" id="fs147">val cont : (Result&lt;&#39;b,&#39;e2&gt; option -&gt; unit)</div>
<div class="tip" id="fs148">val b : Result&lt;&#39;b,&#39;e2&gt; option</div>
<div class="tip" id="fs149">val private foldM : succ:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;) -&gt; err:(&#39;e -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;) -&gt; IO&lt;&#39;r,&#39;a,&#39;e&gt; -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;<br /><br />Full name: 2019-03-29-io.IO.foldM</div>
<div class="tip" id="fs150">val succ : (&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;)</div>
<div class="tip" id="fs151">val err : (&#39;e -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;)</div>
<div class="tip" id="fs152">val run : (&#39;r * Cancel -&gt; (Result&lt;&#39;b,&#39;e2&gt; option -&gt; unit) -&gt; unit)</div>
<div class="tip" id="fs153">val private retryOrElse : Schedule&lt;&#39;r,&#39;s,&#39;e,&#39;a&gt; -&gt; orElse:(&#39;e * &#39;s -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;) -&gt; io:IO&lt;&#39;r,&#39;a0,&#39;e&gt; -&gt; IO&lt;&#39;r,Choice&lt;&#39;a0,&#39;b&gt;,&#39;e2&gt;<br /><br />Full name: 2019-03-29-io.IO.retryOrElse</div>
<div class="tip" id="fs154">Multiple items<br />union case Schedule.Schedule: initial: UIO&lt;&#39;r,&#39;s&gt; * update: &#39;a * &#39;s -&gt; UIO&lt;&#39;r,Decision&lt;&#39;s,&#39;b&gt;&gt; -&gt; Schedule&lt;&#39;r,&#39;s,&#39;a,&#39;b&gt;<br /><br />--------------------<br />module Schedule<br /><br />from 2019-03-29-io<br /><br />--------------------<br />type Schedule&lt;&#39;r,&#39;s,&#39;a,&#39;b&gt; = private | Schedule of initial: UIO&lt;&#39;r,&#39;s&gt; * update: &#39;a * &#39;s -&gt; UIO&lt;&#39;r,Decision&lt;&#39;s,&#39;b&gt;&gt;<br /><br />Full name: 2019-03-29-io.Schedule&lt;_,_,_,_&gt;</div>
<div class="tip" id="fs155">val initial : UIO&lt;&#39;r,&#39;s&gt;</div>
<div class="tip" id="fs156">val update : (&#39;e * &#39;s -&gt; UIO&lt;&#39;r,Decision&lt;&#39;s,&#39;a&gt;&gt;)</div>
<div class="tip" id="fs157">val orElse : (&#39;e * &#39;s -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;)</div>
<div class="tip" id="fs158">val io : IO&lt;&#39;r,&#39;a,&#39;e&gt;</div>
<div class="tip" id="fs159">val loop : (&#39;s -&gt; IO&lt;&#39;r,Choice&lt;&#39;a,&#39;b&gt;,&#39;e2&gt;)</div>
<div class="tip" id="fs160">val state : &#39;s</div>
<div class="tip" id="fs161">val u : UIO&lt;&#39;r,Decision&lt;&#39;s,&#39;a&gt;&gt;</div>
<div class="tip" id="fs162">member UIO.Bind : f:(&#39;a -&gt; UIO&lt;&#39;r,&#39;b&gt;) -&gt; UIO&lt;&#39;r,&#39;b&gt;<br />member UIO.Bind : f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;</div>
<div class="tip" id="fs163">val delay : int</div>
<div class="tip" id="fs164">val retry : policy:Schedule&lt;&#39;r,&#39;s,&#39;e,&#39;sb&gt; -&gt; io:IO&lt;&#39;r,&#39;a,&#39;e&gt; -&gt; IO&lt;&#39;r,&#39;a,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.IO.retry</div>
<div class="tip" id="fs165">val policy : Schedule&lt;&#39;r,&#39;s,&#39;e,&#39;sb&gt;</div>
<div class="tip" id="fs166">val fork : IO&lt;&#39;r,&#39;a,&#39;e&gt; -&gt; UIO&lt;&#39;r,IO&lt;&#39;r,&#39;a,&#39;e&gt;&gt;<br /><br />Full name: 2019-03-29-io.IO.fork</div>
<div class="tip" id="fs167">val contFork : (IO&lt;&#39;r,&#39;a,&#39;e&gt; option -&gt; unit)</div>
<div class="tip" id="fs168">val a : Result&lt;&#39;a,&#39;e&gt; option</div>
<div class="tip" id="fs169">val para : ios:IO&lt;&#39;r,&#39;a,&#39;e&gt; [] -&gt; IO&lt;&#39;r,&#39;a [],&#39;e&gt;<br /><br />Full name: 2019-03-29-io.IO.para</div>
<div class="tip" id="fs170">val ios : IO&lt;&#39;r,&#39;a,&#39;e&gt; []</div>
<div class="tip" id="fs171">val cont : (Result&lt;&#39;a [],&#39;e&gt; option -&gt; unit)</div>
<div class="tip" id="fs172">val envChild : &#39;r * Cancel</div>
<div class="tip" id="fs173">val results : &#39;a []</div>
<div class="tip" id="fs174">module Array<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs175">val zeroCreate : count:int -&gt; &#39;T []<br /><br />Full name: Microsoft.FSharp.Collections.Array.zeroCreate</div>
<div class="tip" id="fs176">property System.Array.Length: int</div>
<div class="tip" id="fs177">val mutable count : int</div>
<div class="tip" id="fs178">val iteri : action:(int -&gt; &#39;T -&gt; unit) -&gt; array:&#39;T [] -&gt; unit<br /><br />Full name: Microsoft.FSharp.Collections.Array.iteri</div>
<div class="tip" id="fs179">Interlocked.Decrement(location: byref&lt;int64&gt;) : int64<br />Interlocked.Decrement(location: byref&lt;int&gt;) : int</div>
<div class="tip" id="fs180">Interlocked.Exchange&lt;&#39;T (requires reference type)&gt;(location1: byref&lt;&#39;T&gt;, value: &#39;T) : &#39;T<br />Interlocked.Exchange(location1: byref&lt;nativeint&gt;, value: nativeint) : nativeint<br />Interlocked.Exchange(location1: byref&lt;obj&gt;, value: obj) : obj<br />Interlocked.Exchange(location1: byref&lt;float&gt;, value: float) : float<br />Interlocked.Exchange(location1: byref&lt;float32&gt;, value: float32) : float32<br />Interlocked.Exchange(location1: byref&lt;int64&gt;, value: int64) : int64<br />Interlocked.Exchange(location1: byref&lt;int&gt;, value: int) : int</div>
<div class="tip" id="fs181">val race : UIO&lt;&#39;a,&#39;a2&gt; -&gt; IO&lt;&#39;a,&#39;a1,&#39;e1&gt; -&gt; IO&lt;&#39;r,Choice&lt;&#39;a1,&#39;a2&gt;,&#39;e1&gt;<br /><br />Full name: 2019-03-29-io.IO.race</div>
<div class="tip" id="fs182">val run1 : (&#39;a * Cancel -&gt; (&#39;a2 option -&gt; unit) -&gt; unit)</div>
<div class="tip" id="fs183">val run2 : (&#39;a * Cancel -&gt; (Result&lt;&#39;a1,&#39;e1&gt; option -&gt; unit) -&gt; unit)</div>
<div class="tip" id="fs184">val cont : (Result&lt;Choice&lt;&#39;a1,&#39;a2&gt;,&#39;e1&gt; option -&gt; unit)</div>
<div class="tip" id="fs185">val envChild : &#39;a * Cancel</div>
<div class="tip" id="fs186">val mutable o : int</div>
<div class="tip" id="fs187">val a : &#39;a2 option</div>
<div class="tip" id="fs188">val a : Result&lt;&#39;a1,&#39;e1&gt; option</div>
<div class="tip" id="fs189">val timeout : milliseconds:int -&gt; io:IO&lt;&#39;r,&#39;a,&#39;e&gt; -&gt; IO&lt;&#39;r,&#39;a,&#39;e option&gt;<br /><br />Full name: 2019-03-29-io.IO.timeout</div>
<div class="tip" id="fs190">val cont : (Result&lt;&#39;a,&#39;e option&gt; option -&gt; unit)</div>
<div class="tip" id="fs191">val run : (&#39;r * Cancel -&gt; (Result&lt;Choice&lt;&#39;a,unit&gt;,&#39;e&gt; option -&gt; unit) -&gt; unit)</div>
<div class="tip" id="fs192">val o : Result&lt;Choice&lt;&#39;a,unit&gt;,&#39;e&gt; option</div>
<div class="tip" id="fs193">val toAsync : env:&#39;r -&gt; IO&lt;&#39;r,&#39;a,&#39;e&gt; -&gt; Async&lt;Result&lt;&#39;a,&#39;e&gt;&gt;<br /><br />Full name: 2019-03-29-io.IO.toAsync</div>
<div class="tip" id="fs194">val cont : (Result&lt;&#39;a,&#39;e&gt; -&gt; unit)</div>
<div class="tip" id="fs195">property Option.Value: Result&lt;&#39;a,&#39;e&gt;</div>
<div class="tip" id="fs196">Multiple items<br />type IOBuilder =<br />&#160;&#160;new : unit -&gt; IOBuilder<br />&#160;&#160;member Bind : io:UIO&lt;&#39;r,&#39;a&gt; * f:(&#39;a -&gt; UIO&lt;&#39;r,&#39;b&gt;) -&gt; UIO&lt;&#39;r,&#39;b&gt;<br />&#160;&#160;member Bind : io:IO&lt;&#39;r,&#39;a,&#39;e&gt; * f:(&#39;a -&gt; UIO&lt;&#39;r,&#39;b&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br />&#160;&#160;member Bind : io:UIO&lt;&#39;r,&#39;a&gt; * f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br />&#160;&#160;member Bind : io:IO&lt;&#39;r,&#39;a,&#39;e&gt; * f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br />&#160;&#160;member Bind : io:IO&lt;&#39;r,&#39;a,&#39;e1&gt; * f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;) -&gt; IO&lt;&#39;r,&#39;b,Choice&lt;&#39;e1,&#39;e2&gt;&gt;<br />&#160;&#160;member Return : value:&#39;b -&gt; UIO&lt;&#39;c,&#39;b&gt;<br />&#160;&#160;member ReturnFrom : value:&#39;a -&gt; &#39;a<br /><br />Full name: 2019-03-29-io.IOBuilder<br /><br />--------------------<br />new : unit -&gt; IOBuilder</div>
<div class="tip" id="fs197">member IOBuilder.Bind : io:UIO&lt;&#39;r,&#39;a&gt; * f:(&#39;a -&gt; UIO&lt;&#39;r,&#39;b&gt;) -&gt; UIO&lt;&#39;r,&#39;b&gt;<br /><br />Full name: 2019-03-29-io.IOBuilder.Bind</div>
<div class="tip" id="fs198">val io : UIO&lt;&#39;r,&#39;a&gt;</div>
<div class="tip" id="fs199">val __ : IOBuilder</div>
<div class="tip" id="fs200">member IOBuilder.Bind : io:IO&lt;&#39;r,&#39;a,&#39;e&gt; * f:(&#39;a -&gt; UIO&lt;&#39;r,&#39;b&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.IOBuilder.Bind</div>
<div class="tip" id="fs201">Multiple items<br />union case IO.IO: (&#39;r * Cancel -&gt; (Result&lt;&#39;a,&#39;e&gt; option -&gt; unit) -&gt; unit) -&gt; IO&lt;&#39;r,&#39;a,&#39;e&gt;<br /><br />--------------------<br />module IO<br /><br />from 2019-03-29-io<br /><br />--------------------<br />type IO&lt;&#39;r,&#39;a,&#39;e&gt; =<br />&#160;&#160;| IO of (&#39;r * Cancel -&gt; (Result&lt;&#39;a,&#39;e&gt; option -&gt; unit) -&gt; unit)<br />&#160;&#160;member Bind : f:(&#39;a -&gt; UIO&lt;&#39;r,&#39;b&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br />&#160;&#160;member Bind : f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br />&#160;&#160;member Bind : f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;) -&gt; IO&lt;&#39;r,&#39;b,Choice&lt;&#39;e,&#39;e2&gt;&gt;<br /><br />Full name: 2019-03-29-io.IO&lt;_,_,_&gt;</div>
<div class="tip" id="fs202">member IO.Bind : f:(&#39;a -&gt; UIO&lt;&#39;r,&#39;b&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br />member IO.Bind : f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br />member IO.Bind : f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;) -&gt; IO&lt;&#39;r,&#39;b,Choice&lt;&#39;e,&#39;e2&gt;&gt;</div>
<div class="tip" id="fs203">member IOBuilder.Bind : io:UIO&lt;&#39;r,&#39;a&gt; * f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.IOBuilder.Bind</div>
<div class="tip" id="fs204">member IOBuilder.Bind : io:IO&lt;&#39;r,&#39;a,&#39;e&gt; * f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;) -&gt; IO&lt;&#39;r,&#39;b,&#39;e&gt;<br /><br />Full name: 2019-03-29-io.IOBuilder.Bind</div>
<div class="tip" id="fs205">member IOBuilder.Bind : io:IO&lt;&#39;r,&#39;a,&#39;e1&gt; * f:(&#39;a -&gt; IO&lt;&#39;r,&#39;b,&#39;e2&gt;) -&gt; IO&lt;&#39;r,&#39;b,Choice&lt;&#39;e1,&#39;e2&gt;&gt;<br /><br />Full name: 2019-03-29-io.IOBuilder.Bind</div>
<div class="tip" id="fs206">val io : IO&lt;&#39;r,&#39;a,&#39;e1&gt;</div>
<div class="tip" id="fs207">member IOBuilder.Return : value:&#39;b -&gt; UIO&lt;&#39;c,&#39;b&gt;<br /><br />Full name: 2019-03-29-io.IOBuilder.Return</div>
<div class="tip" id="fs208">val value : &#39;b</div>
<div class="tip" id="fs209">member IOBuilder.ReturnFrom : value:&#39;a -&gt; &#39;a<br /><br />Full name: 2019-03-29-io.IOBuilder.ReturnFrom</div>
<div class="tip" id="fs210">val value : &#39;a</div>
<div class="tip" id="fs211">Multiple items<br />type AutoOpenAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; AutoOpenAttribute<br />&#160;&#160;new : path:string -&gt; AutoOpenAttribute<br />&#160;&#160;member Path : string<br /><br />Full name: Microsoft.FSharp.Core.AutoOpenAttribute<br /><br />--------------------<br />new : unit -&gt; AutoOpenAttribute<br />new : path:string -&gt; AutoOpenAttribute</div>
<div class="tip" id="fs212">val io : IOBuilder<br /><br />Full name: 2019-03-29-io.IOAutoOpen.io</div>
<div class="tip" id="fs213">Multiple items<br />union case ConsoleError.ConsoleError: ConsoleError<br /><br />--------------------<br />type ConsoleError = | ConsoleError<br /><br />Full name: 2019-03-29-io.ConsoleError</div>
<div class="tip" id="fs214">type ConsoleService =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member ReadLine : unit -&gt; Result&lt;string,ConsoleError&gt;<br />&#160;&#160;&#160;&#160;abstract member WriteLine : string -&gt; unit<br />&#160;&#160;end<br /><br />Full name: 2019-03-29-io.ConsoleService</div>
<div class="tip" id="fs215">abstract member ConsoleService.WriteLine : string -&gt; unit<br /><br />Full name: 2019-03-29-io.ConsoleService.WriteLine</div>
<div class="tip" id="fs216">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs217">abstract member ConsoleService.ReadLine : unit -&gt; Result&lt;string,ConsoleError&gt;<br /><br />Full name: 2019-03-29-io.ConsoleService.ReadLine</div>
<div class="tip" id="fs218">type Console =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member Console : ConsoleService<br />&#160;&#160;end<br /><br />Full name: 2019-03-29-io.Console</div>
<div class="tip" id="fs219">Multiple items<br />abstract member Console.Console : ConsoleService<br /><br />Full name: 2019-03-29-io.Console.Console<br /><br />--------------------<br />type Console =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member Console : ConsoleService<br />&#160;&#160;end<br /><br />Full name: 2019-03-29-io.Console</div>
<div class="tip" id="fs220">type LoggingService =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member Log : string -&gt; unit<br />&#160;&#160;end<br /><br />Full name: 2019-03-29-io.LoggingService</div>
<div class="tip" id="fs221">abstract member LoggingService.Log : string -&gt; unit<br /><br />Full name: 2019-03-29-io.LoggingService.Log</div>
<div class="tip" id="fs222">type Logger =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member Logging : LoggingService<br />&#160;&#160;end<br /><br />Full name: 2019-03-29-io.Logger</div>
<div class="tip" id="fs223">abstract member Logger.Logging : LoggingService<br /><br />Full name: 2019-03-29-io.Logger.Logging</div>
<div class="tip" id="fs224">val log : value:&#39;T -&gt; &#39;T (requires member Log)<br /><br />Full name: Microsoft.FSharp.Core.Operators.log</div>
<div class="tip" id="fs225">Multiple items<br />union case PersistError.PersistError: PersistError<br /><br />--------------------<br />type PersistError = | PersistError<br /><br />Full name: 2019-03-29-io.PersistError</div>
<div class="tip" id="fs226">type PersistenceService =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member Persist : &#39;a -&gt; Result&lt;unit,PersistError&gt;<br />&#160;&#160;end<br /><br />Full name: 2019-03-29-io.PersistenceService</div>
<div class="tip" id="fs227">abstract member PersistenceService.Persist : &#39;a -&gt; Result&lt;unit,PersistError&gt;<br /><br />Full name: 2019-03-29-io.PersistenceService.Persist</div>
<div class="tip" id="fs228">type Persistence =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member Persistence : PersistenceService<br />&#160;&#160;end<br /><br />Full name: 2019-03-29-io.Persistence</div>
<div class="tip" id="fs229">Multiple items<br />abstract member Persistence.Persistence : PersistenceService<br /><br />Full name: 2019-03-29-io.Persistence.Persistence<br /><br />--------------------<br />type Persistence =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member Persistence : PersistenceService<br />&#160;&#160;end<br /><br />Full name: 2019-03-29-io.Persistence</div>
<div class="tip" id="fs230">val programRetry : noRetry:int -&gt; &#39;a<br /><br />Full name: 2019-03-29-io.programRetry</div>
<div class="tip" id="fs231">val noRetry : int</div>
<div class="tip" id="fs232">val name : &#39;a</div>
<div class="tip" id="fs233">val thread : IO&lt;&#39;a,unit,&#39;b option&gt;</div>
